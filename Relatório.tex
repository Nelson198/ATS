% Setup -------------------------------

\documentclass[a4paper]{report}
\usepackage[a4paper, total={6in, 10in}]{geometry}
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}

% Encoding
%--------------------------------------
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
%--------------------------------------

% Portuguese-specific commands
%--------------------------------------
\usepackage[portuguese]{babel}
%--------------------------------------

% Hyphenation rules
%--------------------------------------
\usepackage{hyphenat}
%--------------------------------------

% Capa do relatório

\title{
	Análise e Teste de Software
	\\ \Large{\textbf{Trabalho Prático}}
	\\ -
	\\ Mestrado em Engenharia Informática
	\\ \large{Universidade do Minho}
	\\ Relatório
}
\author{
	\begin{tabular}{ll}
		\textbf{Grupo nº3}
		\\\hline
		PG41091 & Nelson José Dias Teixeira
		\\
		PG41081 & José Alberto Martins Boticas
		\\
		PG41094 & Pedro Rafael Paiva Moura
		\\
		A80499  & Moisés Manuel Borba Roriz Ramires
	\end{tabular}
}

\date{\today}

\begin{document}

\begin{titlepage}
    \maketitle
\end{titlepage}

% Resumo

\begin{abstract}
	No ano lectivo 2018/2019, no contexto da disciplina de Programação Orientada a Objectos
	(POO) leccionada no Departamento de Informática da Universidade do Minho, os alunos
	tiveram de desenvolver em grupo uma aplicação Java, denominada por  \textit{UmCarroJá}, para gerir um serviço de aluguer de
	veículos particulares pela internet.\,\,No contexto da disciplina de Análise e Teste de Software (ATS) pretende-se que neste projeto se apliquem técnicas de análise e teste de software, estudadas nas aulas, de modo a analisar a qualidade de duas das soluções desenvolvidas pelos alunos de POO.
\end{abstract}

% Índice

\tableofcontents

% Introdução

\chapter{Introdução} \label{intro}
\large{
    Neste projeto foi-nos proposto a realização de várias tarefas de forma a analisar a qualidade das duas soluções desenvolvidas pelos alunos de POO no ano lectivo de 2018/2019. Entre estas tarefas destacam-se as seguintes:
    \begin{enumerate}
        \item Analisar a qualidade do código fonte dos sistemas de \textit{software}. Nesta análise identificam-se \textit{bad smells} no código fonte e o seu \textit{technical debt};
        \item Aplicar \textit{refactorings} de modo a eliminar os \textit{bad smells} encontrados e deste modo reduzir (se possível eliminar) o \textit{technical debt};
        \item Testar o \textit{software} de modo a ter mais garantias que ele cumpre os requisitos do enunciado da aplicação \textit{UmCarroJá};
        \item Gerar \textit{inputs} aleatórios para a aplicação \textit{UmCarroJá} que simulem execuções reais (tal como foi fornecido em POO);
        \item Analisar a performance (tempo de execução e consumo de energia) das versões iniciais do \textit{software} (i.e., com \textit{smells}) e as obtidas depois de eliminados os \textit{smells}.
    \end{enumerate}
    Os cinco pontos mencionados acima foram agrupados em quatro tarefas finais, cada uma das quais com uma percentagem na avaliação final do trabalho prático. As abordagens tomadas pelo grupo sobre cada uma destas tarefas serão expostas nos capítulos seguintes deste relatório.
    De salientar que também existem tarefas extras que complementam cada uma das tarefas referidas anteriormente.
}

\chapter{Análise e Especificação}
\section{Tarefa 1 - Qualidade do código fonte}
Nesta etapa, tal como o nome indica, será feita a análise da qualidade do código fonte da aplicação \textit{UmCarroJá} desenvolvido pelos alunos de POO. Como tal, através da ferramenta \underline{\textit{Sonarqube}}, serão indicados o número de erros no código (\textit{bugs}), vulnerabilidades, \textit{code smells} e o respetivo \textit{technical debt}. Para além destas, existe uma \textbf{tarefa extra} que consiste em definir regras adicionais na ferramenta \textit{Sonarqube} para encontrar \textit{red smells} (ou qualquer outro \textit{smell} não suportado pelo mesmo) na aplicação desenvolvida.

\subsection{Versão 1 - \textit{demo1}}
Na primeira versão desenvolvida pelos alunos de POO, \textit{demo1}, foi possível observar alguns erros no código fonte e bastantes \textit{code smells}. Apresenta-se de seguida, por categorias, a análise qualitativa desta mesma implementação.

\subsubsection{Fiabilidade}
Nesta secção da análise qualitativa da aplicação desenvolvida observam-se e identificam-se unicamente os erros (\textit{bugs}) presentes no código fonte.
Como tal, após verificar a informação existente na ferramenta \textit{Sonarqube}, os elementos deste grupo depararam-se, essencialmente, com quatro tipos de erros. Entre eles destacam-se:

\begin{enumerate}
    \item a implementação do método \textit{equals()} numa determinada classe sobrepõe a predefinida, pelo que também deve ser codificado o método \textit{hashCode()};
    \item o método \textit{equals()} presente numa determinada classe necessita de ser sobreposto à implementação predefinida ou, simplesmente, renomeado;
    \item o objeto \textit{Random} presente numa determinada classe deve ser reutilizado;
    \item o objeto \textit{ObjectOutputStream} deve ser fechado através de uma clausula \textit{try-catch-finally}.
\end{enumerate}

Na totalidade existem cerca de catorze erros no código fonte. Quanto à severidade destes erros, existem dois de tipo \textit{blocker}, dois de tipo \textit{critical}, um de tipo \textit{major} e 9 de tipo \textit{minor}.
\par De salientar que, apesar da existência de alguns erros presentes nesta implementação, estes são facilmente corrigíveis.

\subsubsection{Segurança}
Ao nível da segurança, esta implementação apresenta apenas uma vulnerabilidade cujo grau de severidade é do tipo \textit{minor}. A ferramenta \textit{Sonarqube}, por forma a eliminar esta mesma, sugere encapsular a amostragem de um determinado erro através de um objeto \textit{LOGGER}.

\subsubsection{Manutenção}

\subsubsection{Cobertura}

\subsubsection{Duplicação de código}

\subsection{Versão 2 - \textit{demo2}}

\subsubsection{Fiabilidade}
Nesta secção da análise qualitativa da aplicação desenvolvida observam-se os erros no código fonte.

\subsubsection{Segurança}

\subsubsection{Manutenção}

\subsubsection{Cobertura}

\subsubsection{Duplicação de código}

\section{Tarefa 2 - \textit{Refactoring}}
\subsection{Versão 1 - \textit{demo1}}
\subsection{Versão 2 - \textit{demo2}}

\section{Tarefa 3 - Teste da aplicação}
\subsection{Versão 1 - \textit{demo1}}
\subsection{Versão 2 - \textit{demo2}}

\section{Tarefa 4 - Análise de desempenho}
\subsection{Versão 1 - \textit{demo1}}
\subsection{Versão 2 - \textit{demo2}}

\chapter{Conclusão}

\appendix
\chapter{Observações}
Durante a análise da primeira tarefa associada a este trabalho prático observaram-se, na ferramenta \textit{\textbf{Sonarqube}}, variados tipos de severidade de erros. Como tal, apresentam-se de seguida, de forma mais detalhada, os mesmos:
\begin{itemize}
    \item \textbf{\textit{blocker}}:
    \\ Erro com alta probabilidade de afetar o comportamento da aplicação em produção. O código deve ser corrigido imediatamente.
    \item \textbf{\textit{critical}}:
    \\ Erro com baixa probabilidade de afetar o comportamento da aplicação em produção ou um problema que representa uma falha de segurança. O código deve ser examinado imediatamente.
    \item \textbf{\textit{major}}:
    \\ Falha que afeta a qualidade do código e que pode ter um impacto significativo na produtividade do programador: blocos duplicados, parâmetros não utilizados, entre outros.
    \item \textbf{\textit{minor}}:
    \\ Falha que afeta a qualidade do código e que pode ter um impacto minorativo na produtividade do programador: linhas de código longas, entre outros.
\end{itemize}

\end{document}