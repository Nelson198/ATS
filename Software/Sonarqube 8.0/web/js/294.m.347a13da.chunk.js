(window.webpackJsonp=window.webpackJsonp||[]).push([[294],{1690:function(e,t,n){var r=n(1691);"string"==typeof r&&(r=[[e.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(313)(r,s);r.locals&&(e.exports=r.locals)},1691:function(e,t,n){(e.exports=n(312)(!1)).push([e.i,".system-info-health-title{margin-top:24px;margin-bottom:16px}.system-info-health-info{margin-top:-12px}.system-info-copy-paste-id-info{max-width:550px;padding:8px 16px;clear:both;line-height:1.8}.system-info-health-info .status-indicator{position:relative;top:8px}.system-info-health-info.no-margin .status-indicator{margin:0}.system-info-section~.system-info-section{margin-top:16px}.system-info-section-item-name{width:25vw;overflow:hidden;text-overflow:ellipsis}.system-upgrade-version{padding:8px}.system-upgrade-version~.system-upgrade-version{margin-top:10px;padding-top:18px;border-top:1px solid #e6e6e6}.system-upgrade-intermediate{padding:6px 10px}",""])},1692:function(e,t,n){e.exports=n(813)},1693:function(e,t,n){var r=n(1694);"string"==typeof r&&(r=[[e.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(313)(r,s);r.locals&&(e.exports=r.locals)},1694:function(e,t,n){(e.exports=n(312)(!1)).push([e.i,'.status-indicator{display:inline-block;box-sizing:border-box;width:16px;height:16px;border-radius:16px;margin:4px}.status-indicator.small-status-indicator{width:8px;height:8px;border-radius:8px;margin:8px}.status-indicator.big-status-indicator{width:24px;height:24px;border-radius:24px;margin:0}.status-indicator.red{position:relative;z-index:2;background-color:#d4333f}.status-indicator.red:after{position:absolute;z-index:3;display:block;width:6px;height:2px;top:3px;left:1px;background-color:#fff;content:""}.status-indicator.yellow{background-color:#eabe06}.status-indicator.green{background-color:#0a0}.status-indicator.orange{background-color:#ed7d20}.status-indicator.gray{background-color:#b4b4b4}',""])},1772:function(e,t,n){"use strict";n.r(t);var r=n(2),s=n(325),a=n.n(s),o=n(28),l=n(5),i=n(517),c=n(330),u=(n(1690),n(324)),m=n.n(u),p=n(788),d=n.n(p),h=n(787),f=n.n(h),g=n(436),y=n.n(g),b=n(497),v=n.n(b),E=n(395),_=n.n(E),O=n(1692),C=n.n(O),S=n(318),j=n(410);const N=["INFO","DEBUG","TRACE"],x=N[0],w="Application Nodes",k="Compute Engine",L="Compute Engine Logging",P="High Availability",D="Health Causes",I="Health",U="Logs Level",F="Name",M="ncloc",B="Plugins",A="Search Nodes",W="Search",q="Server ID",H="Settings",R="State",z="Statistics",T="System",J="Version",Q="Web Logging",V="Web";function G(e){return y()(e,[I,D,F,B,H,q,J])}function Y(e){return e[I]}function K(e){return e[D]}function X(e){if(void 0!==e){if(function(e){return void 0!==e[U]}(e))return e[U];if(function(e){return Boolean(e[Q]||e[L])}(e))return m()([X(e[Q]),X(e[L])],e=>N.indexOf(e))[1]}return x}function Z(e){return e[w]}function $(e){return e[T]&&!0===e[T][P]}function ee(e){return e&&e[T][q]}function te(e){return e&&e[T][J]}function ne(e){const t=Z(e);return t.length>0?t[0][T][J]:void 0}function re(e){if($(e)){const t=m()(Z(e).map(X),e=>N.indexOf(e));return t.length>0?t[t.length-1]:x}return X(e)}function se(e){return e[F]}function ae(e){const t={},n=e[z];return n&&(t["Lines of Code"]=Object(S.formatMeasure)(n[M],"INT")),Object.assign({},e[T],t)}function oe(e){return Object.assign({},ae(e),y()(e,[w,B,A,H,z,T]))}function le(e){return Object.assign({},ae(e),f()(e,(e,t)=>null==e||[B,H,z,T].includes(t)||t.startsWith(k)||t.startsWith(W)||t.startsWith(V)))}function ie(e){const t=new Date;return"".concat(e?e+"-":"")+"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-")+"".concat(t.getDate(),"-").concat(t.getHours(),"-").concat(t.getMinutes())}const ce=v()(e=>({expandedCards:Object(j.parseAsArray)(e.expand,j.parseAsString)})),ue=v()(e=>Object(j.cleanQuery)({expand:Object(j.serializeStringArray)(e.expandedCards)}));function me(e){return m()(e,[e=>-Number(e.version.split(".")[0]),e=>-Number(e.version.split(".")[1]||0),e=>-Number(e.version.split(".")[2]||0)])}function pe(e){const t=_()(e,e=>e.version.split(".")[0]);return m()(Object.keys(t),e=>-Number(e)).map(e=>t[e])}var de=n(354),he=n.n(de),fe=n(702),ge=n.n(fe),ye=n(326),be=n(309),ve=n(314),Ee=n.n(ve);n(1693);function _e(e){let t=e.className,n=e.color,s=e.size;return r.createElement("i",{className:be("status-indicator",n,{"small-status-indicator":"small"===s,"big-status-indicator":"big"===s},t)})}function Oe(e){let t=e.className,n=e.health,s=e.healthCause;return r.createElement(ye.Alert,{className:be("boxed-group-accordion-alert",t),display:"inline",variant:"RED"===n?"error":"warning"},s)}function Ce(e){let t=e.biggerHealth,n=e.className,s=e.name,a=e.health,o=e.healthCauses;const i=o&&o.length>0&&"GREEN"!==a,c=r.createElement(_e,{color:a.toLowerCase(),size:t?"big":void 0});return r.createElement("div",{className:be("system-info-health-info",n)},i&&o.map((e,t)=>r.createElement(Oe,{className:"spacer-right",health:a,healthCause:e,key:t})),s?r.createElement(Ee.a,{overlay:Object(l.translateWithParameters)("system.current_health_of_x",s)},r.createElement("span",null,c)):c)}var Se=n(496),je=n.n(Se),Ne=n(457),xe=n.n(Ne);function we(e){let t=e.name,n=e.value;if(t===I||t===R)return r.createElement(Ce,{className:"no-margin",health:n});if(n instanceof Array)return r.createElement("code",null,JSON.stringify(n));switch(typeof n){case"boolean":return r.createElement(ke,{value:n});case"object":return r.createElement(Le,{value:n});default:return r.createElement("code",null,n)}}function ke(e){return e.value?r.createElement(xe.a,null):r.createElement(je.a,null)}function Le(e){let t=e.value;return r.createElement("table",{className:"data"},r.createElement("tbody",null,he()(t,(e,t)=>r.createElement("tr",{key:t},r.createElement("td",{className:"thin nowrap"},t),r.createElement("td",null,r.createElement(we,{name:t,value:e}))))))}function Pe(e){let t=e.name,n=e.items;return r.createElement("div",{className:"system-info-section"},t&&r.createElement("h4",{className:"spacer-bottom"},t),r.createElement("table",{className:"data zebra",id:t},r.createElement("tbody",null,he()(n,(e,t)=>r.createElement("tr",{key:t},r.createElement("td",{className:"thin"},r.createElement("div",{className:"system-info-section-item-name"},t)),r.createElement("td",{style:{wordBreak:"break-all"}},r.createElement(we,{name:t,value:e})))))))}function De(e){let t=e.biggerHealth,n=e.health,s=e.healthCauses,a=e.onClick,o=e.open,i=e.name,c=e.sysInfoData;const u=function(e){const t={},n={};return C()(e,(e,r)=>{"object"!=typeof e||e instanceof Array?t[r]=e:n[r]=e}),{mainSection:t,sections:n}}(c),m=u.mainSection,p=u.sections,d=o&&m&&Object.keys(m).length>0,h=o&&p,f=X(c),g=f&&f!==N[0];return r.createElement(ge.a,{data:i,onClick:a,open:o,renderHeader:()=>r.createElement(r.Fragment,null,g&&r.createElement(ye.Alert,{className:"boxed-group-accordion-alert spacer-left",display:"inline",variant:"warning"},Object(l.translate)("system.log_level.warning.short")),n&&r.createElement(Ce,{biggerHealth:t,className:"pull-right",health:n,healthCauses:s,name:i})),title:i},d&&r.createElement(Pe,{items:m}),h&&he()(p,(e,t)=>r.createElement(Pe,{items:e,key:t,name:t})))}function Ie(e){let t=e.expandedCards,n=e.sysInfoData,s=e.toggleCard;return r.createElement(r.Fragment,null,r.createElement(De,{biggerHealth:!0,health:Y(n),healthCauses:K(n),name:"System",onClick:s,open:t.includes("System"),sysInfoData:G(oe(n))}),r.createElement("li",{className:"note system-info-health-title"},Object(l.translate)("system.application_nodes_title")),m()(Z(n),se).map(e=>r.createElement(De,{health:Y(e),healthCauses:K(e),key:se(e),name:se(e),onClick:s,open:t.includes(se(e)),sysInfoData:G(e)})),r.createElement("li",{className:"note system-info-health-title"},Object(l.translate)("system.search_nodes_title")),m()(function(e){return e[A]}(n),se).map(e=>r.createElement(De,{key:se(e),name:se(e),onClick:s,open:t.includes(se(e)),sysInfoData:G(e)})))}var Ue=n(501),Fe=n(29),Me=n(310),Be=n(328),Ae=n.n(Be),We=n(333),qe=n.n(We),He=n(322),Re=n(699),ze=n(858),Te=n(327),Je=n.n(Te);class Qe extends r.PureComponent{constructor(e){super(e),this.handleFormSubmit=e=>{e.preventDefault();const t=this.state.newLevel;this.state.updating||(this.setState({updating:!0}),Object(i.g)(t).then(()=>this.props.onChange(t),()=>this.setState({updating:!1})))},this.handleLevelChange=e=>this.setState({newLevel:e.currentTarget.value}),this.state={newLevel:e.logLevel,updating:!1}}render(){const e=this.state,t=e.updating,n=e.newLevel,s=Object(l.translate)("system.set_log_level");return r.createElement(Je.a,{contentLabel:s,onRequestClose:this.props.onClose},r.createElement("form",{id:"set-log-level-form",onSubmit:this.handleFormSubmit},r.createElement("div",{className:"modal-head"},r.createElement("h2",null,s)),r.createElement("div",{className:"modal-body"},N.map(e=>r.createElement("p",{className:"spacer-bottom",key:e},r.createElement("input",{checked:e===n,className:"spacer-right text-middle",id:"loglevel-".concat(e),name:"system.log_levels",onChange:this.handleLevelChange,type:"radio",value:e}),r.createElement("label",{className:"text-middle",htmlFor:"loglevel-".concat(e)},e))),r.createElement(ye.Alert,{className:"spacer-top",variant:"info"},this.props.infoMsg),"INFO"!==n&&r.createElement(ye.Alert,{className:"spacer-top",variant:"warning"},Object(l.translate)("system.log_level.warning"))),r.createElement("div",{className:"modal-foot"},t&&r.createElement("i",{className:"spinner spacer-right"}),r.createElement(Me.SubmitButton,{disabled:t,id:"set-log-level-submit"},Object(l.translate)("save")),r.createElement(Me.ResetButtonLink,{id:"set-log-level-cancel",onClick:this.props.onClose},Object(l.translate)("cancel")))))}}class Ve extends r.PureComponent{constructor(e){super(e),this.handleLogsLevelOpen=()=>{this.setState({openLogsLevelForm:!0})},this.handleLogsLevelChange=e=>{this.setState({logLevel:e}),this.props.onLogLevelChange(),this.handleLogsLevelClose()},this.handleLogsLevelClose=()=>{this.setState({openLogsLevelForm:!1})},this.removeElementFocus=e=>{e.currentTarget.blur()},this.state={logLevel:e.logLevel,openLogsLevelForm:!1}}componentWillReceiveProps(e){e.logLevel!==this.state.logLevel&&this.setState({logLevel:e.logLevel})}render(){const e=Object(He.getBaseUrl)()+"/api/system/info",t=Object(He.getBaseUrl)()+"/api/system/logs";return r.createElement("div",{className:"page-actions"},r.createElement("span",null,r.createElement("span",{className:"text-middle"},Object(l.translate)("system.logs_level"),":",r.createElement("strong",{className:"little-spacer-left"},this.state.logLevel)),r.createElement(Me.EditButton,{className:"spacer-left button-small",id:"edit-logs-level-button",onClick:this.handleLogsLevelOpen})),this.props.canDownloadLogs&&r.createElement(Ae.a,{className:"display-inline-block spacer-left",overlay:r.createElement("ul",{className:"menu"},r.createElement("li",null,r.createElement("a",{download:"sonarqube_app.log",href:t+"?process=app",id:"logs-link",rel:"noopener noreferrer",target:"_blank"},"Main Process")),r.createElement("li",null,r.createElement("a",{download:"sonarqube_ce.log",href:t+"?process=ce",id:"ce-logs-link",rel:"noopener noreferrer",target:"_blank"},"Compute Engine")),r.createElement("li",null,r.createElement("a",{download:"sonarqube_es.log",href:t+"?process=es",id:"es-logs-link",rel:"noopener noreferrer",target:"_blank"},"Search Engine")),r.createElement("li",null,r.createElement("a",{download:"sonarqube_web.log",href:t+"?process=web",id:"web-logs-link",rel:"noopener noreferrer",target:"_blank"},"Web Server")))},r.createElement(Me.Button,null,Object(l.translate)("system.download_logs"),r.createElement(qe.a,{className:"little-spacer-left"}))),r.createElement("a",{className:"button spacer-left",download:"sonarqube-support-info-".concat(ie(this.props.serverId),".json"),href:e,id:"download-link",onClick:this.removeElementFocus,rel:"noopener noreferrer",target:"_blank"},Object(l.translate)("system.download_system_info")),this.props.canRestart&&r.createElement(Re.a.Consumer,null,e=>{let t=e.fetchSystemStatus,n=e.systemStatus;return r.createElement(ze.a,{className:"spacer-left",fetchSystemStatus:t,systemStatus:n})}),this.state.openLogsLevelForm&&r.createElement(Qe,{infoMsg:Object(l.translate)(this.props.cluster?"system.cluster_log_level.info":"system.log_level.info"),logLevel:this.state.logLevel,onChange:this.handleLogsLevelChange,onClose:this.handleLogsLevelClose}))}}function Ge(e){const t=e.isCluster,n=e.loading,s=e.logLevel,a=e.serverId,o=e.showActions,i=e.version;return r.createElement("header",{className:"page-header"},r.createElement("h1",{className:"page-title"},Object(l.translate)("system_info.page")),o&&r.createElement(Ve,{canDownloadLogs:!t,canRestart:!t,cluster:t,logLevel:s,onLogLevelChange:e.onLogLevelChange,serverId:a}),n&&r.createElement("div",{className:"page-actions"},r.createElement("i",{className:"spinner"})),a&&i&&r.createElement("div",{className:"system-info-copy-paste-id-info boxed-group display-flex-center"},r.createElement("div",{className:"flex-1"},r.createElement("table",{className:"width-100"},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("th",null,r.createElement("strong",null,Object(l.translate)("system.server_id"))),r.createElement("td",null,a)),r.createElement("tr",null,r.createElement("th",null,r.createElement("strong",null,Object(l.translate)("system.version"))),r.createElement("td",null,i))))),r.createElement(Ue.ClipboardButton,{className:"flex-0",copyValue:"SonarQube ID information\nServer ID: ".concat(a,"\nVersion: ").concat(i,"\nDate: ").concat(Object(Fe.toShortNotSoISOString)(Date.now()),"\n")},Object(l.translate)("system.copy_id_info"))))}function Ye(e){let t=e.expandedCards,n=e.sysInfoData,s=e.toggleCard;return r.createElement(r.Fragment,null,r.createElement(De,{biggerHealth:!0,health:Y(n),healthCauses:K(n),name:"System",onClick:s,open:t.includes("System"),sysInfoData:G(le(n))}),he()(function(e){return{Web:d()(e,(e,t)=>t.startsWith(V)),"Compute Engine":d()(e,(e,t)=>t.startsWith(k)),"Search Engine":d()(e,(e,t)=>t.startsWith(W))}}(n),(e,n)=>r.createElement(De,{key:n,name:n,onClick:s,open:t.includes(n),sysInfoData:G(e)})))}var Ke=n(304),Xe=n(342);class Ze extends r.PureComponent{constructor(){super(...arguments),this.state={showMore:!1},this.toggleIntermediatVersions=()=>{this.setState(e=>({showMore:!e.showMore}))}}render(){const e=this.state.showMore,t=this.props.upgrades;return t.length<=0?null:r.createElement("div",{className:this.props.className},r.createElement(Me.ButtonLink,{className:"little-spacer-bottom",onClick:this.toggleIntermediatVersions},e?Object(l.translate)("system.hide_intermediate_versions"):Object(l.translate)("system.show_intermediate_versions"),r.createElement(qe.a,{className:"little-spacer-left",turned:e})),e&&t.map(e=>r.createElement("div",{className:"note system-upgrade-intermediate",key:e.version},r.createElement(Xe.a,{date:e.releaseDate,long:!0},t=>r.createElement("p",null,r.createElement("b",{className:"little-spacer-right"},"SonarQube ",e.version),t,e.changeLogUrl&&r.createElement("a",{className:"spacer-left",href:e.changeLogUrl,rel:"noopener noreferrer",target:"_blank"},Object(l.translate)("system.release_notes")))),r.createElement("p",{className:"little-spacer-top"},e.description))))}}function $e(e){let t=e.type,n=e.systemUpgrades;const s=n[0];return r.createElement("div",{className:"system-upgrade-version"},t&&r.createElement("h1",{className:"spacer-bottom"},r.createElement("strong",null,t)),r.createElement("p",null,r.createElement(Ke.FormattedMessage,{defaultMessage:Object(l.translate)("system.version_is_availble"),id:"system.version_is_availble",values:{version:r.createElement("b",null,"SonarQube ",s.version)}})),r.createElement("p",{className:"spacer-top"},s.description),r.createElement("div",{className:"big-spacer-top"},r.createElement(Xe.a,{date:s.releaseDate,long:!0},e=>r.createElement("span",null,Object(l.translateWithParameters)("system.released_x",e))),s.changeLogUrl&&r.createElement("a",{className:"spacer-left",href:s.changeLogUrl,rel:"noopener noreferrer",target:"_blank"},Object(l.translate)("system.release_notes"))),r.createElement(Ze,{className:"spacer-top",upgrades:n.slice(1)}),r.createElement("div",{className:"big-spacer-top"},r.createElement("a",{className:"button",download:"sonarqube-".concat(s.version,".zip"),href:s.downloadUrl,target:"blank"},Object(l.translateWithParameters)("system.download_x",s.version)),r.createElement("a",{className:"spacer-left",href:"https://redirect.sonarsource.com/doc/upgrading.html",target:"_blank"},Object(l.translate)("system.how_to_upgrade"))))}class et extends r.PureComponent{constructor(){super(...arguments),this.state={upgrading:!1}}render(){const e=this.state.upgrading,t=this.props.systemUpgrades,n=Object(l.translate)("system.system_upgrade");return r.createElement(Je.a,{contentLabel:n,onRequestClose:this.props.onClose},r.createElement("div",{className:"modal-head"},r.createElement("h2",null,n)),r.createElement("div",{className:"modal-body"},t.map((e,t)=>r.createElement($e,{key:e[e.length-1].version,systemUpgrades:e,type:0===t?Object(l.translate)("system.latest_version"):Object(l.translate)("system.lts_version")}))),r.createElement("div",{className:"modal-foot"},e&&r.createElement("i",{className:"spinner spacer-right"}),r.createElement("a",{className:"pull-left",href:"https://www.sonarqube.org/downloads/",rel:"noopener noreferrer",target:"_blank"},Object(l.translate)("system.see_sonarqube_downloads")),r.createElement(Me.ResetButtonLink,{onClick:this.props.onClose},Object(l.translate)("cancel"))))}}class tt extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={openSystemUpgradeForm:!1,systemUpgrades:[]},this.fetchSystemUpgrade=()=>Object(i.d)().then(e=>{let t=e.upgrades;this.mounted&&this.setState({systemUpgrades:pe(me(t))})},()=>{}),this.handleOpenSystemUpgradeForm=()=>{this.setState({openSystemUpgradeForm:!0})},this.handleCloseSystemUpgradeForm=()=>{this.setState({openSystemUpgradeForm:!1})}}componentDidMount(){this.mounted=!0,this.fetchSystemUpgrade()}componentWillUnmount(){this.mounted=!1}render(){const e=this.state.systemUpgrades;return e.length<=0?null:r.createElement("div",{className:"page-notifs"},r.createElement(ye.Alert,{variant:"info"},Object(l.translate)("system.new_version_available"),r.createElement(Me.Button,{className:"spacer-left",onClick:this.handleOpenSystemUpgradeForm},Object(l.translate)("learn_more"))),this.state.openSystemUpgradeForm&&r.createElement(et,{onClose:this.handleCloseSystemUpgradeForm,systemUpgrades:e}))}}t.default=Object(o.withRouter)(class extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!0},this.fetchSysInfo=()=>{this.setState({loading:!0}),Object(i.b)().then(e=>{this.mounted&&this.setState({loading:!1,sysInfoData:e})},()=>{this.mounted&&this.setState({loading:!1})})},this.toggleSysInfoCards=e=>{const t=ce(this.props.location.query);let n;n=t.expandedCards.includes(e)?t.expandedCards.filter(t=>t!==e):t.expandedCards.concat(e),this.updateQuery({expandedCards:n})},this.updateQuery=e=>{const t=ue(Object.assign({},ce(this.props.location.query),e));this.props.router.replace({pathname:this.props.location.pathname,query:t})}}componentDidMount(){this.mounted=!0,this.fetchSysInfo()}componentWillUnmount(){this.mounted=!1}renderSysInfo(){const e=this.state.sysInfoData;if(!e)return null;const t=ce(this.props.location.query);return $(e)?r.createElement(Ie,{expandedCards:t.expandedCards,sysInfoData:e,toggleCard:this.toggleSysInfoCards}):r.createElement(Ye,{expandedCards:t.expandedCards,sysInfoData:e,toggleCard:this.toggleSysInfoCards})}render(){const e=this.state,t=e.loading,n=e.sysInfoData;return r.createElement("div",{className:"page page-limited"},r.createElement(c.a,{suggestions:"system_info"}),r.createElement(a.a,{title:Object(l.translate)("system_info.page")}),r.createElement(tt,null),n&&r.createElement(Ge,{isCluster:$(n),loading:t,logLevel:re(n),onLogLevelChange:this.fetchSysInfo,serverId:ee(n),showActions:void 0!==n,version:$(n)?ne(n):te(n)}),this.renderSysInfo())}})},330:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2),s=n(349);function a(e){let t=e.suggestions;return r.createElement(s.a.Consumer,null,e=>{let n=e.addSuggestions,s=e.removeSuggestions;return r.createElement(o,{addSuggestions:n,removeSuggestions:s,suggestions:t})})}class o extends r.PureComponent{componentDidMount(){this.props.addSuggestions(this.props.suggestions)}componentDidUpdate(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))}componentWillUnmount(){this.props.removeSuggestions(this.props.suggestions)}render(){return null}}},332:function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),i=n(327),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={submitting:!1},t.stopSubmitting=function(){t.mounted&&t.setState({submitting:!1})},t.handleCloseClick=function(e){e&&(e.preventDefault(),e.currentTarget.blur()),t.props.onClose()},t.handleFormSubmit=function(e){e.preventDefault(),t.submit()},t.handleSubmitClick=function(e){e&&(e.preventDefault(),e.currentTarget.blur()),t.submit()},t.submit=function(){var e=t.props.onSubmit();e&&(t.setState({submitting:!0}),e.then(t.stopSubmitting,t.stopSubmitting))},t}return s(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.children,n=e.header,r=e.onClose,s=(e.onSubmit,o(e,["children","header","onClose","onSubmit"]));return l.createElement(i.default,a({contentLabel:n,onRequestClose:r},s),t({onCloseClick:this.handleCloseClick,onFormSubmit:this.handleFormSubmit,onSubmitClick:this.handleSubmitClick,submitting:this.state.submitting}))},t}(l.Component);t.default=c},341:function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),l=n(5),i=n(315),c=n(310),u=n(332),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.handleSubmit=function(){var e=t.props.onConfirm(t.props.confirmData);return e?e.then(t.props.onClose,function(){}):void t.props.onClose()},t.renderModalContent=function(e){var n=e.onCloseClick,r=e.onFormSubmit,s=e.submitting,a=t.props,u=a.children,m=a.confirmButtonText,p=a.confirmDisable,d=a.header,h=a.headerDescription,f=a.isDestructive,g=a.cancelButtonText,y=void 0===g?l.translate("cancel"):g;return o.createElement("form",{onSubmit:r},o.createElement("header",{className:"modal-head"},o.createElement("h2",null,d),h),o.createElement("div",{className:"modal-body"},u),o.createElement("footer",{className:"modal-foot"},o.createElement(i.default,{className:"spacer-right",loading:s}),o.createElement(c.SubmitButton,{autoFocus:!0,className:f?"button-red":void 0,disabled:s||p},m),o.createElement(c.ResetButtonLink,{disabled:s,onClick:n},y)))},t}return s(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t={header:e.header,onClose:e.onClose,noBackdrop:e.noBackdrop,size:e.size};return o.createElement(u.default,a({onSubmit:this.handleSubmit},t),this.renderModalContent)},t}(o.PureComponent);t.default=m},342:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return i});var r=n(2),s=n(304),a=n(29);const o={year:"numeric",month:"short",day:"2-digit"},l={year:"numeric",month:"long",day:"numeric"};function i(e){let t=e.children,n=e.date,i=e.long;return r.createElement(s.FormattedDate,Object.assign({value:Object(a.parseDate)(n)},i?l:o),t)}},354:function(e,t,n){var r=n(370),s=n(340),a=n(424),o=n(355);e.exports=function(e,t){return(o(e)?r:a)(e,s(t,3))}},366:function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),i=n(341),c=n(367),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderConfirmModal=function(e){var n=e.onClose,r=t.props,s=(r.children,r.modalBody),c=r.modalHeader,u=r.modalHeaderDescription,m=o(r,["children","modalBody","modalHeader","modalHeaderDescription"]);return l.createElement(i.default,a({header:c,headerDescription:u,onClose:n},m),s)},t}return s(t,e),t.prototype.render=function(){return l.createElement(c.default,{modal:this.renderConfirmModal},this.props.children)},t}(l.PureComponent);t.default=u},367:function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={modal:!1},t.handleButtonClick=function(){t.setState({modal:!0})},t.handleFormSubmit=function(e){e&&e.preventDefault(),t.setState({modal:!0})},t.handleCloseModal=function(){t.mounted&&t.setState({modal:!1})},t}return s(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){return a.createElement(a.Fragment,null,this.props.children({onClick:this.handleButtonClick,onFormSubmit:this.handleFormSubmit}),this.state.modal&&this.props.modal({onClose:this.handleCloseModal}))},t}(a.PureComponent);t.default=o},395:function(e,t,n){var r=n(459),s=n(398),a=Object.prototype.hasOwnProperty,o=s(function(e,t,n){a.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=o},446:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(447),l=n(419);t.default=function(e){var t=e.open,n=s(e,["open"]);return t?a.createElement(o.default,r({},n)):a.createElement(l.default,r({},n))}},447:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=n(311);t.default=function(e){var t=e.className,n=e.fill,a=void 0===n?"currentColor":n,o=e.size;return r.createElement(s.default,{className:t,size:o},r.createElement("path",{d:"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z",style:{fill:a}}))}},517:function(e,t,n){"use strict";n.d(t,"g",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return m}),n.d(t,"h",function(){return p});var r=n(8),s=n(320);function a(e){return Object(r.post)("/api/system/change_log_level",{level:e}).catch(s.a)}function o(){return Object(r.getJSON)("/api/system/info").catch(s.a)}function l(){return Object(r.getJSON)("/api/system/status")}function i(){return Object(r.getJSON)("/api/system/upgrades")}function c(){return Object(r.getJSON)("/api/system/db_migration_status")}function u(){return Object(r.postJSON)("/api/system/migrate_db")}function m(){return Object(r.post)("/api/system/restart").catch(s.a)}function p(){return Object(r.requestTryAndRepeatUntil)(l,{max:-1,slowThreshold:-15},e=>{return"UP"===e.status})}},699:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return a});var r=n(2);const s={installing:[],removing:[],updating:[]},a="UP",o=r.createContext({fetchSystemStatus:()=>{},fetchPendingPlugins:()=>{},pendingPlugins:s,systemStatus:a});t.a=o},702:function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(309),o=n(2),l=n(446),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hoveringInner:!1},t.handleClick=function(){t.props.onClick(t.props.data)},t.onDetailEnter=function(){t.setState({hoveringInner:!0})},t.onDetailLeave=function(){t.setState({hoveringInner:!1})},t}return s(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.open,r=e.renderHeader,s=e.title;return o.createElement("div",{className:a("boxed-group boxed-group-accordion",t,{"no-hover":this.state.hoveringInner})},o.createElement("div",{className:"boxed-group-header",onClick:this.handleClick,role:"listitem"},o.createElement("span",{className:"boxed-group-accordion-title"},o.createElement(l.default,{className:"little-spacer-right",open:n}),s),r&&r()),n&&o.createElement("div",{className:"boxed-group-inner",onMouseEnter:this.onDetailEnter,onMouseLeave:this.onDetailLeave},this.props.children))},t}(o.PureComponent);t.default=i},813:function(e,t,n){var r=n(929),s=n(659),a=n(930),o=n(355);e.exports=function(e,t){return(o(e)?r:s)(e,a(t))}},858:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(309),s=n(2),a=n(310),o=n(366),l=n.n(o),i=n(5),c=n(517);class u extends s.PureComponent{constructor(){super(...arguments),this.handleConfirm=()=>Object(c.f)().then(this.props.fetchSystemStatus)}render(){const e=this.props,t=e.className,n=e.systemStatus;return s.createElement(l.a,{confirmButtonText:Object(i.translate)("restart"),modalBody:s.createElement(s.Fragment,null,s.createElement("p",{className:"spacer-top spacer-bottom"},Object(i.translate)("system.are_you_sure_to_restart")),s.createElement("p",null,Object(i.translate)("system.forcing_shutdown_not_recommended"))),modalHeader:Object(i.translate)("system.restart_server"),onConfirm:this.handleConfirm},e=>{let o=e.onClick;return s.createElement(a.Button,{className:r("button-red",t),disabled:"UP"!==n,onClick:o},"RESTARTING"===n?Object(i.translate)("system.restart_in_progress"):Object(i.translate)("system.restart_server"))})}}},929:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},930:function(e,t){e.exports=function(e){return e}}}]);
//# sourceMappingURL=294.m.347a13da.chunk.js.map