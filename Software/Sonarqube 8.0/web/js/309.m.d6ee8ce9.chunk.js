(window.webpackJsonp=window.webpackJsonp||[]).push([[309],{1804:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(325),o=n.n(i),a=n(5),s=n(353),c=n(343),l=n(330),u=n(421),p=n(573),f=n(339);function d(){return r.createElement("header",{className:"page-header"},r.createElement("div",{className:"page-title display-flex-center"},r.createElement("h1",null,Object(a.translate)("project_quality_profiles.page")),r.createElement(f.a,{className:"spacer-left",doc:Promise.resolve().then(n.bind(null,952))})),r.createElement("div",{className:"page-description"},Object(a.translate)("project_quality_profiles.page.description")))}var h=n(600),m=n.n(h),g=n(395),y=n.n(g),b=n(338),O=n.n(b);class j extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!1},this.stopLoading=()=>{this.mounted&&this.setState({loading:!1})},this.handleChange=e=>{this.props.profile.key!==e.value&&(this.setState({loading:!0}),this.props.onChangeProfile(this.props.profile.key,e.value).then(this.stopLoading,this.stopLoading))},this.renderProfileName=e=>e.isDefault?r.createElement("span",null,r.createElement("strong",null,Object(a.translate)("default")),": ",e.label):r.createElement("span",null,e.label)}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}renderProfileSelect(){const e=this.props,t=e.profile,n=e.possibleProfiles.map(e=>({value:e.key,label:e.name,isDefault:e.isDefault}));return r.createElement(O.a,{clearable:!1,disabled:this.state.loading,onChange:this.handleChange,optionRenderer:this.renderProfileName,options:n,style:{width:300},value:t.key,valueRenderer:this.renderProfileName})}render(){const e=this.props.profile;return r.createElement("tr",{"data-key":e.language},r.createElement("td",{className:"thin nowrap"},e.languageName),r.createElement("td",{className:"thin nowrap"},this.renderProfileSelect()),r.createElement("td",null,this.state.loading&&r.createElement("i",{className:"spinner"})))}}function v(e){const t=y()(e.allProfiles,"language"),n=m()(e.profiles,"languageName").map(n=>r.createElement(j,{key:n.language,onChangeProfile:e.onChangeProfile,possibleProfiles:t[n.language],profile:n}));return r.createElement("div",{className:"boxed-group boxed-group-inner"},r.createElement("table",{className:"data zebra"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"thin nowrap"},Object(a.translate)("language")),r.createElement("th",{className:"thin nowrap"},Object(a.translate)("quality_profile")),r.createElement("th",null,"Â "))),r.createElement("tbody",null,n)))}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"default",function(){return N});class N extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!0},this.handleChangeProfile=(e,t)=>{const n=this.props.component,r=this.state,i=r.allProfiles,o=r.profiles,c=i&&i.find(e=>e.key===t);return(c&&c.isDefault?Object(s.m)(e,n.key):Object(s.d)(t,n.key)).then(()=>{if(this.mounted&&o&&c){const t=[...o.filter(t=>t.key!==e),c];this.setState({profiles:t}),Object(u.a)(Object(a.translateWithParameters)("project_quality_profile.successfully_updated",c.languageName))}})}}componentDidMount(){this.mounted=!0,this.checkPermissions()?this.fetchProfiles():Object(p.a)()}componentWillUnmount(){this.mounted=!1}checkPermissions(){const e=this.props.component.configuration;return!!(e&&e.showQualityProfiles)}fetchProfiles(){const e=this.props.component,t=e.key,n=e.organization;Promise.all([Object(s.y)({organization:n}).then(e=>e.profiles),Object(s.y)({organization:n,project:t}).then(e=>e.profiles)]).then(e=>{let t=E(e,2),n=t[0],r=t[1];this.mounted&&this.setState({loading:!1,allProfiles:n,profiles:r})},()=>{this.mounted&&this.setState({loading:!1})})}render(){if(!this.checkPermissions())return null;const e=this.state,t=e.allProfiles,n=e.loading,i=e.profiles;return r.createElement("div",{className:"page page-limited"},r.createElement(l.a,{suggestions:"project_quality_profiles"}),r.createElement(o.a,{title:Object(a.translate)("project_quality_profiles.page")}),r.createElement(c.a,{anchor:"profiles_main"}),r.createElement(d,null),n?r.createElement("i",{className:"spinner"}):t&&i&&r.createElement(v,{allProfiles:t,onChangeProfile:this.handleChangeProfile,profiles:i}))}}},323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(309),i=n(2),o=n(363),a=n(335);n(336);var s=n(314);t.default=function(e){var t=e.tagName,n=void 0===t?"div":t;return i.createElement(n,{className:r("help-tooltip",e.className)},i.createElement(s.default,{mouseLeaveDelay:.25,onShow:e.onShow,overlay:e.overlay,placement:e.placement},i.createElement("span",{className:"display-inline-flex-center"},e.children||i.createElement(a.ThemeConsumer,null,function(e){return i.createElement(o.default,{fill:e.colors.gray71,size:12})}))))}},330:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(2),i=n(349);function o(e){let t=e.suggestions;return r.createElement(i.a.Consumer,null,e=>{let n=e.addSuggestions,i=e.removeSuggestions;return r.createElement(a,{addSuggestions:n,removeSuggestions:i,suggestions:t})})}class a extends r.PureComponent{componentDidMount(){this.props.addSuggestions(this.props.suggestions)}componentDidUpdate(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))}componentWillUnmount(){this.props.removeSuggestions(this.props.suggestions)}render(){return null}}},336:function(e,t,n){var r=n(337);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(313)(r,i);r.locals&&(e.exports=r.locals)},337:function(e,t,n){(e.exports=n(312)(!1)).push([e.i,".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}",""])},339:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(2),i=n(323),o=n.n(i),a=n(321),s=n(364);const c=Object(a.lazyLoad)(()=>Promise.all([n.e(6),n.e(19)]).then(n.bind(null,456)));class l extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={open:!1},this.close=()=>{this.mounted&&this.setState({open:!1})}}componentDidMount(){this.mounted=!0,this.props.doc.then(e=>{let t=e.default;this.mounted&&this.setState({content:t})},()=>{}),document.addEventListener("scroll",this.close,!0)}componentWillUnmount(){this.mounted=!1,document.removeEventListener("scroll",this.close,!0)}render(){return this.state.content?r.createElement(o.a,{className:this.props.className,overlay:r.createElement("div",{className:"abs-width-300"},r.createElement(c,{childProps:this.props.overlayProps,className:"cut-margins",content:Object(s.filterContent)(this.state.content),isTooltip:!0}))},this.props.children):this.props.children||null}}},343:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2),i=n(5),o=n(399);function a(e){return r.createElement(o.a.Consumer,null,t=>{let n=t.addA11ySkipLink,i=t.removeA11ySkipLink;return r.createElement(s,Object.assign({addA11ySkipLink:n,removeA11ySkipLink:i},e))})}class s extends r.PureComponent{constructor(){super(...arguments),this.getLink=()=>{const e=this.props,t=e.anchor,n=e.label;return{key:t,label:void 0===n?Object(i.translate)("skip_to_content"):n,weight:e.weight}}}componentDidMount(){this.props.addA11ySkipLink(this.getLink())}componentWillUnmount(){this.props.removeA11ySkipLink(this.getLink())}render(){const e=this.props.anchor;return r.createElement("span",{id:"a11y_target__".concat(e)})}}},353:function(e,t,n){"use strict";n.d(t,"y",function(){return c}),n.d(t,"s",function(){return l}),n.d(t,"j",function(){return u}),n.d(t,"w",function(){return p}),n.d(t,"r",function(){return f}),n.d(t,"q",function(){return d}),n.d(t,"A",function(){return h}),n.d(t,"v",function(){return m}),n.d(t,"i",function(){return g}),n.d(t,"l",function(){return y}),n.d(t,"g",function(){return b}),n.d(t,"o",function(){return O}),n.d(t,"n",function(){return j}),n.d(t,"p",function(){return v}),n.d(t,"h",function(){return E}),n.d(t,"d",function(){return N}),n.d(t,"m",function(){return S}),n.d(t,"z",function(){return P}),n.d(t,"x",function(){return k}),n.d(t,"c",function(){return q}),n.d(t,"u",function(){return w}),n.d(t,"b",function(){return _}),n.d(t,"t",function(){return x}),n.d(t,"e",function(){return L}),n.d(t,"f",function(){return C}),n.d(t,"a",function(){return J}),n.d(t,"k",function(){return D});var r=n(354),i=n.n(r),o=n(469),a=n(8),s=n(320);function c(e){return Object(a.getJSON)("/api/qualityprofiles/search",e).catch(s.a)}function l(e){return Object(a.getJSON)("/api/qualityprofiles/show",e)}function u(e){return Object(a.postJSON)("/api/qualityprofiles/create",e).catch(s.a)}function p(e){return Object(a.postJSON)("/api/qualityprofiles/restore",e).catch(s.a)}function f(e){return Object(a.getJSON)("/api/qualityprofiles/projects",e).catch(s.a)}function d(e){return Object(a.getJSON)("/api/qualityprofiles/inheritance",{profileKey:e}).catch(s.a)}function h(e){return Object(a.post)("/api/qualityprofiles/set_default",{profileKey:e})}function m(e,t){return Object(a.post)("/api/qualityprofiles/rename",{key:e,name:t}).catch(s.a)}function g(e,t){return Object(a.postJSON)("/api/qualityprofiles/copy",{fromKey:e,toName:t}).catch(s.a)}function y(e){return Object(a.post)("/api/qualityprofiles/delete",{profileKey:e}).catch(s.a)}function b(e,t){return Object(a.post)("/api/qualityprofiles/change_parent",{profileKey:e,parentKey:t}).catch(s.a)}function O(){return Object(a.getJSON)("/api/qualityprofiles/importers").then(e=>e.importers,s.a)}function j(){return Object(a.getJSON)("/api/qualityprofiles/exporters").then(e=>e.exporters)}function v(e){return Object(a.getJSON)("/api/qualityprofiles/changelog",e)}function E(e,t){return Object(a.getJSON)("/api/qualityprofiles/compare",{leftKey:e,rightKey:t})}function N(e,t){return Object(a.post)("/api/qualityprofiles/add_project",{key:e,project:t}).catch(s.a)}function S(e,t){return Object(a.post)("/api/qualityprofiles/remove_project",{key:e,project:t}).catch(s.a)}function P(e){return Object(a.getJSON)("/api/qualityprofiles/search_users",e).catch(s.a)}function k(e){return Object(a.getJSON)("/api/qualityprofiles/search_groups",e).catch(s.a)}function q(e){return Object(a.post)("/api/qualityprofiles/add_user",e).catch(s.a)}function w(e){return Object(a.post)("/api/qualityprofiles/remove_user",e).catch(s.a)}function _(e){return Object(a.post)("/api/qualityprofiles/add_group",e).catch(s.a)}function x(e){return Object(a.post)("/api/qualityprofiles/remove_group",e).catch(s.a)}function L(e){return Object(a.postJSON)("/api/qualityprofiles/activate_rules",e)}function C(e){return Object(a.postJSON)("/api/qualityprofiles/deactivate_rules",e)}function J(e){const t=e.params&&i()(e.params,(e,t)=>"".concat(t,"=").concat(Object(o.csvEscape)(e))).join(";");return Object(a.post)("/api/qualityprofiles/activate_rule",Object.assign({},e,{params:t})).catch(s.a)}function D(e){return Object(a.post)("/api/qualityprofiles/deactivate_rule",e).catch(s.a)}},354:function(e,t,n){var r=n(370),i=n(340),o=n(424),a=n(355);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},364:function(e,t,n){"use strict";function r(e){let t,n;for(let r=0;r<e.length;r++){if("---"===e[r].trim()){if(void 0!==t){n=r;break}t=r}}return void 0!==n?{firstLine:t,lastLine:n}:void 0}function i(e){const t={};for(let n=0;n<e.length;n++){const r=e[n].split(":").map(e=>e.trim());2===r.length&&(t[r[0]]=r[1])}return t}function o(e,t){const n="\x3c!-- ".concat(t," --\x3e"),r="\x3c!-- /".concat(t," --\x3e");let i=e,o=i.indexOf(n),a=i.indexOf(r);for(;-1!==o&&-1!==a;)o=(i=i.substring(0,o)+i.substring(a+r.length)).indexOf(n),a=i.indexOf(r);return i}e.exports={getFrontMatter:function(e){const t=e.split("\n"),n=r(t);return n?i(t.slice(n.firstLine+1,n.lastLine)):{}},separateFrontMatter:function(e){const t=e.split("\n"),n=r(t);if(n){const e=i(t.slice(n.firstLine+1,n.lastLine)),r=t.slice(n.lastLine+1).join("\n");return{frontmatter:e,content:r}}return{frontmatter:{},content:e}},filterContent:function(e){const t="\x3c!-- \\/?(sonarqube|sonarcloud|static) --\x3e",r=n(22),i=r.isSonarCloud,a=r.getInstance,s=o(e.replace(/{instance}/gi,a()),"static");return(i()?o(s,"sonarqube"):o(s,"sonarcloud")).replace(new RegExp("^".concat(t,"(\n|\r|\r\n|$)"),"gm"),"").replace(new RegExp("".concat(t),"g"),"")}}},395:function(e,t,n){var r=n(459),i=n(398),o=Object.prototype.hasOwnProperty,a=i(function(e,t,n){o.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=a},421:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(378),i=n(381);function o(e){Object(i.default)().dispatch(r.b(e))}},469:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.csvEscape=function(e){return'"'+e.replace(/"/g,'\\"')+'"'}},573:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(34),i=n.n(r),o=n(542),a=n(381);function s(){const e=Object(a.default)(),t=i()(),n=window.location.pathname+window.location.search+window.location.hash;e.dispatch(Object(o.c)()),t.replace({pathname:"/sessions/new",query:{return_to:n}})}},600:function(e,t,n){var r=n(782),i=n(355);e.exports=function(e,t,n,o){return null==e?[]:(i(t)||(t=null==t?[]:[t]),i(n=o?void 0:n)||(n=null==n?[]:[n]),r(e,t,n))}},952:function(e,t,n){"use strict";n.r(t),t.default="Projects assigned to a profile will always be analyzed with it for that language, regardless of which profile is the default. Quality Profile administrators may assign projects to a profile. Project administrators may also choose a non-default profile for each language.\n"}}]);
//# sourceMappingURL=309.m.d6ee8ce9.chunk.js.map