(window.webpackJsonp=window.webpackJsonp||[]).push([[328],{1009:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(12),a=n(159),o=n(788),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n};function s(e){var t=e.name,n=e.language,s=e.organization,c=e.children,u=i(e,["name","language","organization","children"]);return r.createElement(a.Link,l({activeClassName:"link-no-underline",to:Object(o.c)(t,n,s)},u),c)}},1037:function(e,t,n){"use strict";n.r(t),t.default="Built-in profiles are provided directly by the language analyzers and may be updated with each new analyzer version. They represent best-practice, minimum rule sets.\n"},1978:function(e,t,n){"use strict";n.r(t),t.default="This Quality Profile is built in, and cannot be updated manually. If you want to activate more rules, create a new profile that inherits from this one and add rules there.\n"},2100:function(e,t,n){"use strict";n.r(t);var r,a=n(12),o=n(164),l=n(34),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getExportUrl=function(e){var t=this.props,n=t.organization,r=t.profile,a={exporterKey:e.key,language:r.language,qualityProfile:r.name};return n&&Object.assign(a,{organization:n}),window.baseUrl+"/api/qualityprofiles/export?"+Object(o.stringify)(a)},t.prototype.render=function(){var e=this,t=this.props,n=t.exporters,r=t.profile,o=n.filter(function(e){return e.languages.includes(r.language)});return 0===o.length?null:a.createElement("div",{className:"boxed-group quality-profile-exporters"},a.createElement("h2",null,Object(l.translate)("quality_profiles.exporters")),a.createElement("div",{className:"boxed-group-inner"},a.createElement("ul",null,o.map(function(t,n){return a.createElement("li",{className:n>0?"spacer-top":void 0,"data-key":t.key,key:t.key},a.createElement("a",{href:e.getExportUrl(t),target:"_blank"},t.name))}))))},t}(a.PureComponent),c=n(639),u=n(640),p=n(683),f=n(655),d=n.n(f),m=n(657),h=n.n(m),g=n(668),y=n.n(g),b=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!1,selected:null},t.handleSelectChange=function(e){t.setState({selected:e.value})},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state.selected;null!=n&&(t.setState({loading:!0}),Object(p.g)(t.props.profile.key,n).then(t.props.onChange).catch(function(){t.mounted&&t.setState({loading:!1})}))},t}return b(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props.profiles,t=[{label:Object(l.translate)("none"),value:""}].concat(d()(e,"name").map(function(e){return{label:e.isBuiltIn?e.name+" ("+Object(l.translate)("quality_profiles.built_in")+")":e.name,value:e.key}})),n=this.state.loading||null==this.state.selected||this.state.selected===this.props.profile.parentKey;return a.createElement(h.a,{contentLabel:Object(l.translate)("quality_profiles.change_parent"),onRequestClose:this.props.onClose,size:"small"},a.createElement("form",{id:"change-profile-parent-form",onSubmit:this.handleFormSubmit},a.createElement("div",{className:"modal-head"},a.createElement("h2",null,Object(l.translate)("quality_profiles.change_parent"))),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"modal-field"},a.createElement("label",{htmlFor:"change-profile-parent"},Object(l.translate)("quality_profiles.parent")," ",a.createElement("em",{className:"mandatory"},"*")),a.createElement(y.a,{clearable:!1,id:"change-profile-parent",name:"parentKey",onChange:this.handleSelectChange,options:t,value:null!=this.state.selected?this.state.selected:this.props.profile.parentKey||""}))),a.createElement("div",{className:"modal-foot"},this.state.loading&&a.createElement("i",{className:"spinner spacer-right"}),a.createElement(u.SubmitButton,{disabled:n,id:"change-profile-parent-submit"},Object(l.translate)("change_verb")),a.createElement(u.ResetButtonLink,{id:"change-profile-parent-cancel",onClick:this.props.onClose},Object(l.translate)("cancel")))))},t}(a.PureComponent),O=n(653),j=n.n(O),E=n(994),_=n(1009);function N(e){var t=e.className,n=e.depth,r=e.extendsBuiltIn,o=e.language,i=e.organization,s=e.profile,c=e.displayLink,u=void 0===c||c,p=e.type,f=void 0===p?"current":p,d=25*n;return a.createElement("tr",{className:t,"data-test":"quality-profiles__inheritance-"+f},a.createElement("td",null,a.createElement("div",{style:{paddingLeft:d}},u?a.createElement(_.a,{className:"text-middle",language:o,name:s.name,organization:i},s.name):a.createElement("span",{className:"text-middle"},s.name),s.isBuiltIn&&a.createElement(E.a,{className:"spacer-left"}),r&&a.createElement(j.a,{className:"spacer-left",overlay:Object(l.translate)("quality_profiles.extends_built_in")}))),a.createElement("td",null,Object(l.translateWithParameters)("quality_profile.x_active_rules",s.activeRuleCount)),a.createElement("td",null,null!=s.overridingRuleCount&&a.createElement("p",null,Object(l.translateWithParameters)("quality_profiles.x_overridden_rules",s.overridingRuleCount))))}var S=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={formOpen:!1,loading:!0},t.handleChangeParentClick=function(){t.setState({formOpen:!0})},t.closeForm=function(){t.setState({formOpen:!1})},t.handleParentChange=function(){t.props.updateProfiles().then(function(){t.loadData()},function(){}),t.closeForm()},t}return S(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.loadData()},t.prototype.componentDidUpdate=function(e){e.profile.key!==this.props.profile.key&&this.loadData()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.loadData=function(){var e=this;Object(p.q)(this.props.profile.key).then(function(t){if(e.mounted){var n=t.ancestors,r=t.children;n.reverse(),e.setState({children:r,ancestors:n,profile:t.profile,loading:!1})}},function(){e.mounted&&e.setState({loading:!1})})},t.prototype.render=function(){var e=this,t=this.props,n=t.profile,r=t.profiles,o=this.state.ancestors,i=!this.state.loading&&null!=o&&null!=this.state.children&&(o.length>0||this.state.children.length>0),s=null!=o&&o.some(function(e){return e.isBuiltIn});return a.createElement("div",{className:"boxed-group quality-profile-inheritance"},n.actions&&n.actions.edit&&!n.isBuiltIn&&a.createElement("div",{className:"boxed-group-actions"},a.createElement(u.Button,{className:"pull-right js-change-parent",onClick:this.handleChangeParentClick},Object(l.translate)("quality_profiles.change_parent"))),a.createElement("header",{className:"boxed-group-header"},a.createElement("h2",null,Object(l.translate)("quality_profiles.profile_inheritance"))),a.createElement("div",{className:"boxed-group-inner"},this.state.loading?a.createElement("i",{className:"spinner"}):a.createElement("table",{className:"data zebra"},a.createElement("tbody",null,null!=o&&o.map(function(t,r){return a.createElement(N,{depth:r,key:t.key,language:n.language,organization:e.props.organization,profile:t,type:"ancestor"})}),null!=this.state.profile&&a.createElement(N,{className:c({selected:i}),depth:o?o.length:0,displayLink:!1,extendsBuiltIn:s,language:n.language,organization:this.props.organization,profile:this.state.profile}),null!=this.state.children&&this.state.children.map(function(t){return a.createElement(N,{depth:o?o.length+1:0,key:t.key,language:n.language,organization:e.props.organization,profile:t,type:"child"})})))),this.state.formOpen&&a.createElement(v,{onChange:this.handleParentChange,onClose:this.closeForm,profile:n,profiles:r.filter(function(e){return e!==n&&e.language===n.language})}))},t}(a.PureComponent),C=n(873),k=n.n(C),P=n(945),z=n.n(P),x=n(693),w=n.n(x),D=n(973),T=n.n(D),R=n(722),M=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),U=function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},B=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleSearch=function(e){n.setState({loading:!0}),n.props.onSearch(e).then(function(e){n.mounted&&n.setState({loading:!1,searchResults:e})},function(){n.mounted&&n.setState({loading:!1})})},n.handleInputChange=function(e){n.setState({query:e}),e.length>1&&n.handleSearch(e)},n.handleSearch=w()(n.handleSearch,250),n.state={loading:!1,query:"",searchResults:[]},n}return M(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.handleSearch(this.state.query)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=1===this.state.query.length?Object(l.translateWithParameters)("select2.tooShort",2):Object(l.translate)("no_results"),t=this.state.searchResults.map(function(e){return U({},e,{value:L(e)})});return a.createElement(y.a,{autoFocus:!0,className:"Select-big",clearable:!1,filterOptions:z.a,isLoading:this.state.loading,noResultsText:e,onChange:this.props.onChange,onInputChange:this.handleInputChange,optionRenderer:F,options:t,placeholder:"",searchable:!0,value:this.props.selected&&L(this.props.selected),valueRenderer:F})},t}(a.PureComponent);function A(e){return void 0!==e.login}function L(e){return A(e)?"user:"+e.login:"group:"+e.name}function F(e){return A(e)?a.createElement(a.Fragment,null,a.createElement(R.a,{hash:e.avatar,name:e.name,size:16}),a.createElement("strong",{className:"spacer-left"},e.name),a.createElement("span",{className:"note little-spacer-left"},e.login)):a.createElement(a.Fragment,null,a.createElement(T.a,{size:16}),a.createElement("strong",{className:"spacer-left"},e.name))}var J=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={submitting:!1},t.stopSubmitting=function(){t.mounted&&t.setState({submitting:!1})},t.handleUserAdd=function(e){return Object(p.c)({language:t.props.profile.language,login:e.login,organization:t.props.organization,qualityProfile:t.props.profile.name}).then(function(){return t.props.onUserAdd(e)},t.stopSubmitting)},t.handleGroupAdd=function(e){return Object(p.b)({group:e.name,language:t.props.profile.language,organization:t.props.organization,qualityProfile:t.props.profile.name}).then(function(){return t.props.onGroupAdd(e)},t.stopSubmitting)},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state.selected;n&&(t.setState({submitting:!0}),void 0!==n.login?t.handleUserAdd(n):t.handleGroupAdd(n))},t.handleSearch=function(e){var n=t.props,r=n.organization,a=n.profile,o={language:a.language,organization:r,q:e,qualityProfile:a.name,selected:"deselected"};return Promise.all([Object(p.z)(o),Object(p.x)(o)]).then(function(e){var t=e[0],n=e[1];return t.users.concat(n.groups)})},t.handleValueChange=function(e){t.setState({selected:e})},t}return J(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=Object(l.translate)("quality_profiles.grant_permissions_to_user_or_group"),t=!this.state.selected||this.state.submitting;return a.createElement(h.a,{contentLabel:e,onRequestClose:this.props.onClose},a.createElement("header",{className:"modal-head"},a.createElement("h2",null,e)),a.createElement("form",{onSubmit:this.handleFormSubmit},a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"modal-field"},a.createElement("label",null,Object(l.translate)("quality_profiles.search_description")),a.createElement(B,{onChange:this.handleValueChange,onSearch:this.handleSearch,selected:this.state.selected}))),a.createElement("footer",{className:"modal-foot"},this.state.submitting&&a.createElement("i",{className:"spinner spacer-right"}),a.createElement(u.SubmitButton,{disabled:t},Object(l.translate)("add_verb")),a.createElement(u.ResetButtonLink,{onClick:this.props.onClose},Object(l.translate)("cancel")))))},t}(a.PureComponent),W=n(634),K=n(662),G=n.n(K),H=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={deleteModal:!1},t.handleDeleteClick=function(){t.setState({deleteModal:!0})},t.handleDeleteModalClose=function(){t.mounted&&t.setState({deleteModal:!1})},t.handleDelete=function(){var e=t.props,n=e.group,r=e.organization,a=e.profile;return Object(p.t)({group:n.name,language:a.language,organization:r,qualityProfile:a.name}).then(function(){t.handleDeleteModalClose(),t.props.onDelete(n)})},t.renderDeleteModal=function(e){return a.createElement("div",null,a.createElement("header",{className:"modal-head"},a.createElement("h2",null,Object(l.translate)("groups.remove"))),a.createElement("div",{className:"modal-body"},a.createElement(W.FormattedMessage,{defaultMessage:Object(l.translate)("groups.remove.confirmation"),id:"groups.remove.confirmation",values:{user:a.createElement("strong",null,t.props.group.name)}})),a.createElement("footer",{className:"modal-foot"},e.submitting&&a.createElement("i",{className:"spinner spacer-right"}),a.createElement(u.Button,{className:"button-red",disabled:e.submitting,onClick:e.onSubmitClick},Object(l.translate)("remove")),a.createElement(u.ResetButtonLink,{onClick:e.onCloseClick},Object(l.translate)("cancel"))))},t}return H(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props.group;return a.createElement("div",{className:"clearfix big-spacer-bottom"},a.createElement(u.DeleteButton,{className:"pull-right spacer-top spacer-left spacer-right button-small",onClick:this.handleDeleteClick}),a.createElement(T.a,{className:"pull-left spacer-right",size:32}),a.createElement("div",{className:"overflow-hidden",style:{lineHeight:"32px"}},a.createElement("strong",null,e.name)),this.state.deleteModal&&a.createElement(G.a,{header:Object(l.translate)("group.remove"),onClose:this.handleDeleteModalClose,onSubmit:this.handleDelete},this.renderDeleteModal))},t}(a.PureComponent),Y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={deleteModal:!1},t.handleDeleteClick=function(){t.setState({deleteModal:!0})},t.handleDeleteModalClose=function(){t.mounted&&t.setState({deleteModal:!1})},t.handleDelete=function(){var e=t.props,n=e.organization,r=e.profile,a=e.user;return Object(p.u)({language:r.language,login:a.login,organization:n,qualityProfile:r.name}).then(function(){t.handleDeleteModalClose(),t.props.onDelete(a)})},t.renderDeleteModal=function(e){return a.createElement("div",null,a.createElement("header",{className:"modal-head"},a.createElement("h2",null,Object(l.translate)("users.remove"))),a.createElement("div",{className:"modal-body"},a.createElement(W.FormattedMessage,{defaultMessage:Object(l.translate)("users.remove.confirmation"),id:"users.remove.confirmation",values:{user:a.createElement("strong",null,t.props.user.name)}})),a.createElement("footer",{className:"modal-foot"},e.submitting&&a.createElement("i",{className:"spinner spacer-right"}),a.createElement(u.SubmitButton,{className:"button-red",disabled:e.submitting,onClick:e.onSubmitClick},Object(l.translate)("remove")),a.createElement(u.ResetButtonLink,{onClick:e.onCloseClick},Object(l.translate)("cancel"))))},t}return Y(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props.user;return a.createElement("div",{className:"clearfix big-spacer-bottom"},a.createElement(u.DeleteButton,{className:"pull-right spacer-top spacer-left spacer-right button-small",onClick:this.handleDeleteClick}),a.createElement(R.a,{className:"pull-left spacer-right",hash:e.avatar,name:e.name,size:32}),a.createElement("div",{className:"overflow-hidden"},a.createElement("strong",null,e.name),a.createElement("div",{className:"note"},e.login)),this.state.deleteModal&&a.createElement(G.a,{header:Object(l.translate)("users.remove"),onClose:this.handleDeleteModalClose,onSubmit:this.handleDelete},this.renderDeleteModal))},t}(a.PureComponent),$=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={addUserForm:!1,loading:!0},t.handleAddUserButtonClick=function(){t.setState({addUserForm:!0})},t.handleAddUserFormClose=function(){t.mounted&&t.setState({addUserForm:!1})},t.handleUserAdd=function(e){t.mounted&&t.setState(function(t){return{addUserForm:!1,users:t.users&&k()(t.users.concat([e]),function(e){return e.login})}})},t.handleUserDelete=function(e){t.mounted&&t.setState(function(t){return{users:t.users&&t.users.filter(function(t){return t!==e})}})},t.handleGroupAdd=function(e){t.mounted&&t.setState(function(t){return{addUserForm:!1,groups:t.groups&&k()(t.groups.concat([e]),function(e){return e.name})}})},t.handleGroupDelete=function(e){t.mounted&&t.setState(function(t){return{groups:t.groups&&t.groups.filter(function(t){return t!==e})}})},t}return $(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchUsersAndGroups()},t.prototype.componentDidUpdate=function(e){e.organization===this.props.organization&&e.profile.key===this.props.profile.key||this.fetchUsersAndGroups()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.fetchUsersAndGroups=function(){var e=this;this.setState({loading:!0});var t=this.props,n=t.organization,r=t.profile,a={language:r.language,organization:n,qualityProfile:r.name,selected:"selected"};Promise.all([Object(p.z)(a),Object(p.x)(a)]).then(function(t){var n=t[0],r=t[1];e.mounted&&e.setState({groups:r.groups,loading:!1,users:n.users})},function(){e.mounted&&e.setState({loading:!1})})},t.prototype.render=function(){var e=this;return a.createElement("div",{className:"boxed-group"},a.createElement("h2",null,Object(l.translate)("permissions.page")),a.createElement("div",{className:"boxed-group-inner"},a.createElement("p",{className:"note"},Object(l.translate)("quality_profiles.default_permissions")),this.state.loading?a.createElement("div",{className:"big-spacer-top"},a.createElement("i",{className:"spinner"})):a.createElement("div",{className:"big-spacer-top"},this.state.users&&d()(this.state.users,"name").map(function(t){return a.createElement(Q,{key:t.login,onDelete:e.handleUserDelete,organization:e.props.organization,profile:e.props.profile,user:t})}),this.state.groups&&d()(this.state.groups,"name").map(function(t){return a.createElement(V,{group:t,key:t.name,onDelete:e.handleGroupDelete,organization:e.props.organization,profile:e.props.profile})}),a.createElement("div",{className:"text-right"},a.createElement(u.Button,{onClick:this.handleAddUserButtonClick},Object(l.translate)("quality_profiles.grant_permissions_to_more_users"))))),this.state.addUserForm&&a.createElement(I,{onClose:this.handleAddUserFormClose,onGroupAdd:this.handleGroupAdd,onUserAdd:this.handleUserAdd,organization:this.props.organization,profile:this.props.profile}))},t}(a.PureComponent),Z=n(159),ee=n(682),te=n.n(ee),ne=n(676),re=n.n(ne),ae=n(691),oe=n.n(ae),le=n(863),ie=n.n(le),se=n(1008),ce=n.n(se),ue=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pe=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.fetchProjects=function(e){return Object(p.r)({key:n.props.profile.key,organization:n.props.organization,p:e.page,ps:e.pageSize,q:""!==e.query?e.query:void 0,selected:e.filter}).then(function(t){n.mounted&&n.setState(function(n){var r=null!=e.page&&e.page>1,a=r?n.projects.concat(t.results):t.results,o=t.results.filter(function(e){return e.selected}).map(function(e){return e.key}),l=r?n.selectedProjects.concat(o):o;return{lastSearchParams:e,needToReload:!1,projects:a,projectsTotalCount:t.paging.total,selectedProjects:l}})})},n.handleSelect=function(e){return Object(p.d)(n.props.profile.key,e).then(function(){n.mounted&&n.setState(function(t){return{needToReload:!0,selectedProjects:t.selectedProjects.concat([e])}})})},n.handleUnselect=function(e){return Object(p.m)(n.props.profile.key,e).then(function(){n.mounted&&n.setState(function(t){return{needToReload:!0,selectedProjects:oe()(t.selectedProjects,e)}})})},n.handleCloseClick=function(e){e.preventDefault(),n.props.onClose()},n.renderElement=function(e){var t=ie()(n.state.projects,{key:e});return a.createElement("div",{className:"select-list-list-item"},void 0===t?e:a.createElement(a.Fragment,null,t.name,a.createElement("br",null),a.createElement("span",{className:"note"},t.key)))},n.state={needToReload:!1,projects:[],selectedProjects:[]},n}return ue(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=Object(l.translate)("projects");return a.createElement(h.a,{contentLabel:e,onRequestClose:this.props.onClose},a.createElement("div",{className:"modal-head"},a.createElement("h2",null,e)),a.createElement("div",{className:"modal-body modal-container",id:"profile-projects"},a.createElement(ce.a,{allowBulkSelection:!0,elements:this.state.projects.map(function(e){return e.key}),elementsTotalCount:this.state.projectsTotalCount,labelAll:Object(l.translate)("quality_gates.projects.all"),labelSelected:Object(l.translate)("quality_gates.projects.with"),labelUnselected:Object(l.translate)("quality_gates.projects.without"),needToReload:this.state.needToReload&&this.state.lastSearchParams&&this.state.lastSearchParams.filter!==se.SelectListFilter.All,onSearch:this.fetchProjects,onSelect:this.handleSelect,onUnselect:this.handleUnselect,renderElement:this.renderElement,selectedElements:this.state.selectedProjects,withPaging:!0})),a.createElement("div",{className:"modal-foot"},a.createElement("a",{href:"#",onClick:this.handleCloseClick},Object(l.translate)("close"))))},t}(a.PureComponent),fe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={formOpen:!1,loading:!0,loadingMore:!1,page:1,projects:[],total:0},t.stopLoading=function(){t.mounted&&t.setState({loading:!1})},t.loadMore=function(){t.setState({loadingMore:!0});var e={key:t.props.profile.key,page:t.state.page+1};Object(p.r)(e).then(function(e){var n=e.paging,r=e.results;t.mounted&&t.setState(function(e){return{projects:e.projects.concat(r),total:n.total,loadingMore:!1}})},t.stopLoading)},t.handleChangeClick=function(){t.setState({formOpen:!0})},t.closeForm=function(){t.setState({formOpen:!1}),t.loadProjects()},t}return fe(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.loadProjects()},t.prototype.componentDidUpdate=function(e){e.profile.key!==this.props.profile.key&&this.loadProjects()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.loadProjects=function(){var e=this;if(this.props.profile.isDefault)this.setState({loading:!1,projects:[]});else{this.setState({loading:!0});var t={key:this.props.profile.key,page:this.state.page};Object(p.r)(t).then(function(t){var n=t.paging,r=t.results;e.mounted&&e.setState({projects:r,total:n.total,loading:!1})},this.stopLoading)}},t.prototype.renderDefault=function(){return a.createElement("div",null,a.createElement("span",{className:"badge spacer-right"},Object(l.translate)("default")),Object(l.translate)("quality_profiles.projects_for_default"))},t.prototype.renderProjects=function(){if(this.state.loading)return a.createElement("i",{className:"spinner"});var e=this.state.projects;return 0===e.length?a.createElement("div",null,Object(l.translate)("quality_profiles.no_projects_associated_to_profile")):a.createElement(a.Fragment,null,a.createElement("ul",null,e.map(function(e){return a.createElement("li",{className:"spacer-top js-profile-project","data-key":e.key,key:e.key},a.createElement(Z.Link,{className:"link-with-icon",to:{pathname:"/dashboard",query:{id:e.key}}},a.createElement(re.a,{qualifier:"TRK"})," ",a.createElement("span",null,e.name)))})),a.createElement(te.a,{count:e.length,loadMore:this.loadMore,ready:!this.state.loadingMore,total:this.state.total}))},t.prototype.render=function(){var e=this.props.profile;return a.createElement("div",{className:"boxed-group quality-profile-projects"},e.actions&&e.actions.associateProjects&&a.createElement("div",{className:"boxed-group-actions"},a.createElement(u.Button,{className:"js-change-projects",onClick:this.handleChangeClick},Object(l.translate)("quality_profiles.change_projects"))),a.createElement("header",{className:"boxed-group-header"},a.createElement("h2",null,Object(l.translate)("projects"))),a.createElement("div",{className:"boxed-group-inner"},e.isDefault?this.renderDefault():this.renderProjects()),this.state.formOpen&&a.createElement(pe,{onClose:this.closeForm,organization:this.props.organization,profile:e}))},t}(a.PureComponent),me=n(764),he=n.n(me),ge=n(725),ye=n(669),be=n(649);function ve(e){return a.createElement("div",{className:"quality-profile-rules-deprecated clearfix"},a.createElement("span",{className:"pull-left"},a.createElement("span",{className:"text-middle"},Object(l.translate)("quality_profiles.deprecated_rules")),a.createElement(j.a,{className:"spacer-left",overlay:Object(l.translate)("quality_profiles.deprecated_rules_description")})),a.createElement(Z.Link,{className:"pull-right",to:Object(be.i)({qprofile:e.profile},e.organization)},e.activeDeprecatedRules))}var Oe=n(707),je=n.n(Oe),Ee=n(648);function _e(e){var t=Object(be.y)({qprofile:e.qprofile,activation:"true",types:e.type},e.organization),n=Object(be.y)({qprofile:e.qprofile,activation:"false",types:e.type},e.organization),r=null;return null!=e.count&&null!=e.total&&(r=e.total-e.count),a.createElement("tr",null,a.createElement("td",null,a.createElement("span",null,a.createElement(je.a,{className:"little-spacer-right",query:e.type}),Object(l.translate)("issue.type",e.type,"plural"))),a.createElement("td",{className:"thin nowrap text-right"},null!=e.count&&a.createElement(Z.Link,{to:t},Object(Ee.formatMeasure)(e.count,"SHORT_INT",null))),a.createElement("td",{className:"thin nowrap text-right"},null!=r&&(r>0?a.createElement(Z.Link,{className:"small text-muted",to:n},Object(Ee.formatMeasure)(r,"SHORT_INT",null)):a.createElement("span",{className:"note text-muted"},"0"))))}function Ne(e){var t=Object(be.y)({qprofile:e.qprofile,activation:"true"},e.organization),n=Object(be.y)({qprofile:e.qprofile,activation:"false"},e.organization),r=null;return null!=e.count&&null!=e.total&&(r=e.total-e.count),a.createElement("tr",null,a.createElement("td",null,a.createElement("strong",null,Object(l.translate)("total"))),a.createElement("td",{className:"thin nowrap text-right"},null!=e.count&&a.createElement(Z.Link,{to:t},a.createElement("strong",null,Object(Ee.formatMeasure)(e.count,"SHORT_INT",null)))),a.createElement("td",{className:"thin nowrap text-right"},null!=r&&(r>0?a.createElement(Z.Link,{className:"small text-muted",to:n},a.createElement("strong",null,Object(Ee.formatMeasure)(r,"SHORT_INT",null))):a.createElement("span",{className:"note text-muted"},"0"))))}function Se(e){var t=Object(be.y)({qprofile:e.profile,activation:"false",compareToProfile:e.sonarway,languages:e.language},e.organization);return a.createElement("div",{className:"quality-profile-rules-sonarway-missing clearfix"},a.createElement("span",{className:"pull-left"},a.createElement("span",{className:"text-middle"},Object(l.translate)("quality_profiles.sonarway_missing_rules")),a.createElement(j.a,{className:"spacer-left",overlay:Object(l.translate)("quality_profiles.sonarway_missing_rules_description")})),a.createElement(Z.Link,{className:"pull-right","data-test":"rules",to:t},e.sonarWayMissingRules))}var qe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ce=["BUG","VULNERABILITY","CODE_SMELL","SECURITY_HOTSPOT"],ke=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={activatedTotal:null,activatedByType:he()(Ce.map(function(e){return{val:e,count:null}}),"val"),allByType:he()(Ce.map(function(e){return{val:e,count:null}}),"val"),compareToSonarWay:null,total:null},t}return qe(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.loadRules()},t.prototype.componentDidUpdate=function(e){e.profile.key!==this.props.profile.key&&this.loadRules()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.loadProfile=function(){return this.props.profile.isBuiltIn?Promise.resolve(null):Object(p.s)({compareToSonarWay:!0,profile:this.props.profile.key})},t.prototype.loadAllRules=function(){return Object(ge.f)({languages:this.props.profile.language,facets:"types",organization:this.props.organization||void 0,ps:1})},t.prototype.loadActivatedRules=function(){return Object(ge.f)({activation:"true",facets:"types",organization:this.props.organization||void 0,ps:1,qprofile:this.props.profile.key})},t.prototype.loadRules=function(){var e=this;Promise.all([this.loadAllRules(),this.loadActivatedRules(),this.loadProfile()]).then(function(t){if(e.mounted){var n=t[0],r=t[1],a=t[2];e.setState({activatedTotal:r.total,allByType:he()(Object(ge.g)(n,"types"),"val"),activatedByType:he()(Object(ge.g)(r,"types"),"val"),compareToSonarWay:a&&a.compareToSonarWay,total:n.total})}})},t.prototype.getRulesCountForType=function(e){return this.state.activatedByType&&this.state.activatedByType[e]?this.state.activatedByType[e].count:null},t.prototype.getRulesTotalForType=function(e){return this.state.allByType&&this.state.allByType[e]?this.state.allByType[e].count:null},t.prototype.render=function(){var e=this,t=this.props,r=t.organization,o=t.profile,i=this.state.compareToSonarWay,s=Object(be.y)({qprofile:o.key,activation:"false"},r),c=o.actions,p=void 0===c?{}:c;return a.createElement("div",{className:"boxed-group quality-profile-rules"},a.createElement("div",{className:"quality-profile-rules-distribution"},a.createElement("table",{className:"data condensed"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,a.createElement("h2",null,Object(l.translate)("rules"))),a.createElement("th",null,Object(l.translate)("active")),a.createElement("th",null,Object(l.translate)("inactive")))),a.createElement("tbody",null,a.createElement(Ne,{count:this.state.activatedTotal,organization:r,qprofile:o.key,total:this.state.total}),Ce.map(function(t){return a.createElement(_e,{count:e.getRulesCountForType(t),key:t,organization:r,qprofile:o.key,total:e.getRulesTotalForType(t),type:t})}))),p.edit&&!o.isBuiltIn&&a.createElement("div",{className:"text-right big-spacer-top"},a.createElement(Z.Link,{className:"button js-activate-rules",to:s},Object(l.translate)("quality_profiles.activate_more"))),p.copy&&o.isBuiltIn&&a.createElement("div",{className:"text-right big-spacer-top"},a.createElement(ye.a,{doc:Promise.resolve().then(n.bind(null,1978))},a.createElement(u.Button,{className:"disabled js-activate-rules"},Object(l.translate)("quality_profiles.activate_more"))))),o.activeDeprecatedRuleCount>0&&a.createElement(ve,{activeDeprecatedRules:o.activeDeprecatedRuleCount,organization:r,profile:o.key}),null!=i&&i.missingRuleCount>0&&a.createElement(Se,{language:o.language,organization:r,profile:o.key,sonarWayMissingRules:i.missingRuleCount,sonarway:i.profile}))},t}(a.PureComponent);function Pe(e){var t=e.organization,n=e.profile;return a.createElement("div",null,a.createElement("div",{className:"quality-profile-grid"},a.createElement("div",{className:"quality-profile-grid-left"},a.createElement(ke,{organization:t,profile:n}),a.createElement(s,{exporters:e.exporters,organization:t,profile:n}),n.actions&&n.actions.edit&&!n.isBuiltIn&&a.createElement(X,{organization:t||void 0,profile:n})),a.createElement("div",{className:"quality-profile-grid-right"},a.createElement(q,{organization:t,profile:n,profiles:e.profiles,updateProfiles:e.updateProfiles}),a.createElement(de,{organization:t,profile:n}))))}n.d(t,"default",function(){return Pe})},669:function(e,t,n){"use strict";var r,a=n(12),o=n(653),l=n.n(o),i=n(650),s=n(694),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=Object(i.lazyLoad)(function(){return Promise.all([n.e(7),n.e(10)]).then(n.bind(null,804))}),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={open:!1},t.close=function(){t.mounted&&t.setState({open:!1})},t}return c(t,e),t.prototype.componentDidMount=function(){var e=this;this.mounted=!0,this.props.doc.then(function(t){var n=t.default;e.mounted&&e.setState({content:n})},function(){}),document.addEventListener("scroll",this.close,!0)},t.prototype.componentWillUnmount=function(){this.mounted=!1,document.removeEventListener("scroll",this.close,!0)},t.prototype.render=function(){return this.state.content?a.createElement(l.a,{className:this.props.className,overlay:a.createElement("div",{className:"abs-width-300"},a.createElement(u,{childProps:this.props.overlayProps,className:"cut-margins",content:Object(s.filterContent)(this.state.content),isTooltip:!0}))},this.props.children):this.props.children||null},t}(a.PureComponent);t.a=p},683:function(e,t,n){"use strict";n.d(t,"y",function(){return c}),n.d(t,"s",function(){return u}),n.d(t,"j",function(){return p}),n.d(t,"w",function(){return f}),n.d(t,"r",function(){return d}),n.d(t,"q",function(){return m}),n.d(t,"A",function(){return h}),n.d(t,"v",function(){return g}),n.d(t,"i",function(){return y}),n.d(t,"l",function(){return b}),n.d(t,"g",function(){return v}),n.d(t,"o",function(){return O}),n.d(t,"n",function(){return j}),n.d(t,"p",function(){return E}),n.d(t,"h",function(){return _}),n.d(t,"d",function(){return N}),n.d(t,"m",function(){return S}),n.d(t,"z",function(){return q}),n.d(t,"x",function(){return C}),n.d(t,"c",function(){return k}),n.d(t,"u",function(){return P}),n.d(t,"b",function(){return z}),n.d(t,"t",function(){return x}),n.d(t,"e",function(){return w}),n.d(t,"f",function(){return D}),n.d(t,"a",function(){return T}),n.d(t,"k",function(){return R});var r=n(684),a=n.n(r),o=n(796),l=n(48),i=n(651),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function c(e){return Object(l.getJSON)("/api/qualityprofiles/search",e).catch(i.a)}function u(e){return Object(l.getJSON)("/api/qualityprofiles/show",e)}function p(e){return Object(l.postJSON)("/api/qualityprofiles/create",e).catch(i.a)}function f(e){return Object(l.postJSON)("/api/qualityprofiles/restore",e).catch(i.a)}function d(e){return Object(l.getJSON)("/api/qualityprofiles/projects",e).catch(i.a)}function m(e){return Object(l.getJSON)("/api/qualityprofiles/inheritance",{profileKey:e}).catch(i.a)}function h(e){return Object(l.post)("/api/qualityprofiles/set_default",{profileKey:e})}function g(e,t){return Object(l.post)("/api/qualityprofiles/rename",{key:e,name:t}).catch(i.a)}function y(e,t){return Object(l.postJSON)("/api/qualityprofiles/copy",{fromKey:e,toName:t}).catch(i.a)}function b(e){return Object(l.post)("/api/qualityprofiles/delete",{profileKey:e}).catch(i.a)}function v(e,t){return Object(l.post)("/api/qualityprofiles/change_parent",{profileKey:e,parentKey:t}).catch(i.a)}function O(){return Object(l.getJSON)("/api/qualityprofiles/importers").then(function(e){return e.importers},i.a)}function j(){return Object(l.getJSON)("/api/qualityprofiles/exporters").then(function(e){return e.exporters})}function E(e){return Object(l.getJSON)("/api/qualityprofiles/changelog",e)}function _(e,t){return Object(l.getJSON)("/api/qualityprofiles/compare",{leftKey:e,rightKey:t})}function N(e,t){return Object(l.post)("/api/qualityprofiles/add_project",{key:e,project:t}).catch(i.a)}function S(e,t){return Object(l.post)("/api/qualityprofiles/remove_project",{key:e,project:t}).catch(i.a)}function q(e){return Object(l.getJSON)("/api/qualityprofiles/search_users",e).catch(i.a)}function C(e){return Object(l.getJSON)("/api/qualityprofiles/search_groups",e).catch(i.a)}function k(e){return Object(l.post)("/api/qualityprofiles/add_user",e).catch(i.a)}function P(e){return Object(l.post)("/api/qualityprofiles/remove_user",e).catch(i.a)}function z(e){return Object(l.post)("/api/qualityprofiles/add_group",e).catch(i.a)}function x(e){return Object(l.post)("/api/qualityprofiles/remove_group",e).catch(i.a)}function w(e){return Object(l.postJSON)("/api/qualityprofiles/activate_rules",e)}function D(e){return Object(l.postJSON)("/api/qualityprofiles/deactivate_rules",e)}function T(e){var t=e.params&&a()(e.params,function(e,t){return t+"="+Object(o.csvEscape)(e)}).join(";");return Object(l.post)("/api/qualityprofiles/activate_rule",s({},e,{params:t})).catch(i.a)}function R(e){return Object(l.post)("/api/qualityprofiles/deactivate_rule",e).catch(i.a)}},694:function(e,t,n){"use strict";function r(e){for(var t,n,r=0;r<e.length;r++){if("---"===e[r].trim()){if(void 0!==t){n=r;break}t=r}}return void 0!==n?{firstLine:t,lastLine:n}:void 0}function a(e){for(var t={},n=0;n<e.length;n++){var r=e[n].split(":").map(function(e){return e.trim()});2===r.length&&(t[r[0]]=r[1])}return t}function o(e,t){for(var n="\x3c!-- "+t+" --\x3e",r="\x3c!-- /"+t+" --\x3e",a=e,o=a.indexOf(n),l=a.indexOf(r);-1!==o&&-1!==l;)o=(a=a.substring(0,o)+a.substring(l+r.length)).indexOf(n),l=a.indexOf(r);return a}e.exports={getFrontMatter:function(e){var t=e.split("\n"),n=r(t);return n?a(t.slice(n.firstLine+1,n.lastLine)):{}},separateFrontMatter:function(e){var t=e.split("\n"),n=r(t);if(n){var o=a(t.slice(n.firstLine+1,n.lastLine)),l=t.slice(n.lastLine+1).join("\n");return{frontmatter:o,content:l}}return{frontmatter:{},content:e}},filterContent:function(e){var t="\x3c!-- \\/?(sonarqube|sonarcloud|static) --\x3e",r=n(118),a=r.isSonarCloud,l=r.getInstance,i=o(e.replace(/{instance}/gi,l()),"static");return(a()?o(i,"sonarqube"):o(i,"sonarcloud")).replace(new RegExp("^"+t+"(\n|\r|\r\n|$)","gm"),"").replace(new RegExp(""+t,"g"),"")}}},725:function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"h",function(){return f});var r=n(48),a=n(651);function o(e){return Object(r.getJSON)("/api/rules/app",e).catch(a.a)}function l(e){return Object(r.getJSON)("/api/rules/search",e).catch(a.a)}function i(e,t){var n=e.facets.find(function(e){return e.property===t});return n?n.values:[]}function s(e){return Object(r.getJSON)("/api/rules/show",e).catch(a.a)}function c(e){return Object(r.getJSON)("/api/rules/tags",e).then(function(e){return e.tags},a.a)}function u(e){return Object(r.postJSON)("/api/rules/create",e).then(function(e){return e.rule},function(e){return e&&409===e.status?Promise.reject(e):Object(a.a)(e)})}function p(e){return Object(r.post)("/api/rules/delete",e).catch(a.a)}function f(e){return Object(r.postJSON)("/api/rules/update",e).then(function(e){return e.rule},a.a)}},994:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(639),a=n(12),o=n(34),l=n(669);function i(e){var t=e.className,i=e.tooltip,s=void 0===i||i,c=a.createElement("div",{className:r("badge badge-info",t)},Object(o.translate)("quality_profiles.built_in"));return s?a.createElement(l.a,{doc:Promise.resolve().then(n.bind(null,1037))},c):c}}}]);
//# sourceMappingURL=328.1570825310815.chunk.js.map