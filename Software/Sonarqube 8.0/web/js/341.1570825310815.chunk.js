(window.webpackJsonp=window.webpackJsonp||[]).push([[341],{1060:function(e,t,n){var o=n(1061);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(643)(o,r);o.locals&&(e.exports=o.locals)},1061:function(e,t,n){(e.exports=n(642)(!1)).push([e.i,".code-snippet{position:relative;margin:8px 0;background:#404040;color:#f0f0f0;border-radius:3px}.code-snippet pre{padding:16px;overflow:auto}.code-snippet>button{position:absolute;top:16px;right:16px;line-height:18px;border:1px solid #fff;color:#fff;font-size:11px;font-weight:400;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.code-snippet>button:active,.code-snippet>button:focus,.code-snippet>button:hover{background-color:#fff;color:#404040}.code-snippet-oneline pre{padding-bottom:40px}.code-snippet-oneline>button{top:auto;bottom:16px}.code-snippet-wrap pre{white-space:pre-wrap;word-break:break-all}.code-snippet .highlight{font-weight:700;color:#f4b1b0}.code-snippet .button-icon{color:#fff!important}.code-snippet .button-icon:active svg,.code-snippet .button-icon:focus svg,.code-snippet .button-icon:hover svg{background-color:#fff;color:#404040}",""])},1146:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var o=n(48),r=n(651);function a(e){return void 0===e&&(e=!0),Object(o.getJSON)("/api/webservices/list",{include_internals:e}).then(function(e){return e.webServices}).catch(r.a)}function i(e,t){return Object(o.getJSON)("/api/webservices/response_example",{controller:e,action:t}).catch(r.a)}},2053:function(e,t,n){var o=n(2054);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(643)(o,r);o.locals&&(e.exports=o.locals)},2054:function(e,t,n){(e.exports=n(642)(!1)).push([e.i,".badges-list{display:flex;justify-content:space-around;justify-content:space-evenly;flex-wrap:nowrap}.badge-button{display:flex;justify-content:center;padding:8px;min-width:146px;height:116px;background-color:#f3f3f3;border:1px solid #e6e6e6;border-radius:3px;transition:all .3s ease}.badge-button:active,.badge-button:focus,.badge-button:hover{background-color:#f3f3f3;border-color:#4b9fd5;box-shadow:none}.badge-button.selected{background-color:#cae3f2;border-color:#236a97}",""])},2136:function(e,t,n){"use strict";n.r(t);var o,r=n(12),a=n(640),i=n(657),c=n.n(i),s=n(34),l=n(718),p=n(661),u=n(118),d=n(639),f=n(164),m=n(48),b=n(652),h=n(649);function g(e,t){var n=v(e,t),r=t.branch,a=t.format,i=void 0===a?"md":a,c=t.metric,l=void 0===c?"alert_status":c,p=t.project;if("url"===i)return n;var u=void 0,d=void 0;switch(e){case o.marketing:u="SonarCloud";break;case o.measure:u=Object(s.getLocalizedMetricName)({key:l});break;case o.qualityGate:default:u="Quality gate"}p&&(d=Object(b.getPathUrlAsString)(Object(h.s)(p,r),!1));var f="!["+u+"]("+n+")";return d?"["+f+"]("+d+")":f}function v(e,t){var n=t.branch,r=t.project,a=t.color,i=void 0===a?"white":a,c=t.metric,s=void 0===c?"alert_status":c,l=t.pullRequest;switch(e){case o.marketing:return Object(b.getHostUrl)()+"/images/project_badges/sonarcloud-"+i+".svg";case o.qualityGate:return Object(b.getHostUrl)()+"/api/project_badges/quality_gate?"+Object(f.stringify)(Object(m.omitNil)({branch:n,project:r,pullRequest:l}));case o.measure:default:return Object(b.getHostUrl)()+"/api/project_badges/measure?"+Object(f.stringify)(Object(m.omitNil)({branch:n,project:r,metric:s,pullRequest:l}))}}!function(e){e.measure="measure",e.qualityGate="quality_gate",e.marketing="marketing"}(o||(o={}));var y,O=(y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onClick(t.props.type)},t}return O(t,e),t.prototype.render=function(){var e=this.props,t=e.selected,n=e.type,i=e.url,c=n!==o.measure?"128px":void 0;return r.createElement(a.Button,{className:d("badge-button",{selected:t}),onClick:this.handleClick},r.createElement("img",{alt:Object(s.translate)("overview.badges",n,"alt"),src:i,width:c}))},t}(r.PureComponent),w=n(668),_=n.n(w),k=n(1146),C=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={badgeMetrics:[]},t.getColorOptions=function(){return["white","black","orange"].map(function(e){return{label:Object(s.translate)("overview.badges.options.colors",e),value:e}})},t.getFormatOptions=function(){return["md","url"].map(function(e){return{label:Object(s.translate)("overview.badges.options.formats",e),value:e}})},t.getMetricOptions=function(){return t.state.badgeMetrics.map(function(e){var n=t.props.metrics[e];return{value:e,label:n?Object(s.getLocalizedMetricName)(n):e}})},t.handleColorChange=function(e){var n=e.value;t.props.updateOptions({color:n})},t.handleFormatChange=function(e){var n=e.value;t.props.updateOptions({format:n})},t.handleMetricChange=function(e){var n=e.value;t.props.updateOptions({metric:n})},t.renderBadgeType=function(e,n){return e===o.marketing?r.createElement(r.Fragment,null,r.createElement("label",{className:"spacer-right",htmlFor:"badge-color"},Object(s.translate)("color"),":"),r.createElement(_.a,{className:"input-medium",clearable:!1,name:"badge-color",onChange:t.handleColorChange,options:t.getColorOptions(),searchable:!1,value:n.color})):e===o.measure?r.createElement(r.Fragment,null,r.createElement("label",{className:"spacer-right",htmlFor:"badge-metric"},Object(s.translate)("overview.badges.metric"),":"),r.createElement(_.a,{className:"input-medium",clearable:!1,name:"badge-metric",onChange:t.handleMetricChange,options:t.getMetricOptions(),searchable:!1,value:n.metric})):null},t}return C(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchBadgeMetrics()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.fetchBadgeMetrics=function(){var e=this;Object(k.b)(!1).then(function(t){if(e.mounted){var n=t.find(function(e){return"api/project_badges"===e.path}),o=n&&n.actions.find(function(e){return"measure"===e.key}),r=o&&o.params&&o.params.find(function(e){return"metric"===e.key});r&&r.possibleValues&&e.setState({badgeMetrics:r.possibleValues})}},function(){})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.options,a=e.type;return r.createElement("div",{className:t},this.renderBadgeType(a,n),r.createElement("label",{className:d("spacer-right",{"big-spacer-left":a!==o.qualityGate}),htmlFor:"badge-format"},Object(s.translate)("format"),":"),r.createElement(_.a,{className:"input-medium",clearable:!1,name:"badge-format",onChange:this.handleFormatChange,options:this.getFormatOptions(),searchable:!1,value:this.props.options.format||"md"}))},t}(r.PureComponent),N=(n(2053),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),x=function(){return(x=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1,selectedType:o.measure,badgeOptions:{color:"white",metric:"alert_status"}},t.handleClose=function(){t.setState({open:!1})},t.handleOpen=function(){t.setState({open:!0})},t.handleSelectBadge=function(e){t.setState({selectedType:e})},t.handleUpdateOptions=function(e){t.setState(function(t){return{badgeOptions:x({},t.badgeOptions,e)}})},t}return N(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.branchLike,i=t.project,d=t.qualifier,f=this.state,m=f.selectedType,b=f.badgeOptions,h=Object(s.translate)("overview.badges.title"),y=x({project:i},b,Object(p.d)(n)),O=Object(u.isSonarCloud)()?[o.measure,o.qualityGate,o.marketing]:[o.measure,o.qualityGate];return r.createElement("div",{className:"overview-meta-card"},r.createElement(a.Button,{className:"js-project-badges",onClick:this.handleOpen},Object(s.translate)("overview.badges.get_badge",d)),this.state.open&&r.createElement(c.a,{contentLabel:h,onRequestClose:this.handleClose},r.createElement("header",{className:"modal-head"},r.createElement("h2",null,h)),r.createElement("div",{className:"modal-body"},r.createElement("p",{className:"huge-spacer-bottom"},Object(s.translate)("overview.badges.description",d)),r.createElement("div",{className:"badges-list spacer-bottom"},O.map(function(t){return r.createElement(j,{key:t,onClick:e.handleSelectBadge,selected:t===m,type:t,url:v(t,y)})})),r.createElement("p",{className:"text-center note huge-spacer-bottom"},Object(s.translate)("overview.badges",m,"description",d)),r.createElement(E,{className:"big-spacer-bottom",metrics:this.props.metrics,options:b,type:m,updateOptions:this.handleUpdateOptions}),r.createElement(l.a,{isOneLine:!0,snippet:g(m,y)})),r.createElement("footer",{className:"modal-foot"},r.createElement(a.ResetButtonLink,{className:"js-modal-close",onClick:this.handleClose},Object(s.translate)("close")))))},t}(r.PureComponent);t.default=q},718:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n(639),r=n(12),a=n(829),i=(n(1060)," \\\n  ");function c(e){var t=e.className,n=e.isOneLine,c=e.noCopy,s=e.render,l=e.snippet,p=e.wrap,u=Array.isArray(l)?l.filter(function(e){return void 0!==e}):[l],d=n?u.join(" "):u.join(i);return r.createElement("div",{className:o("code-snippet",{"code-snippet-oneline":n,"code-snippet-wrap":p},t)},r.createElement("pre",null,s?s():d),!c&&r.createElement(a.ClipboardButton,{copyValue:d}))}}}]);
//# sourceMappingURL=341.1570825310815.chunk.js.map