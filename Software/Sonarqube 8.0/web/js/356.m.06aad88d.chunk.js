(window.webpackJsonp=window.webpackJsonp||[]).push([[356],{1699:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(311);t.default=function(e){var t=e.className,n=e.fill,a=void 0===n?"currentColor":n,c=e.size;return r.createElement(o.default,{className:t,size:c},r.createElement("path",{d:"M1,7L7,7L7,1L9,1L9,7L15,7L15,9L9,9L9,15L7,15L7,9L1,9L1,7Z",style:{fill:a}}))}},1823:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(28),a=n(328),c=n.n(a),i=n(1699),l=n.n(i),s=n(5),u=n(569);class p extends r.Component{render(){const e=window.SonarGovernance.CreateForm;return r.createElement(e,Object.assign({},this.props))}}var f=n(383),d=n(22),m=n(319),h=n(329);n.d(t,"GlobalNavPlus",function(){return j});class j extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={createPortfolio:!1,governanceReady:!1},this.handleNewProjectClick=e=>{e.preventDefault(),this.props.openProjectOnboarding()},this.openCreatePortfolioForm=()=>{this.setState({createPortfolio:!0})},this.closeCreatePortfolioForm=()=>{this.setState({createPortfolio:!1})},this.handleNewPortfolioClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.openCreatePortfolioForm()},this.handleCreatePortfolio=e=>{let t=e.key,n=e.qualifier;return Object(u.a)({component:t}).then(e=>{e.configuration&&e.configuration.extensions&&e.configuration.extensions.find(e=>"governance/console"===e.key)?this.props.router.push(Object(m.q)(t,n)):this.props.router.push(Object(m.r)(t)),this.closeCreatePortfolioForm()})}}componentDidMount(){this.mounted=!0,this.props.appState.qualifiers.includes("VW")&&Object(f.a)("governance/console").then(()=>{this.mounted&&this.setState({governanceReady:!0})},()=>{})}componentWillUnmount(){this.mounted=!1}renderCreateProject(e){return e?r.createElement("li",null,r.createElement("a",{className:"js-new-project",href:"#",onClick:this.handleNewProjectClick},Object(d.isSonarCloud)()?Object(s.translate)("provisioning.analyze_new_project"):Object(s.translate)("my_account.create_new.TRK"))):null}renderCreateOrganization(e){return e?r.createElement("li",null,r.createElement(o.Link,{className:"js-new-organization",to:"/create-organization"},Object(s.translate)("my_account.create_new_organization"))):null}renderCreatePortfolio(e,t){return this.props.appState.qualifiers.includes("VW")&&e?r.createElement("li",null,r.createElement("a",{className:"js-new-portfolio",href:"#",onClick:this.handleNewPortfolioClick},t?Object(s.translate)("my_account.create_new",t):Object(s.translate)("my_account.create_new_portfolio_application"))):null}render(){const e=this.props.currentUser,t=Object(h.a)(e,"applicationcreator"),n=Object(d.isSonarCloud)(),o=Object(h.a)(e,"portfoliocreator"),a=Object(d.isSonarCloud)()||Object(h.a)(e,"provisioning");if(!(a||t||o||n))return null;let i;return t?o||(i="APP"):i="VW",r.createElement(r.Fragment,null,r.createElement(c.a,{overlay:r.createElement("ul",{className:"menu"},this.renderCreateProject(a),this.renderCreateOrganization(n),this.renderCreatePortfolio(t||o,i)),tagName:"li"},r.createElement("a",{className:"navbar-icon navbar-plus",href:"#",title:Object(d.isSonarCloud)()?Object(s.translate)("my_account.create_new_project_or_organization"):Object(s.translate)("my_account.create_new_project_portfolio_or_application")},r.createElement(l.a,null))),this.state.governanceReady&&this.state.createPortfolio&&r.createElement(p,{defaultQualifier:i,onClose:this.closeCreatePortfolioForm,onCreate:this.handleCreatePortfolio}))}}t.default=Object(o.withRouter)(j)},383:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return i});var r=n(322),o=n(14);let a=!1;function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body";return new Promise(n=>{const o=document.createElement("script");o.src="".concat(Object(r.getBaseUrl)()).concat(e),o.onload=n,document.getElementsByTagName(t)[0].appendChild(o)})}async function i(e){const t=Object(o.a)(e);if(t)return Promise.resolve(t);if(!a){(0,(await Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(281)]).then(n.bind(null,507))).default)(),a=!0}await c("/static/".concat(e,".js"));const r=Object(o.a)(e);return r||Promise.reject()}},569:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return i});var r=n(8),o=n(320);function a(e){return Object(r.getJSON)("/api/navigation/component",e).catch(o.a)}function c(){return Object(r.getJSON)("/api/navigation/marketplace").catch(o.a)}function i(){return Object(r.getJSON)("/api/navigation/settings").catch(o.a)}}}]);
//# sourceMappingURL=356.m.06aad88d.chunk.js.map