(window.webpackJsonp=window.webpackJsonp||[]).push([[359],{2123:function(e,t,n){"use strict";n.r(t);var r=n(12),o=n(34),a=n(807),i=n(118),l=n(640),c=n(645),s=n.n(c),u=n(747),m=n(895),p=n(634),d=n(159),f=n(656),g=n(649);function y(e,t,n){return r.createElement("span",{key:e.key},r.createElement(d.Link,{to:Object(g.p)(e.key)},e.name),t<n.length-1&&", ")}function h(e){var t=e.organizations;return r.createElement(r.Fragment,null,r.createElement("p",{className:"big-spacer-bottom"},r.createElement(p.FormattedMessage,{defaultMessage:Object(o.translate)("my_profile.delete_account.info.orgs_to_transfer_or_delete"),id:"my_profile.delete_account.info.orgs_to_transfer_or_delete",values:{organizations:r.createElement(r.Fragment,null,t.map(y))}})),r.createElement(f.Alert,{className:"big-spacer-bottom",variant:"warning"},r.createElement(p.FormattedMessage,{defaultMessage:Object(o.translate)("my_profile.delete_account.info.orgs_to_transfer_or_delete.info"),id:"my_profile.delete_account.info.orgs_to_transfer_or_delete.info",values:{link:r.createElement("a",{href:"https://sieg.eu.ngrok.io/documentation/organizations/overview/#how-to-transfer-ownership-of-an-organization",rel:"noopener noreferrer",target:"_blank"},Object(o.translate)("my_profile.delete_account.info.orgs_to_transfer_or_delete.info.link"))}})))}function b(e){var t=e.className,n=e.organizations,a=n.filter(function(e){return e.actions&&e.actions.admin});return r.createElement("ul",{className:t},r.createElement("li",{className:"spacer-bottom"},Object(o.translate)("my_profile.delete_account.info")),r.createElement("li",{className:"spacer-bottom"},r.createElement(p.FormattedMessage,{defaultMessage:Object(o.translate)("my_profile.delete_account.data.info"),id:"my_profile.delete_account.data.info",values:{help:r.createElement("a",{href:"/documentation/user-guide/user-account/#delete-your-user-account",rel:"noopener noreferrer",target:"_blank"},Object(o.translate)("learn_more"))}})),n.length>0&&r.createElement("li",{className:"spacer-bottom"},r.createElement(p.FormattedMessage,{defaultMessage:Object(o.translate)("my_profile.delete_account.info.orgs.members"),id:"my_profile.delete_account.info.orgs.members",values:{organizations:r.createElement(r.Fragment,null,n.map(y))}})),a.length>0&&r.createElement("li",{className:"spacer-bottom"},r.createElement(p.FormattedMessage,{defaultMessage:Object(o.translate)("my_profile.delete_account.info.orgs.administrators"),id:"my_profile.delete_account.info.orgs.administrators",values:{organizations:r.createElement(r.Fragment,null,a.map(y))}})))}function _(e){var t=e.className,n=e.organizationsSafeToDelete,o=e.organizationsToTransferOrDelete;return o.length>0?r.createElement(h,{organizations:o}):r.createElement(b,{className:t,organizations:n})}var O,v=n(646),E=n(1456),j=n.n(E),w=n(1457),N=n.n(w),z=n(766),P=n(1019),M=n(677),T=n(738),D=(O=function(e,t){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSubmit=function(){var e=t.props.user;return Object(z.c)({login:e.login}).then(t.props.doLogout).then(function(){P.a.clear(),window.location.replace("/account-deleted")})},t.handleValidate=function(e){var n=e.login,r=t.props.user,a={},i=n.trim();return i?r.externalIdentity&&i!==r.externalIdentity.trim()&&(a.login=Object(o.translate)("my_profile.delete_account.login.wrong_value")):a.login=Object(o.translate)("my_profile.delete_account.login.required"),a},t}return D(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.organizationsSafeToDelete,a=e.organizationsToTransferOrDelete,i=e.toggleModal,l=e.user;return r.createElement(N.a,{confirmButtonText:Object(o.translate)("delete"),header:Object(o.translateWithParameters)("my_profile.delete_account.modal.header",t,l.externalIdentity||""),initialValues:{login:""},isDestructive:!0,onClose:i,onSubmit:this.handleSubmit,validate:this.handleValidate},function(e){var t=e.dirty,i=e.errors,l=e.handleBlur,c=e.handleChange,s=e.isSubmitting,u=e.touched,m=e.values;return r.createElement(r.Fragment,null,r.createElement(f.Alert,{className:"big-spacer-bottom",variant:"error"},Object(o.translate)("my_profile.warning_message")),r.createElement(_,{className:"list-styled no-padding big-spacer-bottom",organizationsSafeToDelete:n,organizationsToTransferOrDelete:a}),r.createElement(j.a,{autoFocus:!0,dirty:t,disabled:s,error:i.login,id:"user-login",label:r.createElement("label",{htmlFor:"user-login"},Object(o.translate)("my_profile.delete_account.verify"),r.createElement("em",{className:"mandatory"},"*")),name:"login",onBlur:l,onChange:c,touched:u.login,type:"text",value:m.login}))})},t}(r.PureComponent),x={doLogout:T.b},C=Object(v.connect)(function(){return{}},x)(Object(M.a)(k)),F=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!0,organizationsToTransferOrDelete:[],showModal:!1},t.fetchOrganizationsThatPreventDeletion=function(){Object(u.h)().then(function(e){var n=e.organizations;t.mounted&&t.setState({loading:!1,organizationsToTransferOrDelete:n})},function(){})},t.toggleModal=function(){t.mounted&&t.setState(function(e){return{showModal:!e.showModal}})},t}return F(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchOrganizationsThatPreventDeletion()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.user,n=e.userOrganizations,a=this.state,i=a.organizationsToTransferOrDelete,c=a.loading,u=a.showModal,m=Object(o.translate)("my_profile.delete_account");return r.createElement("div",null,r.createElement("h2",{className:"spacer-bottom"},m),r.createElement(s.a,{loading:c}),!c&&r.createElement(r.Fragment,null,r.createElement(_,{className:"list-styled no-padding big-spacer-top big-spacer-bottom",organizationsSafeToDelete:n,organizationsToTransferOrDelete:i}),r.createElement(l.Button,{className:"button-red",disabled:i.length>0,onClick:this.toggleModal,type:"button"},Object(o.translate)("delete")),u&&r.createElement(C,{label:m,organizationsSafeToDelete:n,organizationsToTransferOrDelete:i,toggleModal:this.toggleModal,user:t})))},t}(r.PureComponent),U=Object(a.a)(Object(m.a)(S)),A=n(924),I=n(652),B=n(664),L=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!0},t}return L(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchIdentityProviders()},t.prototype.componentDidUpdate=function(e){e.user!==this.props.user&&this.fetchIdentityProviders()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.fetchIdentityProviders=function(){var e=this;this.setState({loading:!0}),Object(z.d)().then(function(e){return e.identityProviders}).then(function(t){if(e.mounted){var n=t.find(function(t){return t.key===e.props.user.externalProvider});e.setState({loading:!1,identityProvider:n})}}).catch(function(){e.mounted&&e.setState({loading:!1})})},t.prototype.render=function(){var e=this.props.user,t=this.state,n=t.loading,o=t.identityProvider;return n?null:o?r.createElement("div",{className:"identity-provider",style:{backgroundColor:o.backgroundColor,color:Object(A.getTextColor)(o.backgroundColor,B.colors.secondFontColor)}},r.createElement("img",{alt:o.name,className:"little-spacer-right",height:"14",src:Object(I.getBaseUrl)()+o.iconPath,width:"14"})," ",e.externalIdentity):r.createElement("div",null,e.externalProvider,": ",e.externalIdentity)},t}(r.PureComponent);function V(e){var t=e.groups;return r.createElement("div",null,r.createElement("h2",{className:"spacer-bottom"},Object(o.translate)("my_profile.groups")),r.createElement("ul",{id:"groups"},t.map(function(e){return r.createElement("li",{className:"little-spacer-bottom",key:e,title:e},e)})))}function q(e){var t=e.user,n=e.scmAccounts;return r.createElement("div",null,r.createElement("h2",{className:"spacer-bottom"},Object(o.translate)("my_profile.scm_accounts")),r.createElement("ul",{id:"scm-accounts"},r.createElement("li",{className:"little-spacer-bottom text-ellipsis",title:t.login},t.login),t.email&&r.createElement("li",{className:"little-spacer-bottom text-ellipsis",title:t.email},t.email),n.map(function(e){return r.createElement("li",{className:"little-spacer-bottom",key:e,title:e},e)})))}function J(e){var t=e.currentUser;return r.createElement("div",{className:"account-body account-container"},r.createElement("div",{className:"boxed-group boxed-group-inner"},r.createElement("div",{className:"spacer-bottom"},Object(o.translate)("login"),": ",r.createElement("strong",{id:"login"},t.login)),!t.local&&"sonarqube"!==t.externalProvider&&r.createElement("div",{className:"spacer-bottom",id:"identity-provider"},r.createElement(W,{user:t})),Boolean(t.email)&&r.createElement("div",{className:"spacer-bottom"},Object(o.translate)("my_profile.email"),": ",r.createElement("strong",{id:"email"},t.email)),!Object(i.isSonarCloud)()&&r.createElement(r.Fragment,null,r.createElement("hr",{className:"account-separator"}),r.createElement(V,{groups:t.groups})),r.createElement("hr",null),r.createElement(q,{scmAccounts:t.scmAccounts,user:t}),Object(i.isSonarCloud)()&&r.createElement(r.Fragment,null,r.createElement("hr",null),r.createElement(U,{user:t}))))}n.d(t,"Profile",function(){return J});t.default=Object(a.a)(J)},789:function(e,t,n){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),a={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},807:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r,o=n(12),a=n(162),i=n.n(a),l=n(659),c=n(728),s=n(767),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return u(n,t),n.prototype.componentDidMount=function(){Object(l.b)(this.props.currentUser)||i()()},n.prototype.render=function(){return Object(l.b)(this.props.currentUser)?o.createElement(e,m({},this.props)):null},n.displayName=Object(c.a)(e,"whenLoggedIn"),n}(o.Component);return Object(s.a)(t)}},895:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r,o=n(12),a=n(646),i=n(946),l=n(647),c=n(728),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function m(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s(n,t),n.prototype.componentDidMount=function(){this.props.fetchMyOrganizations()},n.prototype.render=function(){return o.createElement(e,u({},this.props))},n.displayName=Object(c.a)(e,"withUserOrganizations"),n}(o.Component),n={fetchMyOrganizations:i.b};return Object(a.connect)(function(e){return{userOrganizations:Object(l.getMyOrganizations)(e)}},n)(t)}}}]);
//# sourceMappingURL=359.1570825310815.chunk.js.map