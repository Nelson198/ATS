{"version":3,"sources":["webpack:///./src/main/js/apps/account/profile/UserDeleteAccountContent.tsx","webpack:///./src/main/js/apps/account/profile/UserDeleteAccountModal.tsx","webpack:///./src/main/js/apps/account/profile/UserDeleteAccount.tsx","webpack:///./src/main/js/apps/account/profile/UserExternalIdentity.tsx","webpack:///./src/main/js/apps/account/profile/UserGroups.tsx","webpack:///./src/main/js/apps/account/profile/UserScmAccounts.tsx","webpack:///./src/main/js/apps/account/profile/Profile.tsx","webpack:///./node_modules/exenv/index.js","webpack:///./src/main/js/components/hoc/whenLoggedIn.tsx","webpack:///./src/main/js/components/hoc/withUserOrganizations.tsx"],"names":["getOrganizationLink","org","i","organizations","index_js_exposed","key","es","to","Object","urls","name","length","ShowOrganizationsToTransferOrDelete","_a","className","index_es","defaultMessage","l10n","id","values","map","Alert","variant","link","href","rel","target","ShowOrganizations","organizationsIAdministrate","filter","o","actions","admin","help","UserDeleteAccountContent","organizationsSafeToDelete","organizationsToTransferOrDelete","UserDeleteAccountModal_UserDeleteAccountModal","_super","UserDeleteAccountModal","_this","apply","this","arguments","handleSubmit","user","props","users","login","then","doLogout","RecentHistory","clear","window","location","replace","handleValidate","errors","trimmedLogin","trim","externalIdentity","__extends","prototype","render","label","toggleModal","ValidationModal_default","a","confirmButtonText","header","initialValues","isDestructive","onClose","onSubmit","validate","dirty","handleBlur","handleChange","isSubmitting","touched","InputValidationField_default","autoFocus","disabled","error","htmlFor","onBlur","onChange","type","value","mapDispatchToProps","rootActions","profile_UserDeleteAccountModal","react_redux_es","withRouter","UserDeleteAccount_UserDeleteAccount","UserDeleteAccount","mounted","state","loading","showModal","fetchOrganizationsThatPreventDeletion","api_organizations","setState","UserDeleteAccount_extends","componentDidMount","componentWillUnmount","userOrganizations","_b","DeferredSpinner_default","buttons","onClick","profile_UserDeleteAccount","whenLoggedIn","withUserOrganizations","UserExternalIdentity","UserExternalIdentity_extends","fetchIdentityProviders","componentDidUpdate","prevProps","r","identityProviders","providers","identityProvider","find","provider","externalProvider","catch","style","backgroundColor","color","colors","theme","secondFontColor","alt","height","src","helpers_urls","iconPath","width","UserGroups","groups","group","title","UserScmAccounts","scmAccounts","email","scmAccount","Profile","currentUser","local","profile_UserExternalIdentity","Boolean","system","__webpack_require__","d","__webpack_exports__","__WEBPACK_AMD_DEFINE_RESULT__","canUseDOM","document","createElement","ExecutionEnvironment","canUseWorkers","Worker","canUseEventListeners","addEventListener","attachEvent","canUseViewport","screen","undefined","call","exports","module","WrappedComponent","Wrapper","_helpers_users__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_helpers_handleRequiredAuthentication__WEBPACK_IMPORTED_MODULE_1___default","react__WEBPACK_IMPORTED_MODULE_0__","__assign","displayName","_utils__WEBPACK_IMPORTED_MODULE_3__","_withCurrentUser__WEBPACK_IMPORTED_MODULE_4__","fetchMyOrganizations","_utils__WEBPACK_IMPORTED_MODULE_4__","_apps_account_organizations_actions__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_3__"],"mappings":"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","file":"js/359.1570825310815.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getOrganizationUrl } from '../../../helpers/urls';\n\nfunction getOrganizationLink(org: T.Organization, i: number, organizations: T.Organization[]) {\n  return (\n    <span key={org.key}>\n      <Link to={getOrganizationUrl(org.key)}>{org.name}</Link>\n      {i < organizations.length - 1 && ', '}\n    </span>\n  );\n}\n\nexport function ShowOrganizationsToTransferOrDelete({\n  organizations\n}: {\n  organizations: T.Organization[];\n}) {\n  return (\n    <>\n      <p className=\"big-spacer-bottom\">\n        <FormattedMessage\n          defaultMessage={translate('my_profile.delete_account.info.orgs_to_transfer_or_delete')}\n          id=\"my_profile.delete_account.info.orgs_to_transfer_or_delete\"\n          values={{\n            organizations: <>{organizations.map(getOrganizationLink)}</>\n          }}\n        />\n      </p>\n\n      <Alert className=\"big-spacer-bottom\" variant=\"warning\">\n        <FormattedMessage\n          defaultMessage={translate(\n            'my_profile.delete_account.info.orgs_to_transfer_or_delete.info'\n          )}\n          id=\"my_profile.delete_account.info.orgs_to_transfer_or_delete.info\"\n          values={{\n            link: (\n              <a\n                href=\"https://sieg.eu.ngrok.io/documentation/organizations/overview/#how-to-transfer-ownership-of-an-organization\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                {translate('my_profile.delete_account.info.orgs_to_transfer_or_delete.info.link')}\n              </a>\n            )\n          }}\n        />\n      </Alert>\n    </>\n  );\n}\n\nexport function ShowOrganizations({\n  className,\n  organizations\n}: {\n  className?: string;\n  organizations: T.Organization[];\n}) {\n  const organizationsIAdministrate = organizations.filter(o => o.actions && o.actions.admin);\n\n  return (\n    <ul className={className}>\n      <li className=\"spacer-bottom\">{translate('my_profile.delete_account.info')}</li>\n\n      <li className=\"spacer-bottom\">\n        <FormattedMessage\n          defaultMessage={translate('my_profile.delete_account.data.info')}\n          id=\"my_profile.delete_account.data.info\"\n          values={{\n            help: (\n              <a\n                href=\"/documentation/user-guide/user-account/#delete-your-user-account\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                {translate('learn_more')}\n              </a>\n            )\n          }}\n        />\n      </li>\n\n      {organizations.length > 0 && (\n        <li className=\"spacer-bottom\">\n          <FormattedMessage\n            defaultMessage={translate('my_profile.delete_account.info.orgs.members')}\n            id=\"my_profile.delete_account.info.orgs.members\"\n            values={{\n              organizations: <>{organizations.map(getOrganizationLink)}</>\n            }}\n          />\n        </li>\n      )}\n\n      {organizationsIAdministrate.length > 0 && (\n        <li className=\"spacer-bottom\">\n          <FormattedMessage\n            defaultMessage={translate('my_profile.delete_account.info.orgs.administrators')}\n            id=\"my_profile.delete_account.info.orgs.administrators\"\n            values={{\n              organizations: <>{organizationsIAdministrate.map(getOrganizationLink)}</>\n            }}\n          />\n        </li>\n      )}\n    </ul>\n  );\n}\n\ninterface UserDeleteAccountContentProps {\n  className?: string;\n  organizationsSafeToDelete: T.Organization[];\n  organizationsToTransferOrDelete: T.Organization[];\n}\n\nexport default function UserDeleteAccountContent({\n  className,\n  organizationsSafeToDelete,\n  organizationsToTransferOrDelete\n}: UserDeleteAccountContentProps) {\n  if (organizationsToTransferOrDelete.length > 0) {\n    return <ShowOrganizationsToTransferOrDelete organizations={organizationsToTransferOrDelete} />;\n  }\n\n  return <ShowOrganizations className={className} organizations={organizationsSafeToDelete} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport InputValidationField from 'sonar-ui-common/components/controls/InputValidationField';\nimport ValidationModal from 'sonar-ui-common/components/controls/ValidationModal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { deactivateUser } from '../../../api/users';\nimport RecentHistory from '../../../app/components/RecentHistory';\nimport { Router, withRouter } from '../../../components/hoc/withRouter';\nimport { doLogout } from '../../../store/rootActions';\nimport UserDeleteAccountContent from './UserDeleteAccountContent';\n\ninterface Values {\n  login: string;\n}\n\ninterface DeleteModalProps {\n  doLogout: () => Promise<void>;\n  label: string;\n  organizationsSafeToDelete: T.Organization[];\n  organizationsToTransferOrDelete: T.Organization[];\n  router: Pick<Router, 'push'>;\n  toggleModal: VoidFunction;\n  user: T.LoggedInUser;\n}\n\nexport class UserDeleteAccountModal extends React.PureComponent<DeleteModalProps> {\n  handleSubmit = () => {\n    const { user } = this.props;\n\n    return deactivateUser({ login: user.login })\n      .then(this.props.doLogout)\n      .then(() => {\n        RecentHistory.clear();\n        window.location.replace('/account-deleted');\n      });\n  };\n\n  handleValidate = ({ login }: Values) => {\n    const { user } = this.props;\n    const errors: { login?: string } = {};\n    const trimmedLogin = login.trim();\n\n    if (!trimmedLogin) {\n      errors.login = translate('my_profile.delete_account.login.required');\n    } else if (user.externalIdentity && trimmedLogin !== user.externalIdentity.trim()) {\n      errors.login = translate('my_profile.delete_account.login.wrong_value');\n    }\n\n    return errors;\n  };\n\n  render() {\n    const {\n      label,\n      organizationsSafeToDelete,\n      organizationsToTransferOrDelete,\n      toggleModal,\n      user\n    } = this.props;\n\n    return (\n      <ValidationModal\n        confirmButtonText={translate('delete')}\n        header={translateWithParameters(\n          'my_profile.delete_account.modal.header',\n          label,\n          user.externalIdentity || ''\n        )}\n        initialValues={{\n          login: ''\n        }}\n        isDestructive={true}\n        onClose={toggleModal}\n        onSubmit={this.handleSubmit}\n        validate={this.handleValidate}>\n        {({ dirty, errors, handleBlur, handleChange, isSubmitting, touched, values }) => (\n          <>\n            <Alert className=\"big-spacer-bottom\" variant=\"error\">\n              {translate('my_profile.warning_message')}\n            </Alert>\n\n            <UserDeleteAccountContent\n              className=\"list-styled no-padding big-spacer-bottom\"\n              organizationsSafeToDelete={organizationsSafeToDelete}\n              organizationsToTransferOrDelete={organizationsToTransferOrDelete}\n            />\n\n            <InputValidationField\n              autoFocus={true}\n              dirty={dirty}\n              disabled={isSubmitting}\n              error={errors.login}\n              id=\"user-login\"\n              label={\n                <label htmlFor=\"user-login\">\n                  {translate('my_profile.delete_account.verify')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n              }\n              name=\"login\"\n              onBlur={handleBlur}\n              onChange={handleChange}\n              touched={touched.login}\n              type=\"text\"\n              value={values.login}\n            />\n          </>\n        )}\n      </ValidationModal>\n    );\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nconst mapDispatchToProps = { doLogout: doLogout as any };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(UserDeleteAccountModal));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getOrganizationsThatPreventDeletion } from '../../../api/organizations';\nimport { whenLoggedIn } from '../../../components/hoc/whenLoggedIn';\nimport { withUserOrganizations } from '../../../components/hoc/withUserOrganizations';\nimport UserDeleteAccountContent from './UserDeleteAccountContent';\nimport UserDeleteAccountModal from './UserDeleteAccountModal';\n\ninterface Props {\n  user: T.LoggedInUser;\n  userOrganizations: T.Organization[];\n}\n\ninterface State {\n  loading: boolean;\n  organizationsToTransferOrDelete: T.Organization[];\n  showModal: boolean;\n}\n\nexport class UserDeleteAccount extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  state: State = {\n    loading: true,\n    organizationsToTransferOrDelete: [],\n    showModal: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchOrganizationsThatPreventDeletion();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchOrganizationsThatPreventDeletion = () => {\n    getOrganizationsThatPreventDeletion().then(\n      ({ organizations }) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            organizationsToTransferOrDelete: organizations\n          });\n        }\n      },\n      () => {}\n    );\n  };\n\n  toggleModal = () => {\n    if (this.mounted) {\n      this.setState(state => ({\n        showModal: !state.showModal\n      }));\n    }\n  };\n\n  render() {\n    const { user, userOrganizations } = this.props;\n    const { organizationsToTransferOrDelete, loading, showModal } = this.state;\n\n    const label = translate('my_profile.delete_account');\n\n    return (\n      <div>\n        <h2 className=\"spacer-bottom\">{label}</h2>\n\n        <DeferredSpinner loading={loading} />\n\n        {!loading && (\n          <>\n            <UserDeleteAccountContent\n              className=\"list-styled no-padding big-spacer-top big-spacer-bottom\"\n              organizationsSafeToDelete={userOrganizations}\n              organizationsToTransferOrDelete={organizationsToTransferOrDelete}\n            />\n\n            <Button\n              className=\"button-red\"\n              disabled={organizationsToTransferOrDelete.length > 0}\n              onClick={this.toggleModal}\n              type=\"button\">\n              {translate('delete')}\n            </Button>\n\n            {showModal && (\n              <UserDeleteAccountModal\n                label={label}\n                organizationsSafeToDelete={userOrganizations}\n                organizationsToTransferOrDelete={organizationsToTransferOrDelete}\n                toggleModal={this.toggleModal}\n                user={user}\n              />\n            )}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default whenLoggedIn(withUserOrganizations(UserDeleteAccount));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getTextColor } from 'sonar-ui-common/helpers/colors';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { getIdentityProviders } from '../../../api/users';\nimport { colors } from '../../../app/theme';\n\ninterface Props {\n  user: T.LoggedInUser;\n}\n\ninterface State {\n  identityProvider?: T.IdentityProvider;\n  loading: boolean;\n}\n\nexport default class UserExternalIdentity extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    loading: true\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchIdentityProviders();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.user !== this.props.user) {\n      this.fetchIdentityProviders();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchIdentityProviders() {\n    this.setState({ loading: true });\n    getIdentityProviders()\n      .then(r => r.identityProviders)\n      .then(providers => {\n        if (this.mounted) {\n          const identityProvider = providers.find(\n            provider => provider.key === this.props.user.externalProvider\n          );\n          this.setState({ loading: false, identityProvider });\n        }\n      })\n      .catch(() => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      });\n  }\n\n  render() {\n    const { user } = this.props;\n    const { loading, identityProvider } = this.state;\n\n    if (loading) {\n      return null;\n    }\n\n    if (!identityProvider) {\n      return (\n        <div>\n          {user.externalProvider}\n          {': '}\n          {user.externalIdentity}\n        </div>\n      );\n    }\n\n    return (\n      <div\n        className=\"identity-provider\"\n        style={{\n          backgroundColor: identityProvider.backgroundColor,\n          color: getTextColor(identityProvider.backgroundColor, colors.secondFontColor)\n        }}>\n        <img\n          alt={identityProvider.name}\n          className=\"little-spacer-right\"\n          height=\"14\"\n          src={getBaseUrl() + identityProvider.iconPath}\n          width=\"14\"\n        />{' '}\n        {user.externalIdentity}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  groups: string[];\n}\n\nexport default function UserGroups({ groups }: Props) {\n  return (\n    <div>\n      <h2 className=\"spacer-bottom\">{translate('my_profile.groups')}</h2>\n      <ul id=\"groups\">\n        {groups.map(group => (\n          <li className=\"little-spacer-bottom\" key={group} title={group}>\n            {group}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  scmAccounts: string[];\n  user: T.LoggedInUser;\n}\n\nexport default function UserScmAccounts({ user, scmAccounts }: Props) {\n  return (\n    <div>\n      <h2 className=\"spacer-bottom\">{translate('my_profile.scm_accounts')}</h2>\n      <ul id=\"scm-accounts\">\n        <li className=\"little-spacer-bottom text-ellipsis\" title={user.login}>\n          {user.login}\n        </li>\n\n        {user.email && (\n          <li className=\"little-spacer-bottom text-ellipsis\" title={user.email}>\n            {user.email}\n          </li>\n        )}\n\n        {scmAccounts.map(scmAccount => (\n          <li className=\"little-spacer-bottom\" key={scmAccount} title={scmAccount}>\n            {scmAccount}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { whenLoggedIn } from '../../../components/hoc/whenLoggedIn';\nimport { isSonarCloud } from '../../../helpers/system';\nimport UserDeleteAccount from './UserDeleteAccount';\nimport UserExternalIdentity from './UserExternalIdentity';\nimport UserGroups from './UserGroups';\nimport UserScmAccounts from './UserScmAccounts';\n\nexport interface Props {\n  currentUser: T.LoggedInUser;\n}\n\nexport function Profile({ currentUser }: Props) {\n  return (\n    <div className=\"account-body account-container\">\n      <div className=\"boxed-group boxed-group-inner\">\n        <div className=\"spacer-bottom\">\n          {translate('login')}: <strong id=\"login\">{currentUser.login}</strong>\n        </div>\n\n        {!currentUser.local && currentUser.externalProvider !== 'sonarqube' && (\n          <div className=\"spacer-bottom\" id=\"identity-provider\">\n            <UserExternalIdentity user={currentUser} />\n          </div>\n        )}\n\n        {Boolean(currentUser.email) && (\n          <div className=\"spacer-bottom\">\n            {translate('my_profile.email')}: <strong id=\"email\">{currentUser.email}</strong>\n          </div>\n        )}\n\n        {!isSonarCloud() && (\n          <>\n            <hr className=\"account-separator\" />\n            <UserGroups groups={currentUser.groups} />\n          </>\n        )}\n\n        <hr />\n\n        <UserScmAccounts scmAccounts={currentUser.scmAccounts} user={currentUser} />\n\n        {isSonarCloud() && (\n          <>\n            <hr />\n\n            <UserDeleteAccount user={currentUser} />\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default whenLoggedIn(Profile);\n","/*!\n  Copyright (c) 2015 Jed Watson.\n  Based on code that is Copyright 2013-2015, Facebook, Inc.\n  All rights reserved.\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar canUseDOM = !!(\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.document &&\n\t\twindow.document.createElement\n\t);\n\n\tvar ExecutionEnvironment = {\n\n\t\tcanUseDOM: canUseDOM,\n\n\t\tcanUseWorkers: typeof Worker !== 'undefined',\n\n\t\tcanUseEventListeners:\n\t\t\tcanUseDOM && !!(window.addEventListener || window.attachEvent),\n\n\t\tcanUseViewport: canUseDOM && !!window.screen\n\n\t};\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\tdefine(function () {\n\t\t\treturn ExecutionEnvironment;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = ExecutionEnvironment;\n\t} else {\n\t\twindow.ExecutionEnvironment = ExecutionEnvironment;\n\t}\n\n}());\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport handleRequiredAuthentication from 'sonar-ui-common/helpers/handleRequiredAuthentication';\nimport { isLoggedIn } from '../../helpers/users';\nimport { getWrappedDisplayName } from './utils';\nimport { withCurrentUser } from './withCurrentUser';\n\nexport function whenLoggedIn<P>(WrappedComponent: React.ComponentType<P>) {\n  class Wrapper extends React.Component<P & { currentUser: T.CurrentUser }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'whenLoggedIn');\n\n    componentDidMount() {\n      if (!isLoggedIn(this.props.currentUser)) {\n        handleRequiredAuthentication();\n      }\n    }\n\n    render() {\n      if (isLoggedIn(this.props.currentUser)) {\n        return <WrappedComponent {...this.props} />;\n      } else {\n        return null;\n      }\n    }\n  }\n\n  return withCurrentUser(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchMyOrganizations } from '../../apps/account/organizations/actions';\nimport { getMyOrganizations, Store } from '../../store/rootReducer';\nimport { getWrappedDisplayName } from './utils';\n\ninterface OwnProps {\n  fetchMyOrganizations: () => Promise<void>;\n  userOrganizations: T.Organization[];\n}\n\nexport function withUserOrganizations<P>(\n  WrappedComponent: React.ComponentType<P & Partial<OwnProps>>\n) {\n  class Wrapper extends React.Component<P & OwnProps> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withUserOrganizations');\n\n    componentDidMount() {\n      this.props.fetchMyOrganizations();\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  const mapDispatchToProps = { fetchMyOrganizations: fetchMyOrganizations as any };\n\n  function mapStateToProps(state: Store) {\n    return { userOrganizations: getMyOrganizations(state) };\n  }\n\n  return connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(Wrapper);\n}\n"],"sourceRoot":""}