{"version":3,"sources":["webpack:///./src/main/js/app/components/ProjectAdminContainer.tsx","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./src/main/js/app/utils/handleRequiredAuthorization.ts"],"names":["ProjectAdminContainer","_super","__extends","prototype","componentDidMount","this","checkPermissions","componentDidUpdate","isProjectAdmin","Object","_utils_handleRequiredAuthorization__WEBPACK_IMPORTED_MODULE_1__","configuration","props","component","showSettings","render","_a","children","__rest","react__WEBPACK_IMPORTED_MODULE_0__","_a11y_A11ySkipTarget__WEBPACK_IMPORTED_MODULE_2__","anchor","A11ySkipTarget","_A11yContext__WEBPACK_IMPORTED_MODULE_2__","Consumer","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","__assign","_this","apply","arguments","getLink","key","_b","label","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","weight","componentWillUnmount","id","__webpack_require__","d","__webpack_exports__","handleRequiredAuthorization","sonar_ui_common_helpers_getHistory__WEBPACK_IMPORTED_MODULE_0__","sonar_ui_common_helpers_getHistory__WEBPACK_IMPORTED_MODULE_0___default","n","_store_appState__WEBPACK_IMPORTED_MODULE_1__","_getStore__WEBPACK_IMPORTED_MODULE_2__","store","history","returnTo","window","location","pathname","search","hash","dispatch","replace","query","return_to"],"mappings":"gtBAkCAA,EAAA,SAAAC,GAAA,SAAAD,mDAiCA,OAjCmDE,EAAAF,EAAAC,GACjDD,EAAAG,UAAAC,kBAAA,WACEC,KAAKC,oBAGPN,EAAAG,UAAAI,mBAAA,WACEF,KAAKC,oBAGPN,EAAAG,UAAAG,iBAAA,WACOD,KAAKG,kBACRC,OAAAC,EAAA,EAAAD,IAIJT,EAAAG,UAAAK,eAAA,WACU,IAAAG,EAAAN,KAAAO,MAAAC,UAAAF,cACR,OAAwB,MAAjBA,GAAyBA,EAAcG,cAGhDd,EAAAG,UAAAY,OAAA,WACE,IAAKV,KAAKG,iBACR,OAAO,KAGT,IAAMQ,EAAAX,KAAAO,MAAEK,EAAAD,EAAAC,SAAUL,EAAAM,EAAAF,EAAA,cAClB,OACEG,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACC,EAAA,EAAc,CAACC,OAAO,eACtBF,EAAA,aAAmBF,EAAUL,KAItCZ,EAjCA,CAAmDmB,EAAA,+nBCLrC,SAAUG,EAAeV,GACrC,OACEO,EAAA,cAACI,EAAA,EAAYC,SAAQ,KAClB,SAACR,OAAES,EAAAT,EAAAS,gBAAiBC,EAAAV,EAAAU,mBAAyB,OAC5CP,EAAA,cAACQ,EAAmBC,EAAA,CAClBH,gBAAiBA,EACjBC,mBAAoBA,GAChBd,MAYd,IAAAe,EAAA,SAAA1B,GAAA,SAAA0B,IAAA,IAAAE,EAAA,OAAA5B,KAAA6B,MAAAzB,KAAA0B,YAAA1B,YASEwB,EAAAG,QAAU,WACF,IAAAhB,EAAAa,EAAAjB,MAAEqB,EAAAjB,EAAAK,OAAaa,EAAAlB,EAAAmB,MACrB,MAAO,CAAEF,IAAGA,EAAEE,WADO,IAAAD,EAAAzB,OAAA2B,EAAA,UAAA3B,CAAA,mBAAAyB,EACAG,OADsCrB,EAAAqB,WAQ/D,OAlByCnC,EAAAyB,EAAA1B,GACvC0B,EAAAxB,UAAAC,kBAAA,WACEC,KAAKO,MAAMa,gBAAgBpB,KAAK2B,YAGlCL,EAAAxB,UAAAmC,qBAAA,WACEjC,KAAKO,MAAMc,mBAAmBrB,KAAK2B,YAQrCL,EAAAxB,UAAAY,OAAA,WACU,IAAAM,EAAAhB,KAAAO,MAAAS,OACR,OAAOF,EAAA,sBAAMoB,GAAI,gBAAgBlB,KAErCM,EAlBA,CAAyCR,EAAA,iDChDzCqB,EAAAC,EAAAC,EAAA,sBAAAC,IAAA,IAAAC,EAAAJ,EAAA,KAAAK,EAAAL,EAAAM,EAAAF,GAAAG,EAAAP,EAAA,KAAAQ,EAAAR,EAAA,KAuBc,SAAUG,IACtB,IAAMM,EAAQxC,OAAAuC,EAAA,QAAAvC,GACRyC,EAAUL,MAEVM,EAAWC,OAAOC,SAASC,SAAWF,OAAOC,SAASE,OAASH,OAAOC,SAASG,KAErFP,EAAMQ,SAAShD,OAAAsC,EAAA,EAAAtC,IACfyC,EAAQQ,QAAQ,CAAEJ,SAAU,gBAAiBK,MAAO,CAAEC,UAAWT","file":"js/360.1570825310815.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport handleRequiredAuthorization from '../utils/handleRequiredAuthorization';\nimport A11ySkipTarget from './a11y/A11ySkipTarget';\n\ninterface Props {\n  children: JSX.Element;\n  branchLike?: T.BranchLike;\n  branchLikes: T.BranchLike[];\n  component: T.Component;\n  isInProgress?: boolean;\n  isPending?: boolean;\n  onBranchesChange: () => void;\n  onComponentChange: (changes: {}) => void;\n}\n\nexport default class ProjectAdminContainer extends React.PureComponent<Props> {\n  componentDidMount() {\n    this.checkPermissions();\n  }\n\n  componentDidUpdate() {\n    this.checkPermissions();\n  }\n\n  checkPermissions() {\n    if (!this.isProjectAdmin()) {\n      handleRequiredAuthorization();\n    }\n  }\n\n  isProjectAdmin() {\n    const { configuration } = this.props.component;\n    return configuration != null && configuration.showSettings;\n  }\n\n  render() {\n    if (!this.isProjectAdmin()) {\n      return null;\n    }\n\n    const { children, ...props } = this.props;\n    return (\n      <>\n        <A11ySkipTarget anchor=\"admin_main\" />\n        {React.cloneElement(children, props)}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getHistory from 'sonar-ui-common/helpers/getHistory';\nimport { requireAuthorization } from '../../store/appState';\nimport getStore from './getStore';\n\nexport default function handleRequiredAuthorization() {\n  const store = getStore();\n  const history = getHistory();\n\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n\n  store.dispatch(requireAuthorization());\n  history.replace({ pathname: '/sessions/new', query: { return_to: returnTo } });\n}\n"],"sourceRoot":""}