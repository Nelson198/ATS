{"version":3,"sources":["webpack:///./src/main/js/apps/account/organizations/OrganizationCard.tsx","webpack:///./src/main/js/apps/account/organizations/OrganizationsList.tsx","webpack:///./src/main/js/apps/account/organizations/UserOrganizations.tsx"],"names":["OrganizationCard","_a","organization","_b","actions","index_js_exposed","className","Object","l10n","key","OrganizationAvatar","OrganizationLink","name","admin","description","url","href","rel","title","OrganizationsList","organizations","length","sortBy_default","toLocaleLowerCase","map","UserOrganizations_UserOrganizations","_super","UserOrganizations","_this","apply","this","arguments","mounted","state","loading","stopLoading","setState","__extends","prototype","componentDidMount","props","fetchIfAnyoneCanCreateOrganizations","then","componentWillUnmount","render","anyoneCanCreate","canCreateOrganizations","canAdmin","Helmet_default","a","react_router_es","to","mapDispatchToProps","organizations_actions","__webpack_exports__","es","rootReducer","Boolean","value"],"mappings":"kNA4Bc,SAAUA,EAAiBC,OAAEC,EAAAD,EAAAC,aACjCC,EAAAD,EAAAE,eAAA,IAAAD,EAAA,GAAAA,EACR,OACEE,EAAA,qBAAKC,UAAU,iCACbD,EAAA,uBAAOC,UAAU,6BACfD,EAAA,4BAASE,OAAAC,EAAA,UAAAD,CAAU,oBAA8B,SAAEL,EAAaO,KAGlEJ,EAAA,oBAAIC,UAAU,wBACZD,EAAA,cAACK,EAAA,EAAkB,CAACR,aAAcA,IAClCG,EAAA,cAACM,EAAA,EAAgB,CAACL,UAAU,0BAA0BJ,aAAcA,GACjEA,EAAaU,MAEfR,EAAQS,OAASR,EAAA,sBAAMC,UAAU,qBAAqBC,OAAAC,EAAA,UAAAD,CAAU,aAGhEL,EAAaY,aACdT,EAAA,qBAAKC,UAAU,uBAAuBJ,EAAaY,eAGlDZ,EAAaa,KACdV,EAAA,qBAAKC,UAAU,uBACbD,EAAA,mBAAGW,KAAMd,EAAaa,IAAKE,IAAI,WAAWC,MAAOhB,EAAaa,KAC3Db,EAAaa,OCvBZ,SAAUI,EAAkBlB,OAAEmB,EAAAnB,EAAAmB,cAC1C,OAA6B,IAAzBA,EAAcC,OACThB,EAAA,yBAAME,OAAAC,EAAA,UAAAD,CAAU,wCAIvBF,EAAA,oBAAIC,UAAU,yBACXgB,IAAOF,EAAe,SAAAlB,GAAgB,OAAAA,EAAaU,KAAbW,sBAAuCC,IAC5E,SAAAtB,GAAgB,OACdG,EAAA,oBAAII,IAAKP,EAAaO,KACpBJ,EAAA,cAACL,EAAgB,CAACE,aAFNA,kUCaxBuB,EAAA,SAAAC,GAAA,SAAAC,IAAA,IAAAC,EAAA,OAAAF,KAAAG,MAAAC,KAAAC,YAAAD,YACEF,EAAAI,SAAU,EACVJ,EAAAK,MAAe,CAAEC,SAAS,GAW1BN,EAAAO,YAAc,WACRP,EAAKI,SACPJ,EAAKQ,SAAS,CAAEF,SAAS,OAiC/B,OAhDgCG,EAAAV,EAAAD,GAI9BC,EAAAW,UAAAC,kBAAA,WACET,KAAKE,SAAU,EACfF,KAAKU,MAAMC,sCAAsCC,KAAKZ,KAAKK,YAAaL,KAAKK,cAG/ER,EAAAW,UAAAK,qBAAA,WACEb,KAAKE,SAAU,GASjBL,EAAAW,UAAAM,OAAA,WACU,IAAAC,EAAAf,KAAAU,MAAAK,gBACFC,GAA0BhB,KAAKG,MAAMC,UAAYW,GAAmBf,KAAKU,MAAMO,UAErF,OACE1C,EAAA,qBAAKC,UAAU,kCACbD,EAAA,cAAC2C,EAAAC,EAAM,CAAC/B,MAAOX,OAAAC,EAAA,UAAAD,CAAU,8BAEzBF,EAAA,qBAAKC,UAAU,eACZwC,GACCzC,EAAA,qBAAKC,UAAU,YACbD,EAAA,qBAAKC,UAAU,uBACbD,EAAA,cAAC6C,EAAA,KAAI,CAAC5C,UAAU,SAAS6C,GAAG,wBACzB5C,OAAAC,EAAA,UAAAD,CAAU,aAKnBF,EAAA,qBAAKC,UAAU,qBACZwB,KAAKG,MAAMC,QACV7B,EAAA,mBAAGC,UAAU,YAEbD,EAAA,cAACc,EAAiB,CAACC,cAAeU,KAAKU,MAAMpB,oBAO3DO,EAhDA,CAAgCtB,EAAA,eA2D1B+C,EAAqB,CACzBX,oCAAqCY,EAAA,GAGxBC,EAAA,QAAA/C,OAAAgD,EAAA,QAAAhD,CAbS,SAAC0B,GACvB,IAAMY,EAAkBtC,OAAAiD,EAAA,sBAAAjD,CAAsB0B,EAAO,uCACrD,MAAO,CACLY,gBAAiBY,QAAQZ,GAA6C,SAA1BA,EAAgBa,OAC5DX,SAAUxC,OAAAiD,EAAA,YAAAjD,CAAY0B,GAAOc,SAC7B3B,cAAeb,OAAAiD,EAAA,mBAAAjD,CAAmB0B,KAUpCmB,EAFa,CAGb3B","file":"js/376.1570825310815.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport OrganizationAvatar from '../../../components/common/OrganizationAvatar';\nimport OrganizationLink from '../../../components/ui/OrganizationLink';\n\ninterface Props {\n  organization: T.Organization;\n}\n\nexport default function OrganizationCard({ organization }: Props) {\n  const { actions = {} } = organization;\n  return (\n    <div className=\"account-project-card clearfix\">\n      <aside className=\"account-project-side note\">\n        <strong>{translate('organization.key')}:</strong> {organization.key}\n      </aside>\n\n      <h3 className=\"account-project-name\">\n        <OrganizationAvatar organization={organization} />\n        <OrganizationLink className=\"spacer-left text-middle\" organization={organization}>\n          {organization.name}\n        </OrganizationLink>\n        {actions.admin && <span className=\"badge spacer-left\">{translate('admin')}</span>}\n      </h3>\n\n      {!!organization.description && (\n        <div className=\"markdown spacer-top\">{organization.description}</div>\n      )}\n\n      {!!organization.url && (\n        <div className=\"markdown spacer-top\">\n          <a href={organization.url} rel=\"nofollow\" title={organization.url}>\n            {organization.url}\n          </a>\n        </div>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport OrganizationCard from './OrganizationCard';\n\ninterface Props {\n  organizations: T.Organization[];\n}\n\nexport default function OrganizationsList({ organizations }: Props) {\n  if (organizations.length === 0) {\n    return <div>{translate('my_account.organizations.no_results')}</div>;\n  }\n\n  return (\n    <ul className=\"account-projects-list\">\n      {sortBy(organizations, organization => organization.name.toLocaleLowerCase()).map(\n        organization => (\n          <li key={organization.key}>\n            <OrganizationCard organization={organization} />\n          </li>\n        )\n      )}\n    </ul>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  getAppState,\n  getGlobalSettingValue,\n  getMyOrganizations,\n  Store\n} from '../../../store/rootReducer';\nimport { fetchIfAnyoneCanCreateOrganizations } from './actions';\nimport OrganizationsList from './OrganizationsList';\n\ninterface StateProps {\n  anyoneCanCreate: boolean;\n  canAdmin?: boolean;\n  organizations: T.Organization[];\n}\n\ninterface DispatchProps {\n  fetchIfAnyoneCanCreateOrganizations: () => Promise<void>;\n}\n\ninterface Props extends StateProps, DispatchProps {}\n\ninterface State {\n  loading: boolean;\n}\n\nclass UserOrganizations extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchIfAnyoneCanCreateOrganizations().then(this.stopLoading, this.stopLoading);\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  render() {\n    const { anyoneCanCreate } = this.props;\n    const canCreateOrganizations = !this.state.loading && (anyoneCanCreate || this.props.canAdmin);\n\n    return (\n      <div className=\"account-body account-container\">\n        <Helmet title={translate('my_account.organizations')} />\n\n        <div className=\"boxed-group\">\n          {canCreateOrganizations && (\n            <div className=\"clearfix\">\n              <div className=\"boxed-group-actions\">\n                <Link className=\"button\" to=\"/create-organization\">\n                  {translate('create')}\n                </Link>\n              </div>\n            </div>\n          )}\n          <div className=\"boxed-group-inner\">\n            {this.state.loading ? (\n              <i className=\"spinner\" />\n            ) : (\n              <OrganizationsList organizations={this.props.organizations} />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => {\n  const anyoneCanCreate = getGlobalSettingValue(state, 'sonar.organizations.anyoneCanCreate');\n  return {\n    anyoneCanCreate: Boolean(anyoneCanCreate && anyoneCanCreate.value === 'true'),\n    canAdmin: getAppState(state).canAdmin,\n    organizations: getMyOrganizations(state)\n  };\n};\n\nconst mapDispatchToProps = {\n  fetchIfAnyoneCanCreateOrganizations: fetchIfAnyoneCanCreateOrganizations as any\n} as DispatchProps;\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(UserOrganizations);\n"],"sourceRoot":""}