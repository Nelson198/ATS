{"version":3,"sources":["webpack:///./src/main/js/apps/settings/store/definitions.ts","webpack:///./src/main/js/store/branches.ts","webpack:///./src/main/js/store/metrics.ts","webpack:///./src/main/js/api/news.ts","webpack:///./src/main/js/app/components/search/utils.ts","webpack:///./src/main/js/api/marketplace.ts","webpack:///./src/main/js/components/workspace/styles.css?f0ba","webpack:///./src/main/js/components/workspace/styles.css","webpack:///./src/main/js/app/components/a11y/A11ySkipLinks.css?cabe","webpack:///./src/main/js/app/components/a11y/A11ySkipLinks.css","webpack:///./src/main/js/app/components/search/Search.css?062a","webpack:///./src/main/js/app/components/search/Search.css","webpack:///./src/main/js/app/components/nav/global/GlobalNav.css?7daf","webpack:///./src/main/js/app/components/nav/global/GlobalNav.css","webpack:///./src/main/js/components/common/OrganizationAvatar.css?3bb2","webpack:///./src/main/js/components/common/OrganizationAvatar.css","webpack:///./src/main/js/apps/about/routes.ts","webpack:///./src/main/js/apps/account/routes.ts","webpack:///./src/main/js/apps/background-tasks/routes.ts","webpack:///./src/main/js/apps/code/routes.ts","webpack:///./src/main/js/apps/coding-rules/routes.ts","webpack:///./src/main/js/apps/component-measures/routes.ts","webpack:///./src/main/js/apps/custom-measures/routes.ts","webpack:///./src/main/js/apps/custom-metrics/routes.ts","webpack:///./src/main/js/apps/documentation/routes.ts","webpack:///./src/main/js/apps/explore/Explore.tsx","webpack:///./src/main/js/apps/explore/ExploreIssues.tsx","webpack:///./src/main/js/apps/explore/ExploreProjects.tsx","webpack:///./src/main/js/apps/groups/routes.ts","webpack:///./src/main/js/apps/issues/IssuesPageSelector.tsx","webpack:///./src/main/js/apps/maintenance/routes.tsx","webpack:///./src/main/js/apps/marketplace/routes.ts","webpack:///./src/main/js/apps/quality-gates/routes.ts","webpack:///./src/main/js/apps/quality-profiles/routes.ts","webpack:///./src/main/js/apps/webhooks/routes.ts","webpack:///./src/main/js/apps/organizations/routes.ts","webpack:///./src/main/js/apps/overview/routes.ts","webpack:///./src/main/js/apps/permission-templates/routes.ts","webpack:///./src/main/js/apps/permissions/routes.ts","webpack:///./src/main/js/apps/portfolio/routes.ts","webpack:///./src/main/js/apps/projectActivity/routes.ts","webpack:///./src/main/js/apps/projectBaseline/routes.ts","webpack:///./src/main/js/apps/projectBranches/routes.ts","webpack:///./src/main/js/apps/projectQualityGate/routes.ts","webpack:///./src/main/js/apps/projectQualityProfiles/routes.ts","webpack:///./src/main/js/apps/projects/components/DefaultPageSelector.tsx","webpack:///./src/main/js/apps/projects/routes.ts","webpack:///./src/main/js/apps/projects/components/DefaultPageSelectorContainer.tsx","webpack:///./src/main/js/apps/projects/components/FavoriteProjectsContainer.tsx","webpack:///./src/main/js/apps/projectsManagement/routes.ts","webpack:///./src/main/js/apps/sessions/routes.ts","webpack:///./src/main/js/apps/settings/routes.ts","webpack:///./src/main/js/apps/system/routes.ts","webpack:///./src/main/js/apps/tutorials/routes.ts","webpack:///./src/main/js/apps/users/routes.ts","webpack:///./src/main/js/apps/web-api/routes.ts","webpack:///./src/main/js/app/components/App.tsx","webpack:///./src/main/js/app/components/MigrationContainer.tsx","webpack:///./src/main/js/app/utils/startReactApp.tsx","webpack:///./src/main/js/apps/settings/store/rootReducer.ts","webpack:///./src/main/js/store/rootReducer.ts","webpack:///./src/main/js/helpers/urls.ts","webpack:///./src/main/js/app/utils/throwGlobalError.ts","webpack:///./src/main/js/helpers/users.ts","webpack:///./src/main/js/helpers/branches.ts","webpack:///./src/main/js/app/theme.js","webpack:///./src/main/js/components/hoc/withRouter.tsx","webpack:///./src/main/js/helpers/measures.ts","webpack:///./src/main/js/app/components/embed-docs-modal/SuggestionsContext.ts","webpack:///./src/main/js/api/components.ts","webpack:///./src/main/js/api/issues.ts","webpack:///./src/main/js/store/globalMessages.ts","webpack:///./src/main/js/store/utils/configureStore.ts","webpack:///./src/main/js/app/utils/getStore.ts","webpack:///./src/main/js/components/common/InstanceMessage.tsx","webpack:///./src/main/js/components/ui/Avatar.tsx","webpack:///./src/main/js/components/hoc/utils.ts","webpack:///./src/main/js/app/components/a11y/A11yContext.tsx","webpack:///./src/main/js/api/auth.ts","webpack:///./src/main/js/store/rootActions.ts","webpack:///./src/main/js/api/languages.ts","webpack:///./src/main/js/helpers/qualityGates.ts","webpack:///./src/main/js/api/organizations.ts","webpack:///./src/main/js/apps/issues/utils.ts","webpack:///./src/main/js/api/users.ts","webpack:///./src/main/js/components/hoc/withCurrentUser.tsx","webpack:///./src/main/js/store/users.ts","webpack:///./src/main/js/helpers/constants.ts","webpack:///./src/main/js/apps/quality-profiles/utils.ts","webpack:///./src/main/js/apps/settings/utils.ts","webpack:///./src/main/js/api/quality-gates.ts","webpack:///./src/main/js/app/components/GlobalFooterBranding.tsx","webpack:///./src/main/js/app/components/GlobalFooterSonarCloud.tsx","webpack:///./src/main/js/app/components/GlobalFooterContainer.tsx","webpack:///./src/main/js/app/components/GlobalFooter.tsx","webpack:///./src/main/js/store/appState.ts","webpack:///./src/main/js/components/common/OrganizationAvatar.tsx","webpack:///./src/main/js/apps/projects/utils.ts","webpack:///./src/main/js/api/measures.ts","webpack:///./src/main/js/api/settings.ts","webpack:///./src/main/js/store/organizations.ts","webpack:///./src/main/js/components/workspace/WorkspacePortal.tsx","webpack:///./src/main/js/components/workspace/Workspace.tsx","webpack:///./src/main/js/app/components/a11y/A11yProvider.tsx","webpack:///./src/main/js/app/components/a11y/A11ySkipLinks.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/SuggestionsProvider.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/EmbedDocsPopupHelper.tsx","webpack:///./src/main/js/app/components/search/Search.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavBranding.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavExplore.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavMenu.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavUser.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavUserContainer.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNav.tsx","webpack:///./src/main/js/app/components/StartupModal.tsx","webpack:///./src/main/js/app/components/GlobalContainer.tsx","webpack:///./src/main/js/apps/marketplace/utils.ts","webpack:///./src/main/js/apps/account/organizations/actions.ts","webpack:///./src/main/js/api/metrics.ts","webpack:///./src/main/js/components/workspace/context.ts","webpack:///./src/main/js/components/ui/OrganizationLink.tsx","webpack:///./src/main/js/helpers/issues.ts","webpack:///./src/main/js/app/components/OnboardingContext.tsx","webpack:///./src/main/js/app/components/RecentHistory.ts","webpack:///./src/main/js/apps/settings/store/values.ts","webpack:///./src/main/js/apps/projects/components/AllProjectsContainer.tsx","webpack:///./src/main/js/apps/coding-rules/query.ts","webpack:///./src/main/js/apps/issues/components/AppContainer.tsx","webpack:///./src/main/js/apps/settings/store/settingsPage.ts","webpack:///./src/main/js/store/languages.ts","webpack:///./src/main/js/components/SourceViewer/helpers/getCoverageStatus.ts","webpack:///./src/main/js/apps/projects/query.ts","webpack:///./src/main/js/app/components/GlobalMessagesContainer.tsx","webpack:///./src/main/js/components/ui/OrganizationListItem.tsx"],"names":["Actions","receiveDefinitions","definitions","type","ReceiveDefinitions","components","state","arguments","length","undefined","action","lodash_keyBy__WEBPACK_IMPORTED_MODULE_2___default","getDefinition","key","getAllDefinitions","Object","keys","map","getDefinitionsForCategory","category","filter","definition","toLowerCase","getAllCategories","lodash_uniqBy__WEBPACK_IMPORTED_MODULE_0___default","getDefaultCategory","categories","includes","_utils__WEBPACK_IMPORTED_MODULE_3__","lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default","__webpack_require__","d","__webpack_exports__","registerBranchStatusAction","getBranchStatusByBranchLike","_helpers_branches__WEBPACK_IMPORTED_MODULE_0__","branchLike","component","status","conditions","ignoredConditions","RegisterBranchStatus","branchLikeKey","byComponent","assign","[object Object]","receiveMetrics","metrics","getMetrics","byKey","getMetricsKey","getMetricByKey","redux__WEBPACK_IMPORTED_MODULE_1__","lodash_keyBy__WEBPACK_IMPORTED_MODULE_0___default","f","fetchPrismicRefs","fetchPrismicNews","fetchPrismicFeatureNews","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_0__","PRISMIC_API_URL","then","response","master","refs","find","ref","id","Promise","resolve","reject","data","q","tag","push","concat","access_token","accessToken","orderings","pageSize","ps","_ref","results","fetchLinks","page","p","_ref2","results_per_page","total_results_size","news","result","notification","publicationDate","publication_date","features","body","feature","items","item","Boolean","description","primary","readMore","read_more_link","url","paging","pageIndex","total","ORDER","sortQualifiers","qualifiers","lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default","qualifier","indexOf","isValidLicense","showLicense","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","catch","content","module","i","options","hmr","transform","insertInto","locals","exports","about_routes","indexRoute","lazyLoad","system","all","e","bind","childRoutes","path","account_routes","background_tasks_routes","code_routes","coding_rules_routes","onEnter","nextState","replace","hash","window","location","query","split","forEach","part","tokens","decodeURIComponent","parseHash","substr","normalizedQuery","coding_rules_query","open","pathname","component_measures_routes","metric","params","domainName","view","graph","custom_metrics","metricKey","custom_measures_routes","custom_metrics_routes","routes_App","documentation_routes","Explore","props","index_js_exposed","ContextNavBar_default","a","height","app_theme","contextNavHeightRaw","className","l10n","NavBarTabs_default","react_router_es","activeClassName","to","resolved","children","ExploreIssues","AppContainer","hideAuthorFacet","multiOrganizations","myIssues","ExploreProjects","AllProjectsContainer","isFavorite","organization","storageOptionsSuffix","groups_routes","IssuesPageSelector","withCurrentUser","currentUser","users","maintenanceRoutes","setupRoutes","marketplace_routes","quality_gates_routes_App","quality_gates_routes","quality_profiles_routes","webhooks_routes","OrganizationContainer","organizations_routes","organizationKey","overview_routes","permission_templates_routes","globalPermissionsRoutes","projectPermissionsRoutes","portfolio_routes","projectActivity_routes","projectBaseline_routes","projectBranches_routes","projectQualityGate_routes","projectQualityProfiles_routes","components_DefaultPageSelector","withRouter","this","isFavoriteSet","storage","utils","isAllSet","router","defineIfShouldBeRedirected","prevProps","shouldBeRedirected","shouldForceSorting","sort","setState","r","_this$state","projects_routes","es","rootReducer","_","types","projectsManagement_routes","sessions_routes","settings_routes","system_routes","tutorials_routes","users_routes","web_api_routes","PageTracker","mapDispatchToProps","fetchLanguages","rootActions","fetchMyOrganizations","actions","components_App","enableGravatar","gravatarServerUrl","appState","value","mounted","setScrollbarWidth","outer","document","createElement","style","visibility","width","msOverflowStyle","appendChild","widthNoScroll","offsetWidth","overflow","inner","widthWithScroll","parentNode","removeChild","setProperty","renderPreconnectLink","parser","href","hostname","origin","rel","_this$props","MigrationContainer_MigrationContainer","return_to","search","handleUpdate","scrollTo","startReactApp","RouteWithChildRoutes","lang","el","getElementById","history","getHistory_default","store","getStore","react_dom_index_js_exposed","index_es","defaultLocale","locale","theme","onUpdate","from","GlobalContainer","redux","values","settingsPage","globalMessages","getValue","getAppState","rootReducer_getGlobalMessages","getLanguages","getCurrentUserSetting","getCurrentUser","getOrganizationByKey","getMyOrganizations","areThereCustomOrganizations","getGlobalSettingValue","getSettingsAppDefinition","getSettingsAppAllCategories","getSettingsAppDefaultCategory","getSettingsAppSettingsForCategory","getSettingsAppChangedValue","isSettingsAppLoading","getSettingsAppValidationMessage","branches","languages","organizations","settingsApp","organizationsEnabled","getSettingsForCategory","getChangedValue","isLoading","getValidationMessage","getProjectUrl","getPortfolioUrl","getPortfolioAdminUrl","getComponentBackgroundTaskUrl","getBranchLikeUrl","getLongLivingBranchUrl","getShortLivingBranchUrl","getPullRequestUrl","getIssuesUrl","getComponentIssuesUrl","getComponentDrilldownUrl","getComponentDrilldownUrlWithSelection","getMeasureTreemapUrl","getActivityUrl","getMeasureHistoryUrl","getComponentPermissionsUrl","getQualityProfileUrl","getQualityGateUrl","getQualityGatesUrl","getRulesUrl","getDeprecatedActiveRulesUrl","getRuleUrl","getMarkdownHelpUrl","getCodeUrl","getOrganizationUrl","getHomePageUrl","sonar_ui_common_helpers_urls__WEBPACK_IMPORTED_MODULE_0__","_apps_quality_profiles_utils__WEBPACK_IMPORTED_MODULE_1__","_branches__WEBPACK_IMPORTED_MODULE_2__","project","branch","componentKey","name","pullRequest","selectionKey","treemapView","listView","selected","language","encodeURIComponent","activation","statuses","rule","rule_key","line","homepage","throwGlobalError","_store_globalMessages__WEBPACK_IMPORTED_MODULE_1__","_getStore__WEBPACK_IMPORTED_MODULE_2__","param","Response","console","warn","message","dispatch","hasGlobalPermission","user","permission","permissions","global","isLoggedIn","isUserActive","active","isBranch","isMain","isShortLivingBranch","isLongLivingBranch","isMainBranch","isPullRequest","getBranchLikeDisplayName","title","getBranchLikeKey","isSameBranchLike","b","sortBranchesAsTree","branchLikes","mainBranch","longLivingBranches","shortLivingBranches","pullRequests","getPullRequests","getNestedShortLivingBranches","longLivingBranch","pr","isOrphan","mergeBranch","found","current","base","getBranchLikeQuery","fillBranchLike","colors","blue","veryLightBlue","lightBlue","darkBlue","veryDarkBlue","green","lineCoverageGreen","lightGreen","veryLightGreen","yellow","orange","red","lineCoverageRed","purple","conciseIssueRed","conciseIssueRedSelected","gray94","gray80","gray71","gray67","gray60","gray40","transparentWhite","transparentGray","disableGrayText","disableGrayBorder","disableGrayBg","barBackgroundColor","barBackgroundColorHighlight","barBorderColor","baseFontColor","secondFontColor","leakColor","leakColorHover","leakBorderColor","globalNavBarBg","snippetFontColor","issueBgColor","hotspotBgColor","issueLocationSelected","issueLocationHighlighted","warningIconColor","alertBorderError","alertBackgroundError","alertTextError","alertIconError","alertBorderWarning","alertBackgroundWarning","alertTextWarning","alertIconWarning","alertBorderSuccess","alertBackgroundSuccess","alertTextSuccess","alertIconSuccess","alertBorderInfo","alertBackgroundInfo","alertTextInfo","alertIconInfo","sonarcloudOrange500","sonarcloudOrange600","sonarcloudOrange700","sonarcloudBlack100","sonarcloudBlack200","sonarcloudBlack250","sonarcloudBlack300","sonarcloudBlack500","sonarcloudBlack700","sonarcloudBlack800","sonarcloudBlack900","sonarcloudBlue500","sonarcloudBlue600","sonarcloudBlue900","sonarcloudBorderGray","sizes","gridSize","baseFontSize","verySmallFontSize","smallFontSize","mediumFontSize","bigFontSize","hugeFontSize","hugeControlHeight","largeControlHeight","controlHeight","smallControlHeight","tinyControlHeight","globalNavHeight","globalNavContentHeight","maxPageWidth","minPageWidth","pagePadding","rawSizes","grid","globalNavHeightRaw","globalNavContentHeightRaw","fonts","baseFontFamily","systemFontFamily","sonarcloudFontFamily","zIndexes","aboveNormalZIndex","normalZIndex","belowNormalZIndex","pageMainZIndex","pageSideZIndex","tooltipZIndex","dropdownMenuZIndex","processContainerZIndex","modalZIndex","modalOverlayZIndex","popupZIndex","others","defaultShadow","react_router__WEBPACK_IMPORTED_MODULE_0__","WrappedComponent","localizeMetric","getShortType","enhanceMeasuresWithMetrics","getPeriodValue","isPeriodBestValue","isDiffMetric","getRatingTooltip","getDisplayMetrics","findMeasure","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_0__","sonar_ui_common_helpers_measures__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_types__WEBPACK_IMPORTED_MODULE_2__","measures","measure","periodIndex","periods","period","index","bestValue","maintainabilityRatingGrid","getMaintainabilityRatingGrid","numbers","default","settingValue","getState","getRatingGrid","s","parseFloat","n","isNaN","ratingLetter","finalMetricKey","rating","maintainabilityGrid","maintainabilityRatingThreshold","Math","floor","getMaintainabilityRatingTooltip","Number","hidden","SuggestionsContext","react__WEBPACK_IMPORTED_MODULE_0__","addSuggestions","removeSuggestions","suggestions","getComponents","bulkDeleteProjects","deleteProject","deletePortfolio","createProject","searchProjectTags","setProjectTags","getComponentTree","getChildren","getComponentLeaves","getComponent","getTree","getFiles","getDirectories","getComponentData","doesComponentExists","getComponentShow","getParents","getBreadcrumbs","getMyProjects","searchProjects","changeKey","getSuggestions","getComponentForSourceViewer","getSources","getDuplications","parameters","portfolio","strategy","additional","metricKeys","join","ancestors","reverse","recentlyBrowsed","more","sources","searchIssues","getFacets","getFacet","searchIssueTags","getIssueChangelog","addIssueComment","deleteIssueComment","editIssueComment","setIssueAssignee","setIssueSeverity","setIssueTags","setIssueTransition","setIssueType","bulkChangeIssues","searchIssueAuthors","getIssueFlowSnippets","_components_SourceViewer_helpers_getCoverageStatus__WEBPACK_IMPORTED_MODULE_2__","facets","additionalFields","facet","tags","issue","issueKeys","issues","authors","issueKey","k","reduce","lineMap","coverageStatus","MessageLevel","closeGlobalMessage","closeAllGlobalMessages","addGlobalMessage","level","lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default","addGlobalMessageActionCreator","setTimeout","addGlobalErrorMessage","Error","addGlobalSuccessMessage","Success","getGlobalMessages","middlewares","finalCreateStore","createStore","initialState","configureStore","store_appState","InstanceMessage","_helpers_system__WEBPACK_IMPORTED_MODULE_0__","transformedMessage","classnames__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_components_ui_GenericAvatar__WEBPACK_IMPORTED_MODULE_3__","sonar_ui_common_components_ui_GenericAvatar__WEBPACK_IMPORTED_MODULE_3___default","_store_rootReducer__WEBPACK_IMPORTED_MODULE_4__","Avatar","size","String","alt","src","getWrappedDisplayName","hocName","wrappedDisplayName","displayName","A11yContext","addA11ySkipLink","removeA11ySkipLink","links","basicCheckStatus","request","store_languages","fetchMetrics","api_metrics","store_metrics","fetchOrganizations","api_organizations","store_organizations","fetchOrganization","_slicedToArray","navigation","organizationWithPermissions","fetchBranchStatus","projectKey","quality_gates","projectStatus","c","actual","actualValue","error","errorThreshold","op","comparator","extractStatusConditionsFromProjectStatus","store_branches","doLogin","login","password","setMethod","setData","submit","auth_login","doLogout","requireAuthorization","returnTo","registerBranchStatus","getOrganizations","getOrganization","getOrganizationNavigation","getOrganizationsThatPreventDeletion","createOrganization","updateOrganization","deleteOrganization","searchMembers","addMember","removeMember","getOrganizationBilling","setOrganizationMemberSync","syncMembers","o","changes","STANDARDS","parseQuery","getOpen","areMyIssuesSelected","serializeQuery","areQueriesEqual","mapFacet","parseFacets","formatFacetStat","searchAssignees","isMySet","saveMyIssues","getLocations","getSelectedLocation","allLocationsEmpty","scrollToIssue","shouldOpenSeverityFacet","shouldOpenStandardsFacet","shouldOpenStandardsChildFacet","shouldOpenSonarSourceSecurityFacet","sonar_ui_common_helpers_measures__WEBPACK_IMPORTED_MODULE_0__","sonar_ui_common_helpers_query__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_scrolling__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_helpers_storage__WEBPACK_IMPORTED_MODULE_3__","_api_organizations__WEBPACK_IMPORTED_MODULE_4__","_api_users__WEBPACK_IMPORTED_MODULE_5__","STANDARD_TYPES","parseAsSort","assigned","assignees","createdAfter","createdAt","createdBefore","createdInLast","cwe","directories","files","fileUuids","modules","moduleUuids","owaspTop10","projects","resolutions","rules","sansTop25","severities","sinceLeakPeriod","sonarsourceSecurity","propertyMapping","val","count","finalProperty","property","stat","_ref3","selectedFlowIndex","flows","secondaryLocations","selectedLocationIndex","locations","every","msg","smooth","element","querySelector","topOffset","bottomOffset","openFacets","isFilteredBySecurityIssueTypes","isOneStandardChildFacetOpen","standardType","some","changePassword","getUserGroups","getIdentityProviders","searchUsers","createUser","updateUser","deactivateUser","skipOnboarding","setHomePage","setUserSetting","scmAccount","setting","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_2__","Wrapper","receiveCurrentUser","ReceiveCurrentUser","skipOnboardingAction","SkipOnboardingAction","_api_users__WEBPACK_IMPORTED_MODULE_2__","setCurrentUserSettingAction","SetCurrentUserSetting","SetHomePageAction","setHomePageAction","setCurrentUserSetting","oldSetting","_helpers_users__WEBPACK_IMPORTED_MODULE_3__","settings","usersByLogin","userLogins","lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default","showOnboardingTutorial","findIndex","SEVERITIES","ISSUE_TYPES","RULE_TYPES","RULE_STATUSES","RATING_COLORS","_app_theme__WEBPACK_IMPORTED_MODULE_0__","sortProfiles","profiles","sorted","putProfile","profile","depth","parent","parentKey","childrenCount","child","isStagnant","rulesUpdatedAt","updateDate","sonar_ui_common_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","date_fns_difference_in_years__WEBPACK_IMPORTED_MODULE_1__","Date","getProfilesPath","getProfilesForLanguagePath","getProfilePath","getProfileComparePath","withKey","getProfileChangelogPath","since","DEFAULT_CATEGORY","sanitizeTranslation","getPropertyName","getPropertyDescription","getCategoryName","getSubCategoryName","getSubCategoryDescription","getUniqueName","getSettingValue","isEmptyValue","isCategoryDefinition","getEmptyValue","isDefaultOrInherited","getDefaultValue","dompurify__WEBPACK_IMPORTED_MODULE_0__","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","html","ALLOWED_TAGS","subCategory","indexSuffix","fieldValues","multiValues","fields","field","inherited","parentFieldValues","parentValue","parentValues","defaultValue","fetchQualityGates","fetchQualityGate","createQualityGate","deleteQualityGate","renameQualityGate","copyQualityGate","setQualityGateAsDefault","createCondition","updateCondition","deleteCondition","getGateForProject","associateGateWithProject","dissociateGateWithProject","getApplicationQualityGate","getQualityGateProjectStatus","qualityGate","isDefault","GlobalFooterBranding","official","target","GlobalFooterSonarCloud","get_year","productionDatabase","sonarqubeEdition","edition","sonarqubeVersion","version","hideLoggedInInfo","currentEdition","Alert","display","variant","setAppState","setAdminPages","_apps_marketplace_utils__WEBPACK_IMPORTED_MODULE_0__","SetAppState","adminPages","SetAdminPages","RequireAuthorization","authenticationError","authorizationError","defaultOrganization","community","OrganizationAvatar","sonar_ui_common_components_ui_GenericAvatar__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_components_ui_GenericAvatar__WEBPACK_IMPORTED_MODULE_2___default","imgLoadError","handleImgError","small","no-border","avatar","is-small","onError","PROJECTS_DEFAULT_FILTER","PROJECTS_FAVORITE","PROJECTS_ALL","SORTING_METRICS","SORTING_LEAK_METRICS","class","SORTING_SWITCH","analysis_date","reliability","security","maintainability","coverage","duplications","new_reliability","new_security","new_maintainability","new_coverage","new_duplications","new_lines","VIEWS","label","VISUALIZATIONS","PAGE_SIZE","PAGE_SIZE_VISUALIZATIONS","METRICS","LEAK_METRICS","METRICS_BY_VISUALIZATION","risk","FACETS","LEAK_FACETS","REVERSED_FACETS","localizeSorting","parseSorting","desc","sortValue","sortDesc","fetchProjects","defaultData","_query__WEBPACK_IMPORTED_MODULE_6__","mapPropertyToMetric","asc","convertToSorting","convertToQueryData","defineFacets","_api_components__WEBPACK_IMPORTED_MODULE_2__","fetchProjectMeasures","fetchProjectOrganizations","_ref2$","getFacetsMap","componentMeasures","_helpers_measures__WEBPACK_IMPORTED_MODULE_5__","projectKeys","visualization","defineMetrics","_api_measures__WEBPACK_IMPORTED_MODULE_3__","analysisDate","reliability_rating","new_reliability_rating","security_rating","new_security_rating","sqale_rating","new_maintainability_rating","duplicated_lines_density","new_duplicated_lines_density","ncloc","alert_status","mapMetricToProperty","mapFacetValues","gate","ONE_MINUTE","ONE_HOUR","ONE_DAY","ONE_MONTH","ONE_YEAR","formatDuration","ms","years","months","days","hours","lastId","format","getMeasures","getMeasuresAndMeta","getMeasuresForProjects","getCustomMeasures","createCustomMeasure","updateCustomMeasure","deleteCustomMeasure","customMeasures","getDefinitions","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_1__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_2__","getValues","setSettingValue","_apps_settings_utils__WEBPACK_IMPORTED_MODULE_3__","lodash_omitBy__WEBPACK_IMPORTED_MODULE_0___default","JSON","stringify","setSimpleSettingValue","resetSettingValue","sendTestEmail","subject","checkSecretKey","generateSecretKey","encryptValue","receiveOrganizations","receiveMyOrganizations","my","redux__WEBPACK_IMPORTED_MODULE_3__","onReceiveOrganizations","admin","lodash_omit__WEBPACK_IMPORTED_MODULE_2___default","lodash_uniq__WEBPACK_IMPORTED_MODULE_1___default","lodash_without__WEBPACK_IMPORTED_MODULE_0___default","WorkspacePortal_WorkspacePortal","super","classList","add","WORKSPACE","WorkspaceNav","WorkspaceRuleViewer","WorkspaceComponentViewer","MIN_HEIGHT","MAX_HEIGHT","INITIAL_HEIGHT","TYPE_KEY","Workspace_Workspace","loadWorkspace","parse","x","_a","saveWorkspace","omit_default","openComponent","uniqBy_default","reopenComponent","openRule","reopenRule","ruleKey","closeComponent","closeRule","handleComponentLoad","details","handleRuleLoad","collapse","maximize","maximized","minimize","resize","deltaY","minHeight","innerHeight","maxHeight","min","max","prevState","context","Provider","onComponentClose","onComponentOpen","onRuleClose","onRuleOpen","onClose","onCollapse","onLoad","onMaximize","onMinimize","onResize","A11yProvider_A11yProvider","link","weight","l","sortBy_default","A11ySkipLinks_A11ySkipLinks","Consumer","SuggestionsProvider_SuggestionsProvider","fetchSuggestions","jsonList","EmbedDocsSuggestions","suggestion","scope","newKey","oldKey","EmbedDocsPopup","EmbedDocsPopupHelper_EmbedDocsPopupHelper","helpOpen","onKeyPress","event","tagName","code","keyCode","which","toggleHelp","setHelpDisplay","handleClick","closeHelp","addEventListener","removeEventListener","Toggler_default","onRequestClose","overlay","buttons","aria-expanded","aria-haspopup","onClick","HelpIcon_default","SearchResults","SearchResult","components_search_Search","_this","focusInput","input","focus","handleClickOutside","closeSearch","handleFocus","documentElement","click","openSearch","clear","blur","shortQuery","getPlainComponentsList","next","findFile","findInResults","file","test","stopLoading","loading","RecentHistory","get","api_components","group","list","keyBy_default","warning","searchMore","loadingMore","moreResults","handleQueryChange","selectPrevious","selectNext","openSelected","startsWith","urls","scrollToSelected","node","nodes","scrolling","handleKeyDown","preventDefault","handleSelect","innerRef","searchInputRef","renderResult","onSelect","renderNoResults","debounce_default","keymaster","_prevProps","DeferredSpinner_default","SearchBox_default","autoFocus","minLength","onChange","onFocus","onKeyDown","placeholder","Dropdown","noPadding","allowMore","onMoreClick","ClockIcon_default","defaultMessage","shortcut","OutsideClickHandler_default","onClickOutside","GlobalNavBranding","customLogoUrl","customLogoWidth","helpers_urls","SonarCloudNavBranding","global_GlobalNavBranding","GlobalNavExplore","GlobalNavMenu_GlobalNavMenu","renderGlobalPageLink","classnames","issues_utils","canAdmin","_this$props$appState$","globalPages","withoutPortfolios","Dropdown_default","onToggleClick","DropdownIcon_default","governanceInstalled","renderProjects","renderPortfolios","renderIssuesLink","renderRulesLink","renderProfilesLink","renderQualityGatesLink","renderAdministrationLink","renderMore","global_GlobalNavUser","handleLogin","handleLogout","hasOrganizations","email","role","org","OrganizationListItem","renderAuthenticated","renderAnonymous","GlobalNavUserContainer","GlobalNavPlus","NotificationsSidebar","NavLatestNotification","store_users","nav_global_GlobalNav","notificationsLastReadDate","notificationsOptOut","dates","loadingNews","loadingMoreNews","notificationSidebar","fetchFeatureNews","api_news","newsRef","newsPaging","fetchMoreFeatureNews","handleOpenNotificationSidebar","handleCloseNotificationSidebar","lastNews","readDate","getTime","now","toString","NavBar_default","OnboardingContext","data-test","openProjectOnboarding","OnboardingModal","LicensePromptModal","ModalKey","LICENSE_PROMPT","StartupModal_mapDispatchToProps","components_StartupModal","closeOnboarding","modal","license","closeLicense","openOnboarding","onboarding","tab","alm","tryAutoOpenLicense","hasLicenseManager","lastPrompt","difference_in_days","marketplace","isValidEdition","tryAutoOpenOnboarding","onOpenProjectOnboarding","_props$footer","footer","GlobalFooterContainer","GlobalMessagesContainer","EditionKey","EDITIONS","homeUrl","developer","downloadUrl","enterprise","datacenter","getEditionUrl","querystring__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_3__","EXCLUDED_PLUGINS","filterPlugins","plugins","plugin","isPluginAvailable","release","isPluginInstalled","isPluginPending","updatedAt","lodash_memoize__WEBPACK_IMPORTED_MODULE_0___default","urlQuery","sonar_ui_common_helpers_query__WEBPACK_IMPORTED_MODULE_2__","fetchIfAnyoneCanCreateOrganizations","_api_organizations__WEBPACK_IMPORTED_MODULE_0__","_api_settings__WEBPACK_IMPORTED_MODULE_1__","_store_organizations__WEBPACK_IMPORTED_MODULE_2__","_settings_store_values__WEBPACK_IMPORTED_MODULE_3__","member","getAllMetrics","getMetricDomains","getMetricTypes","createMetric","updateMetric","deleteMetric","prev","domains","WorkspaceContext","OrganizationLink","other","__rest","react_router__WEBPACK_IMPORTED_MODULE_1__","sortByType","_constants__WEBPACK_IMPORTED_MODULE_2__","injectRelational","source","baseField","lookupField","newFields","baseValue","lookupValue","candidate","charAt","toUpperCase","slice","reverseLocations","parseIssueFromResponse","_splitFlows","parsedFlows","flow","textRange","componentName","lodash_flatten__WEBPACK_IMPORTED_MODULE_1___default","startLine","startOffset","splitFlows","comments","comment","commentWithAuthor","author","injectCommentsRelational","prepareClosed","endLine","endOffset","ensureTextRange","sonar_ui_common_helpers_storage__WEBPACK_IMPORTED_MODULE_0__","RECENT_HISTORY","HISTORY_LIMIT","newHistory","icon","sonarHistory","newEntry","entry","unshift","set","receiveValues","settingsByKey","_store_appState__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_0__","sonar_ui_common_components_lazyLoad__WEBPACK_IMPORTED_MODULE_1__","shouldRequestFacet","getServerFacet","getAppFacet","sonar_ui_common_helpers_query__WEBPACK_IMPORTED_MODULE_0__","activationSeverities","active_severities","availableSince","available_since","compareToProfile","inheritance","parseAsInheritance","qprofile","repositories","searchQuery","template","is_template","serverFacet","fetchIssueOrganizations","organizationKeys","_store_organizations__WEBPACK_IMPORTED_MODULE_7__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_5__","fetchIssues","requestOrganizations","_store_rootReducer__WEBPACK_IMPORTED_MODULE_8__","_api_issues__WEBPACK_IMPORTED_MODULE_3__","parsedIssues","_helpers_issues__WEBPACK_IMPORTED_MODULE_6__","userOrganizations","sonar_ui_common_components_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","cancelChange","CancelChange","changeValue","ChangeValue","failValidation","FailValidation","passValidation","PassValidation","startLoading","StartLoading","StopLoading","changedValues","validationMessages","lodash_omit__WEBPACK_IMPORTED_MODULE_0___default","receiveLanguages","getLanguageByKey","getCoverageStatus","lineHits","coveredConditions","parseUrlQuery","convertToFilter","hasFilterParams","hasVisualizationParams","_utils__WEBPACK_IMPORTED_MODULE_0__","getAsLevel","getAsNumericRating","getAsStringArray","getAsString","getVisualization","pushMetricToArray","convertCoverage","convertDuplications","convertSize","convertIssuesRating","convertArrayMetric","visualizationParams","num","conditionsArray","convertFunction","Array","isArray","sonar_ui_common_components_controls_GlobalMessages__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_controls_GlobalMessages__WEBPACK_IMPORTED_MODULE_1___default","_store_globalMessages__WEBPACK_IMPORTED_MODULE_2__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_3__","messages","_common_OrganizationAvatar__WEBPACK_IMPORTED_MODULE_2__","_OrganizationLink__WEBPACK_IMPORTED_MODULE_3__","_organization$actions"],"mappings":"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","file":"js/app.m.7c6d7a1d.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy, sortBy, uniqBy } from 'lodash';\nimport { ActionType } from '../../../store/utils/actions';\nimport { DEFAULT_CATEGORY, getCategoryName } from '../utils';\n\nconst enum Actions {\n  ReceiveDefinitions = 'RECEIVE_DEFINITIONS'\n}\n\ntype Action = ActionType<typeof receiveDefinitions, Actions.ReceiveDefinitions>;\n\nexport type State = T.Dict<T.SettingCategoryDefinition>;\n\nexport function receiveDefinitions(definitions: T.SettingCategoryDefinition[]) {\n  return { type: Actions.ReceiveDefinitions, definitions };\n}\n\nexport default function components(state: State = {}, action: Action) {\n  if (action.type === Actions.ReceiveDefinitions) {\n    return keyBy(action.definitions, 'key');\n  }\n  return state;\n}\n\nexport function getDefinition(state: State, key: string) {\n  return state[key];\n}\n\nexport function getAllDefinitions(state: State) {\n  return Object.keys(state).map(key => state[key]);\n}\n\nexport function getDefinitionsForCategory(state: State, category: string) {\n  return getAllDefinitions(state).filter(\n    definition => definition.category.toLowerCase() === category.toLowerCase()\n  );\n}\n\nexport function getAllCategories(state: State) {\n  return uniqBy(getAllDefinitions(state).map(definition => definition.category), category =>\n    category.toLowerCase()\n  );\n}\n\nexport function getDefaultCategory(state: State) {\n  const categories = getAllCategories(state);\n  if (categories.includes(DEFAULT_CATEGORY)) {\n    return DEFAULT_CATEGORY;\n  } else {\n    const sortedCategories = sortBy(categories, category =>\n      getCategoryName(category).toLowerCase()\n    );\n    return sortedCategories[0];\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getBranchLikeKey } from '../helpers/branches';\nimport { ActionType } from './utils/actions';\n\nexport interface BranchStatusData {\n  conditions?: T.QualityGateStatusCondition[];\n  ignoredConditions?: boolean;\n  status?: T.Status;\n}\n\nexport interface State {\n  byComponent: T.Dict<T.Dict<BranchStatusData>>;\n}\n\nconst enum Actions {\n  RegisterBranchStatus = 'REGISTER_BRANCH_STATUS'\n}\n\ntype Action = ActionType<typeof registerBranchStatusAction, Actions.RegisterBranchStatus>;\n\nexport function registerBranchStatusAction(\n  branchLike: T.BranchLike,\n  component: string,\n  status: T.Status,\n  conditions?: T.QualityGateStatusCondition[],\n  ignoredConditions?: boolean\n) {\n  return {\n    type: Actions.RegisterBranchStatus,\n    branchLike,\n    component,\n    conditions,\n    ignoredConditions,\n    status\n  };\n}\n\nexport default function(state: State = { byComponent: {} }, action: Action): State {\n  if (action.type === Actions.RegisterBranchStatus) {\n    const { component, conditions, branchLike, ignoredConditions, status } = action;\n    const branchLikeKey = getBranchLikeKey(branchLike);\n    return {\n      byComponent: {\n        ...state.byComponent,\n        [component]: {\n          ...(state.byComponent[component] || {}),\n          [branchLikeKey]: {\n            conditions,\n            ignoredConditions,\n            status\n          }\n        }\n      }\n    };\n  }\n\n  return state;\n}\n\nexport function getBranchStatusByBranchLike(\n  state: State,\n  component: string,\n  branchLike: T.BranchLike\n): BranchStatusData {\n  const branchLikeKey = getBranchLikeKey(branchLike);\n  return state.byComponent[component] && state.byComponent[component][branchLikeKey];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { ActionType } from './utils/actions';\n\nexport function receiveMetrics(metrics: T.Metric[]) {\n  return { type: 'RECEIVE_METRICS', metrics };\n}\n\ntype Action = ActionType<typeof receiveMetrics, 'RECEIVE_METRICS'>;\n\nexport type State = { byKey: T.Dict<T.Metric>; keys: string[] };\n\nconst byKey = (state: State['byKey'] = {}, action: Action) => {\n  if (action.type === 'RECEIVE_METRICS') {\n    return keyBy(action.metrics, 'key');\n  }\n  return state;\n};\n\nconst keys = (state: State['keys'] = [], action: Action) => {\n  if (action.type === 'RECEIVE_METRICS') {\n    return action.metrics.map(f => f.key);\n  }\n\n  return state;\n};\n\nexport default combineReducers({ byKey, keys });\n\nexport function getMetrics(state: State) {\n  return state.byKey;\n}\n\nexport function getMetricsKey(state: State) {\n  return state.keys;\n}\n\nexport function getMetricByKey(state: State, key: string) {\n  return state.byKey[key];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getCorsJSON } from 'sonar-ui-common/helpers/request';\n\ninterface PrismicRef {\n  id: string;\n  ref: string;\n}\n\nexport interface PrismicNews {\n  data: { title: string };\n  last_publication_date: string;\n  uid: string;\n}\n\ninterface PrismicResponse {\n  page: number;\n  results: PrismicResult[];\n  results_per_page: number;\n  total_results_size: number;\n}\n\ninterface PrismicResult {\n  data: {\n    notification: string;\n    publication_date: string;\n    body: PrismicResultFeature[];\n  };\n}\n\ninterface PrismicResultFeature {\n  items: Array<{\n    category: {\n      data: {\n        color: string;\n        name: string;\n      };\n    };\n  }>;\n  primary: {\n    description: string;\n    read_more_link: {\n      url?: string;\n    };\n  };\n}\n\nexport interface PrismicFeatureNews {\n  notification: string;\n  publicationDate: string;\n  features: Array<{\n    categories: Array<{\n      color: string;\n      name: string;\n    }>;\n    description: string;\n    readMore?: string;\n  }>;\n}\n\nconst PRISMIC_API_URL = 'https://sonarsource.cdn.prismic.io/api/v2';\n\nexport function fetchPrismicRefs() {\n  return getCorsJSON(PRISMIC_API_URL).then((response: { refs: PrismicRef[] }) => {\n    const master = response && response.refs.find(ref => ref.id === 'master');\n    if (!master) {\n      return Promise.reject('No master ref found');\n    }\n    return Promise.resolve(master);\n  });\n}\n\nexport function fetchPrismicNews(data: {\n  accessToken: string;\n  ps?: number;\n  ref: string;\n  tag?: string;\n}) {\n  const q = ['[[at(document.type, \"blog_sonarsource_post\")]]'];\n  if (data.tag) {\n    q.push(`[[at(document.tags,[\"${data.tag}\"])]]`);\n  }\n  return getCorsJSON(PRISMIC_API_URL + '/documents/search', {\n    access_token: data.accessToken,\n    orderings: '[document.first_publication_date desc]',\n    pageSize: data.ps || 1,\n    q,\n    ref: data.ref\n  }).then(({ results }: { results: PrismicNews[] }) => results);\n}\n\nexport function fetchPrismicFeatureNews(data: {\n  accessToken: string;\n  p?: number;\n  ps?: number;\n  ref: string;\n}): Promise<{ news: PrismicFeatureNews[]; paging: T.Paging }> {\n  return getCorsJSON(PRISMIC_API_URL + '/documents/search', {\n    access_token: data.accessToken,\n    fetchLinks: 'sc_category.color,sc_category.name',\n    orderings: '[my.sc_product_news.publication_date desc]',\n    page: data.p || 1,\n    pageSize: data.ps || 1,\n    q: ['[[at(document.type, \"sc_product_news\")]]'],\n    ref: data.ref\n  }).then(({ page, results, results_per_page, total_results_size }: PrismicResponse) => ({\n    news: results.map(result => ({\n      notification: result.data.notification,\n      publicationDate: result.data.publication_date,\n      features: result.data.body.map(feature => ({\n        categories: feature.items.map(item => item.category.data).filter(Boolean),\n        description: feature.primary.description,\n        readMore: feature.primary.read_more_link.url\n      }))\n    })),\n    paging: {\n      pageIndex: page,\n      pageSize: results_per_page,\n      total: total_results_size\n    }\n  }));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\n\nconst ORDER = ['DEV', 'VW', 'SVW', 'APP', 'TRK', 'BRC', 'FIL', 'UTS'];\n\nexport function sortQualifiers(qualifiers: string[]) {\n  return sortBy(qualifiers, qualifier => ORDER.indexOf(qualifier));\n}\n\nexport interface ComponentResult {\n  isFavorite?: boolean;\n  isRecentlyBrowsed?: boolean;\n  key: string;\n  match?: string;\n  name: string;\n  organization?: string;\n  project?: string;\n  qualifier: string;\n}\n\nexport interface Results {\n  [qualifier: string]: ComponentResult[];\n}\n\nexport interface More {\n  [qualifier: string]: number;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface License {\n  contactEmail: string;\n  edition: string;\n  expiresAt: string;\n  isExpired: boolean;\n  isOfficialDistribution: boolean;\n  isSupported: boolean;\n  isValidEdition: boolean;\n  isValidServerId: boolean;\n  loc: number;\n  maxLoc: number;\n  plugins: string[];\n  remainingLocThreshold: number;\n  serverId: string;\n  type: string;\n}\n\nexport function isValidLicense(): Promise<{ isValidLicense: boolean }> {\n  return getJSON('/api/editions/is_valid_license');\n}\n\nexport function showLicense(): Promise<License> {\n  return getJSON('/api/editions/show_license').catch((response: Response) => {\n    if (response && response.status === 404) {\n      return Promise.resolve(undefined);\n    }\n    return throwGlobalError(response);\n  });\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".workspace-nav{position:fixed;z-index:451;bottom:0;right:0;height:28px}.workspace-nav-list{float:right}.workspace-nav-item{position:relative;display:inline-flex;align-items:center;margin-right:8px}.workspace-nav-item-link{display:inline-flex;align-items:center;height:28px;padding:0 28px 0 8px;border:none;background-color:#404040;color:#fff;font-size:12px}.workspace-nav-item-link:focus,.workspace-nav-item-link:hover{color:#fff;opacity:.9}.workspace-nav-item-close{position:absolute;right:4px;top:4px}.workspace-viewer{position:fixed;z-index:450;bottom:0;left:0;right:0;box-sizing:border-box;background-color:#fff;box-shadow:0 -6px 12px rgba(0,0,0,.175)}.workspace-viewer-header{position:relative;height:30px;padding:3px 10px;box-sizing:border-box;background-color:#404040;color:#fff;font-weight:300}.workspace-viewer-name{float:left;line-height:24px;color:#fff;font-weight:400}.workspace-viewer-name i{margin-top:3px}.workspace-viewer-resize{position:absolute;top:3px;left:50%;width:30px;height:5px;margin-left:-15px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iNSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEuNDE0Ij48cGF0aCBmaWxsPSIjNzc3IiBmaWxsLW9wYWNpdHk9Ii41IiBkPSJNMCAwaDJ2Mkgwek00IDBoMnYySDR6TTggMGgydjJIOHpNMTIgMGgydjJoLTJ6TTE2IDBoMnYyaC0yek0yMCAwaDJ2MmgtMnpNMjQgMGgydjJoLTJ6TTI4IDBoMnYyaC0yek0wIDNoMnYySDB6TTQgM2gydjJINHpNOCAzaDJ2Mkg4ek0xMiAzaDJ2MmgtMnpNMTYgM2gydjJoLTJ6TTIwIDNoMnYyaC0yek0yNCAzaDJ2MmgtMnpNMjggM2gydjJoLTJ6Ii8+PHBhdGggZmlsbD0iIzc3NyIgZmlsbC1vcGFjaXR5PSIuNSIgZD0iTTAgMGgydjJIMHpNNCAwaDJ2Mkg0ek04IDBoMnYySDh6TTEyIDBoMnYyaC0yek0xNiAwaDJ2MmgtMnpNMjAgMGgydjJoLTJ6TTI0IDBoMnYyaC0yek0yOCAwaDJ2MmgtMnoiLz48L3N2Zz4=);cursor:ns-resize}.workspace-viewer-actions{float:right}.workspace-viewer-actions a{color:inherit}.workspace-header-icon:focus path,.workspace-header-icon:hover path{color:#404040}.workspace-viewer-container{height:calc(40vh - 30px);min-height:100px;max-height:calc(95vh - 30px);padding:5px 10px;overflow-y:scroll;overflow-x:auto;box-sizing:border-box}.with-workspace .source-viewer{padding-bottom:40vh}.with-workspace .workspace-viewer .source-viewer{padding-bottom:0}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./A11ySkipLinks.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./A11ySkipLinks.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./A11ySkipLinks.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".a11y-skip-link{width:0;height:0;padding:8px;position:absolute;left:-9999px;top:-9999px;border:0;font-size:1rem;text-align:center;z-index:999}.a11y-skip-link:focus{width:auto;height:auto;left:6px;top:6px;color:#fff;background-color:#262626;text-decoration:underline}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Search.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Search.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Search.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".navbar-search{position:relative;padding:8px 0}.navbar-search .search-box,.navbar-search .search-box-input{width:26vw;max-width:310px;min-width:260px;height:32px}.navbar-search .search-box-input{border-color:#fff}.navbar-search .search-box-note{line-height:30px}.navbar-search .search-box-clear,.navbar-search .search-box-magnifier{top:8px}.navbar-search-input{vertical-align:middle;width:310px;margin-top:3px;margin-bottom:3px;padding-left:26px!important}.navbar-search-input-hint{position:absolute;top:1px;right:27px;line-height:24px;font-size:12px;color:#777}.navbar-search-icon{position:relative;z-index:3;vertical-align:middle;width:16px;margin-left:4px;margin-right:-20px;background-color:#fff;color:#777}.navbar-search-icon:before{font-size:14px}.navbar-search-item-link{display:flex!important}.navbar-search-item-match{flex-grow:5;overflow:hidden;text-overflow:ellipsis}.navbar-search-item-right{flex-grow:1;padding-left:10px;text-align:right}.navbar-search-item-icons{position:relative;flex-shrink:0;width:16px;height:16px}.navbar-search-item-icons>*{position:absolute;z-index:5;top:0;left:0}.navbar-search-item-icons>.icon-clock,.navbar-search-item-icons>.icon-outline{z-index:6;top:-4px;left:-5px}.navbar-search-no-results{margin-top:4px;padding:5px 10px}.global-navbar-search-dropdown{top:100%!important;max-height:80vh;width:440px;padding:0!important;overflow-y:auto;overflow-x:hidden}.global-navbar-search-dropdown .dropdown-bottom-hint{margin-bottom:0}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./GlobalNav.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./GlobalNav.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./GlobalNav.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".navbar-global,.navbar-global .navbar-inner{background-color:#262626;z-index:421}.navbar-global .navbar-limited{display:flex}.navbar-brand{display:flex;justify-content:center;align-items:center;height:48px;margin-left:-8px;padding-top:4px;padding-left:8px;padding-right:8px;border-bottom:4px solid transparent}.navbar-login{margin-right:-10px;white-space:nowrap}.navbar-avatar{margin-right:-8px;padding:8px!important;border:none!important}.navbar-icon{display:inline-block;height:48px;padding:16px 12px!important;border-bottom:none!important;color:#fff!important}.navbar-plus{margin-right:-8px}.global-navbar-menu{display:flex;align-items:center;height:48px}.global-navbar-menu>li>a{display:block;height:48px;padding:8px 10px;line-height:32px;border-bottom:4px solid transparent;box-sizing:border-box;color:#ccc;font-size:13px;letter-spacing:.05em;white-space:nowrap}.global-navbar-menu>.dropdown.open>a,.global-navbar-menu>li>a.active,.global-navbar-menu>li>a:focus,.global-navbar-menu>li>a:hover,.navbar-brand:focus,.navbar-brand:hover{background-color:#020202}.global-navbar-menu>li>a.active{border-bottom-color:#646464}.global-navbar-menu-right{flex:1;justify-content:flex-end;margin-left:40px}.global-navbar-menu-right .navbar-search{flex:0 1 240px;min-width:0}.global-navbar-menu-right .navbar-search .search-box,.global-navbar-menu-right .navbar-search .search-box-input{min-width:0;width:100%}@media print{.navbar-global{display:none!important}}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./OrganizationAvatar.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./OrganizationAvatar.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./OrganizationAvatar.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".navbar-context-avatar{display:inline-flex;vertical-align:top;justify-content:center;align-items:center;width:32px;height:32px;border:1px solid #e6e6e6}.navbar-context-avatar.no-border{border:none}.navbar-context-avatar.is-small{width:16px;height:16px}.navbar-context-avatar img{vertical-align:top;max-width:100%;max-height:100%}.navbar-context-avatar img,.navbar-context-avatar svg{transform:none}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { isSonarCloud } from '../../helpers/system';\n\nconst routes = [\n  {\n    indexRoute: {\n      component: lazyLoad(() =>\n        isSonarCloud() ? import('./sonarcloud/Home') : import('./components/AboutApp')\n      )\n    },\n    childRoutes: isSonarCloud()\n      ? [\n          {\n            path: 'contact',\n            component: lazyLoad(() => import('./sonarcloud/Contact'))\n          },\n          {\n            path: 'pricing',\n            component: lazyLoad(() => import('./sonarcloud/Pricing'))\n          },\n          {\n            path: 'sq',\n            childRoutes: [\n              { indexRoute: { component: lazyLoad(() => import('./sonarcloud/SQHome')) } },\n              {\n                path: 'as-a-service',\n                component: lazyLoad(() => import('./sonarcloud/AsAService'))\n              },\n              {\n                path: 'branch-analysis-and-pr-decoration',\n                component: lazyLoad(() => import('./sonarcloud/BranchAnalysis'))\n              },\n              {\n                path: 'sonarlint-integration',\n                component: lazyLoad(() => import('./sonarcloud/SonarLintIntegration'))\n              },\n              {\n                path: 'vsts',\n                component: lazyLoad(() => import('./sonarcloud/AzureDevOps'))\n              }\n            ]\n          }\n        ]\n      : []\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    component: lazyLoad(() => import('./components/Account')),\n    childRoutes: [\n      {\n        indexRoute: { component: lazyLoad(() => import('./profile/Profile')) }\n      },\n      {\n        path: 'security',\n        component: lazyLoad(() => import('./components/Security'))\n      },\n      {\n        path: 'projects',\n        component: lazyLoad(() => import('./projects/ProjectsContainer'))\n      },\n      {\n        path: 'notifications',\n        component: lazyLoad(() => import('./notifications/Notifications'))\n      },\n      {\n        path: 'organizations',\n        component: lazyLoad(() => import('./organizations/UserOrganizations'))\n      }\n    ]\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/BackgroundTasksApp')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RedirectFunction, RouterState } from 'react-router';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { parseQuery, serializeQuery } from './query';\n\nfunction parseHash(hash: string): T.RawQuery {\n  const query: T.RawQuery = {};\n  const parts = hash.split('|');\n  parts.forEach(part => {\n    const tokens = part.split('=');\n    if (tokens.length === 2) {\n      query[decodeURIComponent(tokens[0])] = decodeURIComponent(tokens[1]);\n    }\n  });\n  return query;\n}\n\nconst routes = [\n  {\n    indexRoute: {\n      onEnter: (nextState: RouterState, replace: RedirectFunction) => {\n        const { hash } = window.location;\n        if (hash.length > 1) {\n          const query = parseHash(hash.substr(1));\n          const normalizedQuery = {\n            ...serializeQuery(parseQuery(query)),\n            open: query.open\n          };\n          replace({ pathname: nextState.location.pathname, query: normalizedQuery });\n        }\n      },\n      component: lazyLoad(() => import('./components/App'))\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RedirectFunction, RouterState } from 'react-router';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  },\n  {\n    path: 'domain/:domainName',\n    onEnter(nextState: RouterState, replace: RedirectFunction) {\n      replace({\n        pathname: '/component_measures',\n        query: {\n          ...nextState.location.query,\n          metric: nextState.params.domainName\n        }\n      });\n    }\n  },\n  {\n    path: 'metric/:metricKey(/:view)',\n    onEnter(nextState: RouterState, replace: RedirectFunction) {\n      if (nextState.params.view === 'history') {\n        replace({\n          pathname: '/project/activity',\n          query: {\n            id: nextState.location.query.id,\n            graph: 'custom',\n            custom_metrics: nextState.params.metricKey\n          }\n        });\n      } else {\n        replace({\n          pathname: '/component_measures',\n          query: {\n            ...nextState.location.query,\n            metric: nextState.params.metricKey,\n            view: nextState.params.view\n          }\n        });\n      }\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst App = lazyLoad(() => import(/* webpackChunkName: \"docs\" */ './components/App'));\n\nconst routes = [{ indexRoute: { component: App } }, { path: '**', indexRoute: { component: App } }];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport ContextNavBar from 'sonar-ui-common/components/ui/ContextNavBar';\nimport NavBarTabs from 'sonar-ui-common/components/ui/NavBarTabs';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { rawSizes } from '../../app/theme';\n\ninterface Props {\n  children: JSX.Element;\n}\n\nexport default function Explore(props: Props) {\n  return (\n    <div id=\"explore\">\n      <ContextNavBar height={rawSizes.contextNavHeightRaw} id=\"explore-navigation\">\n        <header className=\"navbar-context-header\">\n          <h1>{translate('explore')}</h1>\n        </header>\n\n        <NavBarTabs>\n          <li>\n            <Link activeClassName=\"active\" to=\"/explore/projects\">\n              {translate('projects.page')}\n            </Link>\n          </li>\n          <li>\n            <Link\n              activeClassName=\"active\"\n              to={{ pathname: '/explore/issues', query: { resolved: 'false' } }}>\n              {translate('issues.page')}\n            </Link>\n          </li>\n        </NavBarTabs>\n      </ContextNavBar>\n\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AppContainer from '../issues/components/AppContainer';\n\ninterface Props {\n  location: { pathname: string; query: T.RawQuery };\n}\n\nexport default function ExploreIssues(props: Props) {\n  return (\n    <AppContainer hideAuthorFacet={true} multiOrganizations={true} myIssues={false} {...props} />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AllProjectsContainer from '../projects/components/AllProjectsContainer';\n\ninterface Props {\n  location: { pathname: string; query: T.RawQuery };\n}\n\nexport default function ExploreProjects(props: Props) {\n  return (\n    <AllProjectsContainer\n      isFavorite={false}\n      organization={undefined}\n      storageOptionsSuffix=\"explore\"\n      {...props}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { withCurrentUser } from '../../components/hoc/withCurrentUser';\nimport { Location } from '../../components/hoc/withRouter';\nimport { isSonarCloud } from '../../helpers/system';\nimport { isLoggedIn } from '../../helpers/users';\nimport AppContainer from './components/AppContainer';\n\nexport interface Props {\n  currentUser: T.CurrentUser;\n  location: Location;\n}\n\nexport function IssuesPage({ currentUser, location }: Props) {\n  const myIssues = (isLoggedIn(currentUser) && isSonarCloud()) || undefined;\n  return <AppContainer location={location} myIssues={myIssues} />;\n}\n\nexport default withCurrentUser(IssuesPage);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IndexRoute } from 'react-router';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nexport const maintenanceRoutes = (\n  <IndexRoute component={lazyLoad(() => import('./components/MaintenanceAppContainer'))} />\n);\n\nexport const setupRoutes = (\n  <IndexRoute component={lazyLoad(() => import('./components/SetupAppContainer'))} />\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./AppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst App = lazyLoad(() => import('./components/App'));\n\nconst routes = [{ indexRoute: { component: App } }, { path: 'show/:id', component: App }];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    component: lazyLoad(() => import('./components/AppContainer')),\n    indexRoute: { component: lazyLoad(() => import('./home/HomeContainer')) },\n    childRoutes: [\n      {\n        component: lazyLoad(() => import('./components/ProfileContainer')),\n        childRoutes: [\n          {\n            path: 'show',\n            component: lazyLoad(() => import('./details/ProfileDetails'))\n          },\n          {\n            path: 'changelog',\n            component: lazyLoad(() => import('./changelog/ChangelogContainer'))\n          },\n          {\n            path: 'compare',\n            component: lazyLoad(() => import('./compare/ComparisonContainer'))\n          }\n        ]\n      }\n    ]\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RedirectFunction, RouterState } from 'react-router';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport codingRulesRoutes from '../coding-rules/routes';\nimport qualityGatesRoutes from '../quality-gates/routes';\nimport qualityProfilesRoutes from '../quality-profiles/routes';\nimport webhooksRoutes from '../webhooks/routes';\n\nconst OrganizationContainer = lazyLoad(() => import('./components/OrganizationContainer'));\n\nconst routes = [\n  {\n    path: ':organizationKey',\n    component: lazyLoad(() => import('./components/OrganizationPage')),\n    childRoutes: [\n      {\n        indexRoute: {\n          onEnter(nextState: RouterState, replace: RedirectFunction) {\n            const { params } = nextState;\n            replace(`/organizations/${params.organizationKey}/projects`);\n          }\n        }\n      },\n      {\n        path: 'projects',\n        component: OrganizationContainer,\n        childRoutes: [\n          { indexRoute: { component: lazyLoad(() => import('./components/OrganizationProjects')) } }\n        ]\n      },\n      {\n        path: 'issues',\n        component: OrganizationContainer,\n        childRoutes: [\n          { indexRoute: { component: lazyLoad(() => import('../issues/components/AppContainer')) } }\n        ]\n      },\n      {\n        path: 'rules',\n        component: OrganizationContainer,\n        childRoutes: codingRulesRoutes\n      },\n      {\n        path: 'members',\n        component: lazyLoad(() => import('../organizationMembers/OrganizationMembersContainer'))\n      },\n      {\n        path: 'quality_profiles',\n        childRoutes: qualityProfilesRoutes\n      },\n      {\n        path: 'quality_gates',\n        component: OrganizationContainer,\n        childRoutes: qualityGatesRoutes\n      },\n      {\n        component: lazyLoad(() => import('./components/OrganizationAccessContainer')),\n        childRoutes: [\n          { path: 'edit', component: lazyLoad(() => import('./components/OrganizationEdit')) },\n          { path: 'groups', component: lazyLoad(() => import('../groups/components/App')) },\n          {\n            path: 'permissions',\n            component: lazyLoad(() => import('../permissions/global/components/App'))\n          },\n          {\n            path: 'permission_templates',\n            component: lazyLoad(() => import('../permission-templates/components/App'))\n          },\n          {\n            path: 'projects_management',\n            component: lazyLoad(() => import('../projectsManagement/AppContainer'))\n          },\n          { path: 'webhooks', childRoutes: webhooksRoutes },\n          {\n            path: 'extension/:pluginKey/:extensionKey',\n            component: lazyLoad(() =>\n              import('../../app/components/extensions/OrganizationPageExtension')\n            )\n          }\n        ]\n      }\n    ]\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nexport const globalPermissionsRoutes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./global/components/App')) }\n  }\n];\n\nexport const projectPermissionsRoutes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./project/components/AppContainer')) }\n  }\n];\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: {\n      component: lazyLoad(() => import('./components/ProjectActivityAppContainer'))\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/AppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/AppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { get } from 'sonar-ui-common/helpers/storage';\nimport { searchProjects } from '../../../api/components';\nimport { Location, Router, withRouter } from '../../../components/hoc/withRouter';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { isLoggedIn } from '../../../helpers/users';\nimport { PROJECTS_ALL, PROJECTS_DEFAULT_FILTER, PROJECTS_FAVORITE } from '../utils';\nimport AllProjectsContainer from './AllProjectsContainer';\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  location: Pick<Location, 'pathname' | 'query'>;\n  router: Pick<Router, 'replace'>;\n}\n\ninterface State {\n  shouldBeRedirected?: boolean;\n  shouldForceSorting?: string;\n}\n\nexport class DefaultPageSelector extends React.PureComponent<Props, State> {\n  state: State = {};\n\n  componentDidMount() {\n    if (isSonarCloud() && !isLoggedIn(this.props.currentUser)) {\n      this.props.router.replace('/explore/projects');\n    }\n\n    if (!isSonarCloud()) {\n      this.defineIfShouldBeRedirected();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!isSonarCloud()) {\n      if (prevProps.location !== this.props.location) {\n        this.defineIfShouldBeRedirected();\n      } else if (this.state.shouldBeRedirected === true) {\n        this.props.router.replace({ ...this.props.location, pathname: '/projects/favorite' });\n      } else if (this.state.shouldForceSorting != null) {\n        this.props.router.replace({\n          ...this.props.location,\n          query: {\n            ...this.props.location.query,\n            sort: this.state.shouldForceSorting\n          }\n        });\n      }\n    }\n  }\n\n  isFavoriteSet = (): boolean => {\n    const setting = get(PROJECTS_DEFAULT_FILTER);\n    return setting === PROJECTS_FAVORITE;\n  };\n\n  isAllSet = (): boolean => {\n    const setting = get(PROJECTS_DEFAULT_FILTER);\n    return setting === PROJECTS_ALL;\n  };\n\n  defineIfShouldBeRedirected() {\n    if (Object.keys(this.props.location.query).length > 0) {\n      // show ALL projects when there are some filters\n      this.setState({ shouldBeRedirected: false, shouldForceSorting: undefined });\n    } else if (!isLoggedIn(this.props.currentUser)) {\n      // show ALL projects if user is anonymous\n      if (!this.props.location.query || !this.props.location.query.sort) {\n        // force default sorting to last analysis date\n        this.setState({ shouldBeRedirected: false, shouldForceSorting: '-analysis_date' });\n      } else {\n        this.setState({ shouldBeRedirected: false, shouldForceSorting: undefined });\n      }\n    } else if (this.isFavoriteSet()) {\n      // show FAVORITE projects if \"favorite\" setting is explicitly set\n      this.setState({ shouldBeRedirected: true, shouldForceSorting: undefined });\n    } else if (this.isAllSet()) {\n      // show ALL projects if \"all\" setting is explicitly set\n      this.setState({ shouldBeRedirected: false, shouldForceSorting: undefined });\n    } else {\n      // otherwise, request favorites\n      this.setState({ shouldBeRedirected: undefined, shouldForceSorting: undefined });\n      searchProjects({ filter: 'isFavorite', ps: 1 }).then(r => {\n        // show FAVORITE projects if there are any\n        this.setState({ shouldBeRedirected: r.paging.total > 0, shouldForceSorting: undefined });\n      });\n    }\n  }\n\n  render() {\n    if (isSonarCloud() && isLoggedIn(this.props.currentUser)) {\n      return (\n        <AllProjectsContainer\n          isFavorite={true}\n          location={this.props.location}\n          organization={undefined}\n        />\n      );\n    }\n\n    const { shouldBeRedirected, shouldForceSorting } = this.state;\n\n    if (\n      shouldBeRedirected !== undefined &&\n      shouldBeRedirected !== true &&\n      shouldForceSorting === undefined\n    ) {\n      return (\n        <AllProjectsContainer\n          isFavorite={false}\n          location={this.props.location}\n          organization={undefined}\n        />\n      );\n    }\n\n    return null;\n  }\n}\n\nexport default withRouter(DefaultPageSelector);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RedirectFunction, RouterState } from 'react-router';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { save } from 'sonar-ui-common/helpers/storage';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport DefaultPageSelectorContainer from './components/DefaultPageSelectorContainer';\nimport FavoriteProjectsContainer from './components/FavoriteProjectsContainer';\nimport { PROJECTS_ALL, PROJECTS_DEFAULT_FILTER } from './utils';\n\nconst routes = [\n  { indexRoute: { component: DefaultPageSelectorContainer } },\n  {\n    path: 'all',\n    onEnter(_: RouterState, replace: RedirectFunction) {\n      save(PROJECTS_DEFAULT_FILTER, PROJECTS_ALL);\n      replace('/projects');\n    }\n  },\n  { path: 'favorite', component: FavoriteProjectsContainer },\n  {\n    path: 'create',\n    component: lazyLoad(() => import('../create/project/CreateProjectPage'))\n  }\n].filter(isDefined);\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { getCurrentUser, Store } from '../../../store/rootReducer';\nimport DefaultPageSelector from './DefaultPageSelector';\n\nconst stateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(stateToProps)(DefaultPageSelector);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AllProjectsContainer from './AllProjectsContainer';\n\nexport default function FavoriteProjectsContainer(props: any) {\n  return <AllProjectsContainer isFavorite={true} {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./AppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    path: 'new',\n    component: lazyLoad(() => import('./components/LoginContainer'))\n  },\n  {\n    path: 'logout',\n    component: lazyLoad(() => import('./components/Logout'))\n  },\n  {\n    path: 'unauthorized',\n    component: lazyLoad(() => import('./components/Unauthorized'))\n  },\n  {\n    path: 'email_already_exists',\n    component: lazyLoad(() => import('./components/EmailAlreadyExists'))\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/AppContainer')) }\n  },\n  {\n    path: 'encryption',\n    component: lazyLoad(() => import('./encryption/EncryptionApp'))\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { isSonarCloud } from '../../helpers/system';\n\nconst routes = [\n  {\n    indexRoute: {\n      component: lazyLoad(() =>\n        isSonarCloud() ? import('./onboarding/OnboardingPage') : import('./ProjectOnboardingPage')\n      )\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./UsersAppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/WebApiApp')) }\n  },\n  {\n    path: '**',\n    component: lazyLoad(() => import('./components/WebApiApp'))\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { fetchMyOrganizations } from '../../apps/account/organizations/actions';\nimport { isSonarCloud } from '../../helpers/system';\nimport { isLoggedIn } from '../../helpers/users';\nimport { fetchLanguages } from '../../store/rootActions';\nimport { getAppState, getCurrentUser, getGlobalSettingValue, Store } from '../../store/rootReducer';\n\nconst PageTracker = lazyLoad(() => import('./PageTracker'));\n\ninterface StateProps {\n  appState: T.AppState | undefined;\n  currentUser: T.CurrentUser | undefined;\n  enableGravatar: boolean;\n  gravatarServerUrl: string;\n}\n\ninterface DispatchProps {\n  fetchLanguages: () => Promise<void>;\n  fetchMyOrganizations: () => Promise<void>;\n}\n\ninterface OwnProps {\n  children: JSX.Element;\n}\n\ntype Props = StateProps & DispatchProps & OwnProps;\n\nclass App extends React.PureComponent<Props> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchLanguages();\n    this.setScrollbarWidth();\n    const { appState, currentUser } = this.props;\n    if (appState && isSonarCloud() && currentUser && isLoggedIn(currentUser)) {\n      this.props.fetchMyOrganizations();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  setScrollbarWidth = () => {\n    // See https://stackoverflow.com/questions/13382516/getting-scroll-bar-width-using-javascript\n    const outer = document.createElement('div');\n    outer.style.visibility = 'hidden';\n    outer.style.width = '100px';\n    outer.style.msOverflowStyle = 'scrollbar';\n\n    document.body.appendChild(outer);\n\n    const widthNoScroll = outer.offsetWidth;\n    outer.style.overflow = 'scroll';\n\n    const inner = document.createElement('div');\n    inner.style.width = '100%';\n    outer.appendChild(inner);\n\n    const widthWithScroll = inner.offsetWidth;\n\n    if (outer.parentNode) {\n      outer.parentNode.removeChild(outer);\n    }\n\n    document.body.style.setProperty('--sbw', `${widthNoScroll - widthWithScroll}px`);\n  };\n\n  renderPreconnectLink = () => {\n    const parser = document.createElement('a');\n    parser.href = this.props.gravatarServerUrl;\n    if (parser.hostname !== window.location.hostname) {\n      return <link href={parser.origin} rel=\"preconnect\" />;\n    } else {\n      return null;\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <PageTracker>{this.props.enableGravatar && this.renderPreconnectLink()}</PageTracker>\n        {this.props.children}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => {\n  const enableGravatar = getGlobalSettingValue(state, 'sonar.lf.enableGravatar');\n  const gravatarServerUrl = getGlobalSettingValue(state, 'sonar.lf.gravatarServerUrl');\n  return {\n    appState: getAppState(state),\n    currentUser: getCurrentUser(state),\n    enableGravatar: Boolean(enableGravatar && enableGravatar.value === 'true'),\n    gravatarServerUrl: (gravatarServerUrl && gravatarServerUrl.value) || ''\n  };\n};\n\nconst mapDispatchToProps = ({\n  fetchLanguages,\n  fetchMyOrganizations\n} as any) as DispatchProps;\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { WithRouterProps } from 'react-router';\nimport { getSystemStatus } from '../../helpers/system';\n\nexport default class MigrationContainer extends React.PureComponent<WithRouterProps> {\n  componentDidMount() {\n    if (getSystemStatus() !== 'UP') {\n      this.props.router.push({\n        pathname: '/maintenance',\n        query: {\n          return_to: window.location.pathname + window.location.search + window.location.hash\n        }\n      });\n    }\n  }\n\n  render() {\n    if (getSystemStatus() !== 'UP') {\n      return null;\n    }\n    return this.props.children;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/* eslint-disable react/jsx-sort-props */\nimport { Location } from 'history';\nimport * as React from 'react';\nimport { render } from 'react-dom';\nimport { IntlProvider } from 'react-intl';\nimport { Provider } from 'react-redux';\nimport { IndexRoute, Redirect, Route, RouteConfig, RouteProps, Router } from 'react-router';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { ThemeProvider } from 'sonar-ui-common/components/theme';\nimport getHistory from 'sonar-ui-common/helpers/getHistory';\nimport aboutRoutes from '../../apps/about/routes';\nimport accountRoutes from '../../apps/account/routes';\nimport backgroundTasksRoutes from '../../apps/background-tasks/routes';\nimport codeRoutes from '../../apps/code/routes';\nimport codingRulesRoutes from '../../apps/coding-rules/routes';\nimport componentMeasuresRoutes from '../../apps/component-measures/routes';\nimport customMeasuresRoutes from '../../apps/custom-measures/routes';\nimport customMetricsRoutes from '../../apps/custom-metrics/routes';\nimport documentationRoutes from '../../apps/documentation/routes';\nimport Explore from '../../apps/explore/Explore';\nimport ExploreIssues from '../../apps/explore/ExploreIssues';\nimport ExploreProjects from '../../apps/explore/ExploreProjects';\nimport groupsRoutes from '../../apps/groups/routes';\nimport Issues from '../../apps/issues/components/AppContainer';\nimport IssuesPageSelector from '../../apps/issues/IssuesPageSelector';\nimport { maintenanceRoutes, setupRoutes } from '../../apps/maintenance/routes';\nimport marketplaceRoutes from '../../apps/marketplace/routes';\nimport organizationsRoutes from '../../apps/organizations/routes';\nimport overviewRoutes from '../../apps/overview/routes';\nimport permissionTemplatesRoutes from '../../apps/permission-templates/routes';\nimport { globalPermissionsRoutes, projectPermissionsRoutes } from '../../apps/permissions/routes';\nimport portfolioRoutes from '../../apps/portfolio/routes';\nimport projectActivityRoutes from '../../apps/projectActivity/routes';\nimport projectBaselineRoutes from '../../apps/projectBaseline/routes';\nimport projectBranchesRoutes from '../../apps/projectBranches/routes';\nimport projectQualityGateRoutes from '../../apps/projectQualityGate/routes';\nimport projectQualityProfilesRoutes from '../../apps/projectQualityProfiles/routes';\nimport projectsRoutes from '../../apps/projects/routes';\nimport projectsManagementRoutes from '../../apps/projectsManagement/routes';\nimport qualityGatesRoutes from '../../apps/quality-gates/routes';\nimport qualityProfilesRoutes from '../../apps/quality-profiles/routes';\nimport sessionsRoutes from '../../apps/sessions/routes';\nimport settingsRoutes from '../../apps/settings/routes';\nimport systemRoutes from '../../apps/system/routes';\nimport onboardingRoutes from '../../apps/tutorials/routes';\nimport usersRoutes from '../../apps/users/routes';\nimport webAPIRoutes from '../../apps/web-api/routes';\nimport webhooksRoutes from '../../apps/webhooks/routes';\nimport { isSonarCloud } from '../../helpers/system';\nimport App from '../components/App';\nimport GlobalContainer from '../components/GlobalContainer';\nimport MigrationContainer from '../components/MigrationContainer';\nimport * as theme from '../theme';\nimport getStore from './getStore';\n\nfunction handleUpdate(this: { state: { location: Location } }) {\n  const { action } = this.state.location;\n\n  if (action === 'PUSH') {\n    window.scrollTo(0, 0);\n  }\n}\n\n// this is not an official api\nconst RouteWithChildRoutes = Route as React.ComponentClass<\n  RouteProps & { childRoutes: RouteConfig }\n>;\n\nexport default function startReactApp(\n  lang: string,\n  currentUser?: T.CurrentUser,\n  appState?: T.AppState\n) {\n  const el = document.getElementById('content');\n\n  const history = getHistory();\n  const store = getStore(currentUser, appState);\n\n  render(\n    <Provider store={store}>\n      <IntlProvider defaultLocale={lang} locale={lang}>\n        <ThemeProvider theme={theme}>\n          <Router history={history} onUpdate={handleUpdate}>\n            <Route\n              path=\"/account/issues\"\n              onEnter={(_, replace) => {\n                replace({ pathname: '/issues', query: { myIssues: 'true', resolved: 'false' } });\n              }}\n            />\n\n            <Route\n              path=\"/codingrules\"\n              onEnter={(_, replace) => {\n                replace('/coding_rules' + window.location.hash);\n              }}\n            />\n\n            <Route\n              path=\"/dashboard/index/:key\"\n              onEnter={(nextState, replace) => {\n                replace({ pathname: '/dashboard', query: { id: nextState.params.key } });\n              }}\n            />\n\n            <Route\n              path=\"/issues/search\"\n              onEnter={(_, replace) => {\n                replace('/issues' + window.location.hash);\n              }}\n            />\n\n            <Redirect from=\"/admin\" to=\"/admin/settings\" />\n            <Redirect from=\"/background_tasks\" to=\"/admin/background_tasks\" />\n            <Redirect from=\"/component/index\" to=\"/component\" />\n            <Redirect from=\"/component_issues\" to=\"/project/issues\" />\n            <Redirect from=\"/dashboard/index\" to=\"/dashboard\" />\n            <Redirect\n              from=\"/documentation/analysis/languages/vb\"\n              to=\"/documentation/analysis/languages/vbnet/\"\n            />\n            <Redirect from=\"/governance\" to=\"/portfolio\" />\n            <Redirect from=\"/groups\" to=\"/admin/groups\" />\n            <Redirect from=\"/extension/governance/portfolios\" to=\"/portfolios\" />\n            <Redirect from=\"/metrics\" to=\"/admin/custom_metrics\" />\n            <Redirect from=\"/permission_templates\" to=\"/admin/permission_templates\" />\n            <Redirect from=\"/profiles/index\" to=\"/profiles\" />\n            <Redirect from=\"/projects_admin\" to=\"/admin/projects_management\" />\n            <Redirect from=\"/quality_gates/index\" to=\"/quality_gates\" />\n            <Redirect from=\"/roles/global\" to=\"/admin/permissions\" />\n            <Redirect from=\"/admin/roles/global\" to=\"/admin/permissions\" />\n            <Redirect from=\"/settings\" to=\"/admin/settings\" />\n            <Redirect from=\"/settings/encryption\" to=\"/admin/settings/encryption\" />\n            <Redirect from=\"/settings/index\" to=\"/admin/settings\" />\n            <Redirect from=\"/sessions/login\" to=\"/sessions/new\" />\n            <Redirect from=\"/system\" to=\"/admin/system\" />\n            <Redirect from=\"/system/index\" to=\"/admin/system\" />\n            <Redirect from=\"/view\" to=\"/portfolio\" />\n            <Redirect from=\"/users\" to=\"/admin/users\" />\n\n            <Route\n              path=\"markdown/help\"\n              component={lazyLoad(() => import('../components/MarkdownHelp'))}\n            />\n\n            <Route component={lazyLoad(() => import('../components/SimpleContainer'))}>\n              <Route path=\"maintenance\">{maintenanceRoutes}</Route>\n              <Route path=\"setup\">{setupRoutes}</Route>\n            </Route>\n\n            <Route component={MigrationContainer}>\n              <Route component={lazyLoad(() => import('../components/SimpleSessionsContainer'))}>\n                <RouteWithChildRoutes path=\"/sessions\" childRoutes={sessionsRoutes} />\n              </Route>\n\n              <Route path=\"/\" component={App}>\n                <IndexRoute component={lazyLoad(() => import('../components/Landing'))} />\n                <RouteWithChildRoutes path=\"about\" childRoutes={aboutRoutes} />\n\n                <Route component={GlobalContainer}>\n                  <RouteWithChildRoutes path=\"account\" childRoutes={accountRoutes} />\n                  {!isSonarCloud() && (\n                    <RouteWithChildRoutes path=\"coding_rules\" childRoutes={codingRulesRoutes} />\n                  )}\n                  <RouteWithChildRoutes path=\"documentation\" childRoutes={documentationRoutes} />\n                  <Route path=\"explore\" component={Explore}>\n                    <Route path=\"issues\" component={ExploreIssues} />\n                    <Route path=\"projects\" component={ExploreProjects} />\n                  </Route>\n                  <Route\n                    path=\"extension/:pluginKey/:extensionKey\"\n                    component={lazyLoad(() =>\n                      import('../components/extensions/GlobalPageExtension')\n                    )}\n                  />\n                  <Route path=\"issues\" component={IssuesPageSelector} />\n                  <RouteWithChildRoutes path=\"onboarding\" childRoutes={onboardingRoutes} />\n                  {isSonarCloud() && (\n                    <>\n                      <Route\n                        path=\"create-organization\"\n                        component={lazyLoad(() =>\n                          import('../../apps/create/organization/CreateOrganization')\n                        )}\n                      />\n                      <Route\n                        path=\"feedback/downgrade\"\n                        component={lazyLoad(() =>\n                          import('../../apps/feedback/downgrade/DowngradeFeedback')\n                        )}\n                      />\n                      <Route\n                        path=\"account-deleted\"\n                        component={lazyLoad(() => import('../components/AccountDeleted'))}\n                      />\n                    </>\n                  )}\n                  <RouteWithChildRoutes path=\"organizations\" childRoutes={organizationsRoutes} />\n                  <RouteWithChildRoutes path=\"projects\" childRoutes={projectsRoutes} />\n                  <RouteWithChildRoutes path=\"quality_gates\" childRoutes={qualityGatesRoutes} />\n                  <Route\n                    path=\"portfolios\"\n                    component={lazyLoad(() => import('../components/extensions/PortfoliosPage'))}\n                  />\n                  {!isSonarCloud() && (\n                    <RouteWithChildRoutes path=\"profiles\" childRoutes={qualityProfilesRoutes} />\n                  )}\n                  <RouteWithChildRoutes path=\"web_api\" childRoutes={webAPIRoutes} />\n\n                  <Route component={lazyLoad(() => import('../components/ComponentContainer'))}>\n                    <RouteWithChildRoutes path=\"code\" childRoutes={codeRoutes} />\n                    <RouteWithChildRoutes\n                      path=\"component_measures\"\n                      childRoutes={componentMeasuresRoutes}\n                    />\n                    <RouteWithChildRoutes path=\"dashboard\" childRoutes={overviewRoutes} />\n                    <RouteWithChildRoutes path=\"portfolio\" childRoutes={portfolioRoutes} />\n                    <RouteWithChildRoutes\n                      path=\"project/activity\"\n                      childRoutes={projectActivityRoutes}\n                    />\n                    <Route\n                      path=\"project/extension/:pluginKey/:extensionKey\"\n                      component={lazyLoad(() =>\n                        import('../components/extensions/ProjectPageExtension')\n                      )}\n                    />\n                    <Route path=\"project/issues\" component={Issues} />\n                    <RouteWithChildRoutes\n                      path=\"project/quality_gate\"\n                      childRoutes={projectQualityGateRoutes}\n                    />\n                    <RouteWithChildRoutes\n                      path=\"project/quality_profiles\"\n                      childRoutes={projectQualityProfilesRoutes}\n                    />\n                    <Route\n                      component={lazyLoad(() => import('../components/ProjectAdminContainer'))}>\n                      {!isSonarCloud() && (\n                        <RouteWithChildRoutes\n                          path=\"custom_measures\"\n                          childRoutes={customMeasuresRoutes}\n                        />\n                      )}\n                      <Route\n                        path=\"project/admin/extension/:pluginKey/:extensionKey\"\n                        component={lazyLoad(() =>\n                          import('../components/extensions/ProjectAdminPageExtension')\n                        )}\n                      />\n                      <RouteWithChildRoutes\n                        path=\"project/background_tasks\"\n                        childRoutes={backgroundTasksRoutes}\n                      />\n                      <RouteWithChildRoutes\n                        path=\"project/baseline\"\n                        childRoutes={projectBaselineRoutes}\n                      />\n                      <RouteWithChildRoutes\n                        path=\"project/branches\"\n                        childRoutes={projectBranchesRoutes}\n                      />\n                      <RouteWithChildRoutes path=\"project/settings\" childRoutes={settingsRoutes} />\n                      <RouteWithChildRoutes\n                        path=\"project_roles\"\n                        childRoutes={projectPermissionsRoutes}\n                      />\n                      <RouteWithChildRoutes path=\"project/webhooks\" childRoutes={webhooksRoutes} />\n                      <Route\n                        path=\"project/deletion\"\n                        component={lazyLoad(() => import('../../apps/projectDeletion/App'))}\n                      />\n                      <Route\n                        path=\"project/links\"\n                        component={lazyLoad(() => import('../../apps/projectLinks/App'))}\n                      />\n                      <Route\n                        path=\"project/key\"\n                        component={lazyLoad(() => import('../../apps/projectKey/Key'))}\n                      />\n                    </Route>\n                  </Route>\n\n                  <Route\n                    component={lazyLoad(() => import('../components/AdminContainer'))}\n                    path=\"admin\">\n                    <Route\n                      path=\"extension/:pluginKey/:extensionKey\"\n                      component={lazyLoad(() =>\n                        import('../components/extensions/GlobalAdminPageExtension')\n                      )}\n                    />\n                    <RouteWithChildRoutes\n                      path=\"background_tasks\"\n                      childRoutes={backgroundTasksRoutes}\n                    />\n                    <RouteWithChildRoutes path=\"custom_metrics\" childRoutes={customMetricsRoutes} />\n                    {!isSonarCloud() && (\n                      <>\n                        <RouteWithChildRoutes path=\"groups\" childRoutes={groupsRoutes} />\n                        <RouteWithChildRoutes\n                          path=\"permission_templates\"\n                          childRoutes={permissionTemplatesRoutes}\n                        />\n                        <RouteWithChildRoutes\n                          path=\"permissions\"\n                          childRoutes={globalPermissionsRoutes}\n                        />\n                        <RouteWithChildRoutes\n                          path=\"projects_management\"\n                          childRoutes={projectsManagementRoutes}\n                        />\n                      </>\n                    )}\n                    <RouteWithChildRoutes path=\"settings\" childRoutes={settingsRoutes} />\n                    <RouteWithChildRoutes path=\"system\" childRoutes={systemRoutes} />\n                    <RouteWithChildRoutes path=\"marketplace\" childRoutes={marketplaceRoutes} />\n                    <RouteWithChildRoutes path=\"users\" childRoutes={usersRoutes} />\n                    <RouteWithChildRoutes path=\"webhooks\" childRoutes={webhooksRoutes} />\n                  </Route>\n                </Route>\n                <Route\n                  path=\"not_found\"\n                  component={lazyLoad(() => import('../components/NotFound'))}\n                />\n                <Route path=\"*\" component={lazyLoad(() => import('../components/NotFound'))} />\n              </Route>\n            </Route>\n          </Router>\n        </ThemeProvider>\n      </IntlProvider>\n    </Provider>,\n    el\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { combineReducers } from 'redux';\nimport globalMessages, * as fromGlobalMessages from '../../../store/globalMessages';\nimport definitions, * as fromDefinitions from './definitions';\nimport settingsPage, * as fromSettingsPage from './settingsPage';\nimport values, * as fromValues from './values';\n\ninterface State {\n  definitions: fromDefinitions.State;\n  globalMessages: fromGlobalMessages.State;\n  settingsPage: fromSettingsPage.State;\n  values: fromValues.State;\n}\n\nexport default combineReducers({ definitions, values, settingsPage, globalMessages });\n\nexport function getDefinition(state: State, key: string) {\n  return fromDefinitions.getDefinition(state.definitions, key);\n}\n\nexport function getAllCategories(state: State) {\n  return fromDefinitions.getAllCategories(state.definitions);\n}\n\nexport function getDefaultCategory(state: State) {\n  return fromDefinitions.getDefaultCategory(state.definitions);\n}\n\nexport function getValue(state: State, key: string, component?: string) {\n  return fromValues.getValue(state.values, key, component);\n}\n\nexport function getSettingsForCategory(state: State, category: string, component?: string) {\n  return fromDefinitions.getDefinitionsForCategory(state.definitions, category).map(definition => ({\n    key: definition.key,\n    ...getValue(state, definition.key, component),\n    definition\n  }));\n}\n\nexport function getChangedValue(state: State, key: string) {\n  return fromSettingsPage.getChangedValue(state.settingsPage, key);\n}\n\nexport function isLoading(state: State, key: string) {\n  return fromSettingsPage.isLoading(state.settingsPage, key);\n}\n\nexport function getValidationMessage(state: State, key: string) {\n  return fromSettingsPage.getValidationMessage(state.settingsPage, key);\n}\n\nexport function getGlobalMessages(state: State) {\n  return fromGlobalMessages.getGlobalMessages(state.globalMessages);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { combineReducers } from 'redux';\nimport settingsApp, * as fromSettingsApp from '../apps/settings/store/rootReducer';\nimport appState from './appState';\nimport branches, * as fromBranches from './branches';\nimport globalMessages, * as fromGlobalMessages from './globalMessages';\nimport languages, * as fromLanguages from './languages';\nimport metrics, * as fromMetrics from './metrics';\nimport organizations, * as fromOrganizations from './organizations';\nimport users, * as fromUsers from './users';\n\nexport type Store = {\n  appState: T.AppState;\n  branches: fromBranches.State;\n  globalMessages: fromGlobalMessages.State;\n  languages: T.Languages;\n  metrics: fromMetrics.State;\n  organizations: fromOrganizations.State;\n  users: fromUsers.State;\n\n  // apps\n  settingsApp: any;\n};\n\nexport default combineReducers<Store>({\n  appState,\n  branches,\n  globalMessages,\n  languages,\n  metrics,\n  organizations,\n  users,\n\n  // apps\n  settingsApp\n});\n\nexport function getAppState(state: Store) {\n  return state.appState;\n}\n\nexport function getGlobalMessages(state: Store) {\n  return fromGlobalMessages.getGlobalMessages(state.globalMessages);\n}\n\nexport function getLanguages(state: Store) {\n  return fromLanguages.getLanguages(state.languages);\n}\n\nexport function getCurrentUserSetting(state: Store, key: T.CurrentUserSettingNames) {\n  return fromUsers.getCurrentUserSetting(state.users, key);\n}\n\nexport function getCurrentUser(state: Store) {\n  return fromUsers.getCurrentUser(state.users);\n}\n\nexport function getMetrics(state: Store) {\n  return fromMetrics.getMetrics(state.metrics);\n}\n\nexport function getMetricsKey(state: Store) {\n  return fromMetrics.getMetricsKey(state.metrics);\n}\n\nexport function getMetricByKey(state: Store, key: string) {\n  return fromMetrics.getMetricByKey(state.metrics, key);\n}\n\nexport function getOrganizationByKey(state: Store, key: string) {\n  return fromOrganizations.getOrganizationByKey(state.organizations, key);\n}\n\nexport function getMyOrganizations(state: Store) {\n  return fromOrganizations.getMyOrganizations(state.organizations);\n}\n\nexport function areThereCustomOrganizations(state: Store) {\n  return getAppState(state).organizationsEnabled;\n}\n\nexport function getGlobalSettingValue(state: Store, key: string) {\n  return fromSettingsApp.getValue(state.settingsApp, key);\n}\n\nexport function getSettingsAppDefinition(state: Store, key: string) {\n  return fromSettingsApp.getDefinition(state.settingsApp, key);\n}\n\nexport function getSettingsAppAllCategories(state: Store) {\n  return fromSettingsApp.getAllCategories(state.settingsApp);\n}\n\nexport function getSettingsAppDefaultCategory(state: Store) {\n  return fromSettingsApp.getDefaultCategory(state.settingsApp);\n}\n\nexport function getSettingsAppSettingsForCategory(\n  state: Store,\n  category: string,\n  component?: string\n) {\n  return fromSettingsApp.getSettingsForCategory(state.settingsApp, category, component);\n}\n\nexport function getSettingsAppChangedValue(state: Store, key: string) {\n  return fromSettingsApp.getChangedValue(state.settingsApp, key);\n}\n\nexport function isSettingsAppLoading(state: Store, key: string) {\n  return fromSettingsApp.isLoading(state.settingsApp, key);\n}\n\nexport function getSettingsAppValidationMessage(state: Store, key: string) {\n  return fromSettingsApp.getValidationMessage(state.settingsApp, key);\n}\n\nexport function getBranchStatusByBranchLike(\n  state: Store,\n  component: string,\n  branchLike: T.BranchLike\n) {\n  return fromBranches.getBranchStatusByBranchLike(state.branches, component, branchLike);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getBaseUrl, Location } from 'sonar-ui-common/helpers/urls';\nimport { getProfilePath } from '../apps/quality-profiles/utils';\nimport {\n  getBranchLikeQuery,\n  isLongLivingBranch,\n  isPullRequest,\n  isShortLivingBranch\n} from './branches';\n\ntype Query = Location['query'];\n\nexport function getProjectUrl(project: string, branch?: string): Location {\n  return { pathname: '/dashboard', query: { id: project, branch } };\n}\n\nexport function getPortfolioUrl(key: string): Location {\n  return { pathname: '/portfolio', query: { id: key } };\n}\n\nexport function getPortfolioAdminUrl(key: string, qualifier: string) {\n  return { pathname: '/project/admin/extension/governance/console', query: { id: key, qualifier } };\n}\n\nexport function getComponentBackgroundTaskUrl(componentKey: string, status?: string): Location {\n  return { pathname: '/project/background_tasks', query: { id: componentKey, status } };\n}\n\nexport function getBranchLikeUrl(project: string, branchLike?: T.BranchLike): Location {\n  if (isPullRequest(branchLike)) {\n    return getPullRequestUrl(project, branchLike.key);\n  } else if (isShortLivingBranch(branchLike)) {\n    return getShortLivingBranchUrl(project, branchLike.name);\n  } else if (isLongLivingBranch(branchLike)) {\n    return getLongLivingBranchUrl(project, branchLike.name);\n  } else {\n    return getProjectUrl(project);\n  }\n}\n\nexport function getLongLivingBranchUrl(project: string, branch: string): Location {\n  return { pathname: '/dashboard', query: { branch, id: project } };\n}\n\nexport function getShortLivingBranchUrl(project: string, branch: string): Location {\n  return { pathname: '/dashboard', query: { branch, id: project } };\n}\n\nexport function getPullRequestUrl(project: string, pullRequest: string): Location {\n  return { pathname: '/dashboard', query: { id: project, pullRequest } };\n}\n\n/**\n * Generate URL for a global issues page\n */\nexport function getIssuesUrl(query: Query, organization?: string): Location {\n  const pathname = organization ? `/organizations/${organization}/issues` : '/issues';\n  return { pathname, query };\n}\n\n/**\n * Generate URL for a component's issues page\n */\nexport function getComponentIssuesUrl(componentKey: string, query?: Query): Location {\n  return { pathname: '/project/issues', query: { ...(query || {}), id: componentKey } };\n}\n\n/**\n * Generate URL for a component's drilldown page\n */\nexport function getComponentDrilldownUrl(options: {\n  componentKey: string;\n  metric: string;\n  branchLike?: T.BranchLike;\n  selectionKey?: string;\n  treemapView?: boolean;\n  listView?: boolean;\n}): Location {\n  const { componentKey, metric, branchLike, selectionKey, treemapView, listView } = options;\n  const query: Query = { id: componentKey, metric, ...getBranchLikeQuery(branchLike) };\n  if (treemapView) {\n    query.view = 'treemap';\n  }\n  if (listView) {\n    query.view = 'list';\n  }\n  if (selectionKey) {\n    query.selected = selectionKey;\n  }\n  return { pathname: '/component_measures', query };\n}\n\nexport function getComponentDrilldownUrlWithSelection(\n  componentKey: string,\n  selectionKey: string,\n  metric: string,\n  branchLike?: T.BranchLike\n): Location {\n  return getComponentDrilldownUrl({ componentKey, selectionKey, metric, branchLike });\n}\n\nexport function getMeasureTreemapUrl(componentKey: string, metric: string) {\n  return getComponentDrilldownUrl({ componentKey, metric, treemapView: true });\n}\n\nexport function getActivityUrl(component: string, branchLike?: T.BranchLike) {\n  return {\n    pathname: '/project/activity',\n    query: { id: component, ...getBranchLikeQuery(branchLike) }\n  };\n}\n\n/**\n * Generate URL for a component's measure history\n */\nexport function getMeasureHistoryUrl(component: string, metric: string, branchLike?: T.BranchLike) {\n  return {\n    pathname: '/project/activity',\n    query: {\n      id: component,\n      graph: 'custom',\n      custom_metrics: metric,\n      ...getBranchLikeQuery(branchLike)\n    }\n  };\n}\n\n/**\n * Generate URL for a component's permissions page\n */\nexport function getComponentPermissionsUrl(componentKey: string): Location {\n  return { pathname: '/project_roles', query: { id: componentKey } };\n}\n\n/**\n * Generate URL for a quality profile\n */\nexport function getQualityProfileUrl(\n  name: string,\n  language: string,\n  organization?: string | null\n): Location {\n  return getProfilePath(name, language, organization);\n}\n\nexport function getQualityGateUrl(key: string, organization?: string | null): Location {\n  return {\n    pathname: getQualityGatesUrl(organization).pathname + '/show/' + encodeURIComponent(key)\n  };\n}\n\nexport function getQualityGatesUrl(organization?: string | null): Location {\n  return {\n    pathname:\n      (organization ? '/organizations/' + encodeURIComponent(organization) : '') + '/quality_gates'\n  };\n}\n\n/**\n * Generate URL for the rules page\n */\nexport function getRulesUrl(query: Query, organization: string | null | undefined): Location {\n  const pathname = organization ? `/organizations/${organization}/rules` : '/coding_rules';\n  return { pathname, query };\n}\n\n/**\n * Generate URL for the rules page filtering only active deprecated rules\n */\nexport function getDeprecatedActiveRulesUrl(\n  query: Query = {},\n  organization: string | null | undefined\n): Location {\n  const baseQuery = { activation: 'true', statuses: 'DEPRECATED' };\n  return getRulesUrl({ ...query, ...baseQuery }, organization);\n}\n\nexport function getRuleUrl(rule: string, organization: string | undefined) {\n  return getRulesUrl({ open: rule, rule_key: rule }, organization);\n}\n\nexport function getMarkdownHelpUrl(): string {\n  return getBaseUrl() + '/markdown/help';\n}\n\nexport function getCodeUrl(\n  project: string,\n  branchLike?: T.BranchLike,\n  selected?: string,\n  line?: number\n) {\n  return {\n    pathname: '/code',\n    query: { id: project, ...getBranchLikeQuery(branchLike), selected, line }\n  };\n}\n\nexport function getOrganizationUrl(organization: string) {\n  return `/organizations/${organization}`;\n}\n\nexport function getHomePageUrl(homepage: T.HomePage) {\n  switch (homepage.type) {\n    case 'APPLICATION':\n      return homepage.branch\n        ? getProjectUrl(homepage.component, homepage.branch)\n        : getProjectUrl(homepage.component);\n    case 'PROJECT':\n      return homepage.branch\n        ? getLongLivingBranchUrl(homepage.component, homepage.branch)\n        : getProjectUrl(homepage.component);\n    case 'ORGANIZATION':\n      return getOrganizationUrl(homepage.organization);\n    case 'PORTFOLIO':\n      return getPortfolioUrl(homepage.component);\n    case 'PORTFOLIOS':\n      return '/portfolios';\n    case 'MY_PROJECTS':\n      return '/projects';\n    case 'ISSUES':\n    case 'MY_ISSUES':\n      return { pathname: '/issues', query: { resolved: 'false' } };\n  }\n\n  // should never happen, but just in case...\n  return '/projects';\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { parseError } from 'sonar-ui-common/helpers/request';\nimport { addGlobalErrorMessage } from '../../store/globalMessages';\nimport getStore from './getStore';\n\nexport default function throwGlobalError(param: Response | any): Promise<Response | any> {\n  const store = getStore();\n\n  if (param.response instanceof Response) {\n    /* eslint-disable-next-line no-console */\n    console.warn('DEPRECATED: response should not be wrapped, pass it directly.');\n    param = param.response;\n  }\n\n  if (param instanceof Response) {\n    return parseError(param)\n      .then(\n        message => {\n          store.dispatch(addGlobalErrorMessage(message));\n        },\n        () => {}\n      )\n      .then(() => Promise.reject(param));\n  }\n\n  return Promise.reject(param);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function hasGlobalPermission(user: T.CurrentUser, permission: string): boolean {\n  if (!user.permissions) {\n    return false;\n  }\n  return user.permissions.global.includes(permission);\n}\n\nexport function isLoggedIn(user: T.CurrentUser): user is T.LoggedInUser {\n  return user.isLoggedIn;\n}\n\nexport function isUserActive(user: T.UserBase): user is T.UserActive {\n  return user.active !== false && Boolean(user.name);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\n\nexport function isBranch(branchLike?: T.BranchLike): branchLike is T.Branch {\n  return branchLike !== undefined && (branchLike as T.Branch).isMain !== undefined;\n}\n\nexport function isShortLivingBranch(branchLike?: T.BranchLike): branchLike is T.ShortLivingBranch {\n  return (\n    isBranch(branchLike) &&\n    !branchLike.isMain &&\n    (branchLike as T.ShortLivingBranch).type === 'SHORT'\n  );\n}\n\nexport function isLongLivingBranch(branchLike?: T.BranchLike): branchLike is T.LongLivingBranch {\n  return (\n    isBranch(branchLike) && !branchLike.isMain && (branchLike as T.LongLivingBranch).type === 'LONG'\n  );\n}\n\nexport function isMainBranch(branchLike?: T.BranchLike): branchLike is T.MainBranch {\n  return isBranch(branchLike) && branchLike.isMain;\n}\n\nexport function isPullRequest(branchLike?: T.BranchLike): branchLike is T.PullRequest {\n  return branchLike !== undefined && (branchLike as T.PullRequest).key !== undefined;\n}\n\nexport function getPullRequestDisplayName(pullRequest: T.PullRequest) {\n  return `${pullRequest.key}  ${pullRequest.title}`;\n}\n\nexport function getBranchLikeDisplayName(branchLike: T.BranchLike) {\n  return isPullRequest(branchLike) ? getPullRequestDisplayName(branchLike) : branchLike.name;\n}\n\nexport function getBranchLikeKey(branchLike: T.BranchLike) {\n  return isPullRequest(branchLike) ? `pull-request-${branchLike.key}` : `branch-${branchLike.name}`;\n}\n\nexport function getBranchQualityGateColor(status: string) {\n  let indicatorColor = 'gray';\n  if (status === 'ERROR') {\n    indicatorColor = 'red';\n  } else if (status === 'WARN') {\n    indicatorColor = 'orange';\n  } else if (status === 'OK') {\n    indicatorColor = 'green';\n  }\n  return indicatorColor;\n}\n\nexport function isSameBranchLike(a: T.BranchLike | undefined, b: T.BranchLike | undefined) {\n  // main branches are always equal\n  if (isMainBranch(a) && isMainBranch(b)) {\n    return true;\n  }\n\n  // short- and long-living branches are compared by type and name\n  if (\n    (isLongLivingBranch(a) && isLongLivingBranch(b)) ||\n    (isShortLivingBranch(a) && isShortLivingBranch(b))\n  ) {\n    return a.type === b.type && a.name === b.name;\n  }\n\n  // pull requests are compared by id\n  if (isPullRequest(a) && isPullRequest(b)) {\n    return a.key === b.key;\n  }\n\n  // finally if both parameters are `undefined`, consider them equal\n  return a === b;\n}\n\nexport function sortBranchesAsTree(branchLikes: T.BranchLike[]) {\n  const result: T.BranchLike[] = [];\n\n  const mainBranch = branchLikes.find(isMainBranch);\n  const longLivingBranches = branchLikes.filter(isLongLivingBranch);\n  const shortLivingBranches = branchLikes.filter(isShortLivingBranch);\n  const pullRequests = branchLikes.filter(isPullRequest);\n\n  // main branch is always first\n  if (mainBranch) {\n    result.push(\n      mainBranch,\n      ...getPullRequests(mainBranch.name),\n      ...getNestedShortLivingBranches(mainBranch.name)\n    );\n  }\n\n  // then all long-living branches\n  sortBy(longLivingBranches, 'name').forEach(longLivingBranch => {\n    result.push(\n      longLivingBranch,\n      ...getPullRequests(longLivingBranch.name),\n      ...getNestedShortLivingBranches(longLivingBranch.name)\n    );\n  });\n\n  // finally all orhpan pull requests and branches\n  result.push(\n    ...sortBy(pullRequests.filter(pr => pr.isOrphan), pullRequest => pullRequest.key),\n    ...sortBy(shortLivingBranches.filter(branch => branch.isOrphan), branch => branch.name)\n  );\n\n  return result;\n\n  /** Get all short-living branches (possibly nested) which should be merged to a given branch */\n  function getNestedShortLivingBranches(mergeBranch: string) {\n    const found: T.ShortLivingBranch[] = shortLivingBranches.filter(\n      branch => branch.mergeBranch === mergeBranch\n    );\n\n    let i = 0;\n    while (i < found.length) {\n      const current = found[i];\n      found.push(...shortLivingBranches.filter(branch => branch.mergeBranch === current.name));\n      i++;\n    }\n\n    return sortBy(found, branch => branch.name);\n  }\n\n  function getPullRequests(base: string) {\n    return sortBy(pullRequests.filter(pr => pr.base === base), pullRequest => pullRequest.key);\n  }\n}\n\nexport function getBranchLikeQuery(branchLike?: T.BranchLike): T.BranchParameters {\n  if (isShortLivingBranch(branchLike) || isLongLivingBranch(branchLike)) {\n    return { branch: branchLike.name };\n  } else if (isPullRequest(branchLike)) {\n    return { pullRequest: branchLike.key };\n  } else {\n    return {};\n  }\n}\n\n// Create branch object from branch name or pull request key\nexport function fillBranchLike(\n  branch?: string,\n  pullRequest?: string\n): T.ShortLivingBranch | T.PullRequest | undefined {\n  if (branch) {\n    return {\n      isMain: false,\n      mergeBranch: '',\n      name: branch,\n      type: 'SHORT'\n    } as T.ShortLivingBranch;\n  } else if (pullRequest) {\n    return { base: '', branch: '', key: pullRequest, title: '' } as T.PullRequest;\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n// IMPORTANT: any change in this file requires restart of the dev server\nconst grid = 8;\n\nmodule.exports = {\n  colors: {\n    blue: '#4b9fd5',\n    veryLightBlue: '#f2faff',\n    lightBlue: '#cae3f2',\n    darkBlue: '#236a97',\n    veryDarkBlue: '#0E516F',\n    green: '#00aa00',\n    lineCoverageGreen: '#b4dd78',\n    lightGreen: '#b0d513',\n    veryLightGreen: '#f5f9fc',\n    yellow: '#eabe06',\n    orange: '#ed7d20',\n    red: '#d4333f',\n    lineCoverageRed: '#a4030f',\n    purple: '#9139d4',\n\n    conciseIssueRed: '#d18582',\n    conciseIssueRedSelected: '#a4030f',\n\n    gray94: '#efefef',\n    gray80: '#cdcdcd',\n    gray71: '#b4b4b4',\n    gray67: '#aaa',\n    gray60: '#999',\n    gray40: '#404040',\n\n    transparentWhite: 'rgba(255,255,255,0.62)',\n    transparentGray: 'rgba(200, 200, 200, 0.5)',\n\n    disableGrayText: '#bbb',\n    disableGrayBorder: '#ddd',\n    disableGrayBg: '#ebebeb',\n\n    barBackgroundColor: '#f3f3f3',\n    barBackgroundColorHighlight: '#f8f8f8',\n    barBorderColor: '#e6e6e6',\n\n    baseFontColor: '#444',\n    secondFontColor: '#777',\n\n    leakColor: '#fbf3d5',\n    leakColorHover: '#f0e7c4',\n    leakBorderColor: '#eae3c7',\n\n    globalNavBarBg: '#262626',\n\n    snippetFontColor: '#f0f0f0',\n\n    //issues\n    issueBgColor: '#f2dede',\n    hotspotBgColor: '#eeeff4',\n    issueLocationSelected: '#f4b1b0',\n    issueLocationHighlighted: '#e1e1f2',\n\n    // alerts\n    warningIconColor: '#e2bf41',\n\n    alertBorderError: '#f4b1b0',\n    alertBackgroundError: '#f2dede',\n    alertTextError: '#862422',\n    alertIconError: '#a4030f',\n\n    alertBorderWarning: '#faebcc',\n    alertBackgroundWarning: '#fcf8e3',\n    alertTextWarning: '#6f4f17',\n    alertIconWarning: '#db781a',\n\n    alertBorderSuccess: '#d6e9c6',\n    alertBackgroundSuccess: '#dff0d8',\n    alertTextSuccess: '#215821',\n    alertIconSuccess: '#6d9867',\n\n    alertBorderInfo: '#b1dff3',\n    alertBackgroundInfo: '#d9edf7',\n    alertTextInfo: '#0e516f',\n    alertIconInfo: '#0271b9',\n\n    // sonarcloud\n    sonarcloudOrange500: '#fd6a00',\n    sonarcloudOrange600: '#e26003',\n    sonarcloudOrange700: '#db5700',\n\n    sonarcloudBlack100: '#ffffff',\n    sonarcloudBlack200: '#f9f9fb',\n    sonarcloudBlack250: '#e6e8ea',\n    sonarcloudBlack300: '#cfd3d7',\n    sonarcloudBlack500: '#8a8c8f',\n    sonarcloudBlack700: '#434447',\n    sonarcloudBlack800: '#2d3032',\n    sonarcloudBlack900: '#070706',\n\n    sonarcloudBlue500: '#4c9bd6',\n    sonarcloudBlue600: '#327bb3',\n    sonarcloudBlue900: '#0b3c62',\n\n    sonarcloudBorderGray: 'rgba(207, 211, 215, 0.5)'\n  },\n\n  sizes: {\n    gridSize: `${grid}px`,\n\n    baseFontSize: '13px',\n    verySmallFontSize: '10px',\n    smallFontSize: '12px',\n    mediumFontSize: '14px',\n    bigFontSize: '16px',\n    hugeFontSize: '24px',\n\n    hugeControlHeight: `${5 * grid}px`,\n    largeControlHeight: `${4 * grid}px`,\n    controlHeight: `${3 * grid}px`,\n    smallControlHeight: `${2.5 * grid}px`,\n    tinyControlHeight: `${2 * grid}px`,\n\n    globalNavHeight: `${6 * grid}px`,\n\n    globalNavContentHeight: `${4 * grid}px`,\n\n    maxPageWidth: '1320px',\n    minPageWidth: '1080px',\n    pagePadding: '20px'\n  },\n\n  rawSizes: {\n    grid,\n    globalNavHeightRaw: 6 * grid,\n    globalNavContentHeightRaw: 4 * grid,\n    contextNavHeightRaw: 9 * grid\n  },\n\n  fonts: {\n    baseFontFamily: \"'Helvetica Neue', Helvetica, Arial, sans-serif\",\n    systemFontFamily: \"-apple-system,'BlinkMacSystemFont','Helvetica','Arial',sans-serif\",\n    sonarcloudFontFamily:\n      \"Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\"\n  },\n\n  // z-index\n  // =======\n  //    1 -  100  for page elements (e.g. sidebars, panels)\n  //  101 -  500  for generic page fixed elements (e.g. navigation, workspace)\n  //  501 - 3000  for page ui elements\n  // 3001 - 8000  for generic ui elements (e.g. dropdowns, tooltips)\n  zIndexes: {\n    // common\n    aboveNormalZIndex: '3',\n    normalZIndex: '2',\n    belowNormalZIndex: '1',\n\n    // ui elements\n    pageMainZIndex: '50',\n    pageSideZIndex: '51',\n\n    tooltipZIndex: '8000',\n\n    dropdownMenuZIndex: '7500',\n\n    processContainerZIndex: '7000',\n\n    modalZIndex: '6001',\n    modalOverlayZIndex: '6000',\n\n    popupZIndex: '5000'\n  },\n\n  others: {\n    defaultShadow: '0 6px 12px rgba(0, 0, 0, 0.175)'\n  }\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { withRouter as originalWithRouter, WithRouterProps } from 'react-router';\n\nexport type Location = WithRouterProps['location'];\nexport type Router = WithRouterProps['router'];\n\ninterface InjectedProps {\n  location?: Partial<Location>;\n  router?: Partial<Router>;\n}\n\nexport function withRouter<P extends InjectedProps>(\n  WrappedComponent: React.ComponentType<P & InjectedProps>\n): React.ComponentType<T.Omit<P, keyof InjectedProps>> {\n  return originalWithRouter(WrappedComponent as any);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\n\n/** Return a localized metric name */\nexport function localizeMetric(metricKey: string): string {\n  return translate('metric', metricKey, 'name');\n}\n\n/** Return corresponding \"short\" for better display in UI */\nexport function getShortType(type: string): string {\n  if (type === 'INT') {\n    return 'SHORT_INT';\n  } else if (type === 'WORK_DUR') {\n    return 'SHORT_WORK_DUR';\n  }\n  return type;\n}\n\nexport function enhanceMeasuresWithMetrics(\n  measures: T.Measure[],\n  metrics: T.Metric[]\n): T.MeasureEnhanced[] {\n  return measures\n    .map(measure => {\n      const metric = metrics.find(metric => metric.key === measure.metric);\n      return metric && { ...measure, metric };\n    })\n    .filter(isDefined);\n}\n\n/** Get period value of a measure */\nexport function getPeriodValue(\n  measure: T.Measure | T.MeasureEnhanced,\n  periodIndex: number\n): string | undefined {\n  const { periods } = measure;\n  const period = periods && periods.find(period => period.index === periodIndex);\n  return period ? period.value : undefined;\n}\n\nexport function isPeriodBestValue(\n  measure: T.Measure | T.MeasureEnhanced,\n  periodIndex: number\n): boolean {\n  const { periods } = measure;\n  const period = periods && periods.find(period => period.index === periodIndex);\n  return (period && period.bestValue) || false;\n}\n\n/** Check if metric is differential */\nexport function isDiffMetric(metricKey: string): boolean {\n  return metricKey.indexOf('new_') === 0;\n}\n\nfunction getRatingGrid(): string {\n  // workaround cyclic dependencies\n  const getStore = require('../app/utils/getStore').default;\n  const { getGlobalSettingValue } = require('../store/rootReducer');\n\n  const store = getStore();\n  const settingValue = getGlobalSettingValue(store.getState(), 'sonar.technicalDebt.ratingGrid');\n  return settingValue ? settingValue.value : '';\n}\n\nlet maintainabilityRatingGrid: number[];\n\nfunction getMaintainabilityRatingGrid(): number[] {\n  if (maintainabilityRatingGrid) {\n    return maintainabilityRatingGrid;\n  }\n\n  const str = getRatingGrid();\n  const numbers = str\n    .split(',')\n    .map(s => parseFloat(s))\n    .filter(n => !isNaN(n));\n\n  if (numbers.length === 4) {\n    maintainabilityRatingGrid = numbers;\n  } else {\n    maintainabilityRatingGrid = [0, 0, 0, 0];\n  }\n\n  return maintainabilityRatingGrid;\n}\n\nfunction getMaintainabilityRatingTooltip(rating: number): string {\n  const maintainabilityGrid = getMaintainabilityRatingGrid();\n  const maintainabilityRatingThreshold = maintainabilityGrid[Math.floor(rating) - 2];\n\n  if (rating < 2) {\n    return translateWithParameters(\n      'metric.sqale_rating.tooltip.A',\n      formatMeasure(maintainabilityGrid[0] * 100, 'PERCENT')\n    );\n  }\n\n  const ratingLetter = formatMeasure(rating, 'RATING');\n\n  return translateWithParameters(\n    'metric.sqale_rating.tooltip',\n    ratingLetter,\n    formatMeasure(maintainabilityRatingThreshold * 100, 'PERCENT')\n  );\n}\n\nexport function getRatingTooltip(metricKey: string, value: number | string): string {\n  const ratingLetter = formatMeasure(value, 'RATING');\n\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n\n  return finalMetricKey === 'sqale_rating' || finalMetricKey === 'maintainability_rating'\n    ? getMaintainabilityRatingTooltip(Number(value))\n    : translate('metric', finalMetricKey, 'tooltip', ratingLetter);\n}\n\nexport function getDisplayMetrics(metrics: T.Metric[]) {\n  return metrics.filter(metric => !metric.hidden && !['DATA', 'DISTRIB'].includes(metric.type));\n}\n\nexport function findMeasure(measures: T.Measure[], metric: string) {\n  return measures.find(measure => measure.metric === metric);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\n\ninterface SuggestionsContextShape {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: T.SuggestionLink[];\n}\n\nexport const SuggestionsContext = createContext<SuggestionsContextShape>({\n  addSuggestions: () => {},\n  removeSuggestions: () => {},\n  suggestions: []\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface BaseSearchProjectsParameters {\n  analyzedBefore?: string;\n  onProvisionedOnly?: boolean;\n  organization: string;\n  projects?: string;\n  q?: string;\n  qualifiers?: string;\n  visibility?: T.Visibility;\n}\n\nexport interface ProjectBase {\n  key: string;\n  name: string;\n  qualifier: string;\n  visibility: T.Visibility;\n}\n\nexport interface Project extends ProjectBase {\n  id: string;\n  lastAnalysisDate?: string;\n  organization: string;\n}\n\nexport interface SearchProjectsParameters extends BaseSearchProjectsParameters {\n  p?: number;\n  ps?: number;\n}\n\nexport function getComponents(\n  parameters: SearchProjectsParameters\n): Promise<{\n  components: Project[];\n  paging: T.Paging;\n}> {\n  return getJSON('/api/projects/search', parameters);\n}\n\nexport function bulkDeleteProjects(\n  parameters: BaseSearchProjectsParameters\n): Promise<void | Response> {\n  return post('/api/projects/bulk_delete', parameters).catch(throwGlobalError);\n}\n\nexport function deleteProject(project: string): Promise<void | Response> {\n  return post('/api/projects/delete', { project }).catch(throwGlobalError);\n}\n\nexport function deletePortfolio(portfolio: string): Promise<void | Response> {\n  return post('/api/views/delete', { key: portfolio }).catch(throwGlobalError);\n}\n\nexport function createProject(data: {\n  name: string;\n  project: string;\n  organization?: string;\n  visibility?: T.Visibility;\n}): Promise<{ project: ProjectBase }> {\n  return postJSON('/api/projects/create', data).catch(throwGlobalError);\n}\n\nexport function searchProjectTags(data?: { ps?: number; q?: string }): Promise<any> {\n  return getJSON('/api/project_tags/search', data).catch(throwGlobalError);\n}\n\nexport function setProjectTags(data: { project: string; tags: string }): Promise<void> {\n  return post('/api/project_tags/set', data);\n}\n\nexport function getComponentTree(\n  strategy: string,\n  component: string,\n  metrics: string[] = [],\n  additional: RequestData = {}\n): Promise<{\n  baseComponent: T.ComponentMeasure;\n  components: T.ComponentMeasure[];\n  metrics: T.Metric[];\n  paging: T.Paging;\n}> {\n  const url = '/api/measures/component_tree';\n  const data = { ...additional, component, metricKeys: metrics.join(','), strategy };\n  return getJSON(url, data).catch(throwGlobalError);\n}\n\nexport function getChildren(\n  component: string,\n  metrics: string[] = [],\n  additional: RequestData = {}\n) {\n  return getComponentTree('children', component, metrics, additional);\n}\n\nexport function getComponentLeaves(\n  component: string,\n  metrics: string[] = [],\n  additional: RequestData = {}\n) {\n  return getComponentTree('leaves', component, metrics, additional);\n}\n\nexport function getComponent(\n  data: { component: string; metricKeys: string } & T.BranchParameters\n): Promise<{ component: T.ComponentMeasure }> {\n  return getJSON('/api/measures/component', data);\n}\n\nexport interface TreeComponent extends T.LightComponent {\n  id?: string;\n  name: string;\n  path?: string;\n  refId?: string;\n  refKey?: string;\n  tags?: string[];\n  visibility: T.Visibility;\n}\n\nexport interface TreeComponentWithPath extends TreeComponent {\n  path: string;\n}\n\ntype GetTreeParams = {\n  asc?: boolean;\n  component: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n  s?: string;\n  strategy?: 'all' | 'leaves' | 'children';\n} & T.BranchParameters;\n\nexport function getTree<T = TreeComponent>(\n  data: GetTreeParams & { qualifiers?: string }\n): Promise<{ baseComponent: TreeComponent; components: T[]; paging: T.Paging }> {\n  return getJSON('/api/components/tree', data).catch(throwGlobalError);\n}\n\nexport function getFiles(data: GetTreeParams) {\n  return getTree<TreeComponentWithPath>({ ...data, qualifiers: 'FIL' });\n}\n\nexport function getDirectories(data: GetTreeParams) {\n  return getTree<TreeComponentWithPath>({ ...data, qualifiers: 'DIR' });\n}\n\nexport function getComponentData(data: { component: string } & T.BranchParameters): Promise<any> {\n  return getJSON('/api/components/show', data);\n}\n\nexport function doesComponentExists(\n  data: { component: string } & T.BranchParameters\n): Promise<boolean> {\n  return getComponentData(data).then(({ component }) => component !== undefined, () => false);\n}\n\nexport function getComponentShow(data: { component: string } & T.BranchParameters): Promise<any> {\n  return getComponentData(data).catch(throwGlobalError);\n}\n\nexport function getParents(component: string): Promise<any> {\n  return getComponentShow({ component }).then(r => r.ancestors);\n}\n\nexport function getBreadcrumbs(data: { component: string } & T.BranchParameters): Promise<any> {\n  return getComponentShow(data).then(r => {\n    const reversedAncestors = [...r.ancestors].reverse();\n    return [...reversedAncestors, r.component];\n  });\n}\n\nexport function getMyProjects(data: {\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; projects: T.MyProject[] }> {\n  return getJSON('/api/projects/search_my_projects', data);\n}\n\nexport interface Component {\n  organization: string;\n  id: string;\n  key: string;\n  name: string;\n  isFavorite?: boolean;\n  analysisDate?: string;\n  tags: string[];\n  visibility: T.Visibility;\n  leakPeriodDate?: string;\n}\n\nexport interface Facet {\n  property: string;\n  values: Array<{ val: string; count: number }>;\n}\n\nexport function searchProjects(\n  data: RequestData\n): Promise<{\n  components: Component[];\n  facets: Facet[];\n  organizations: Array<{ key: string; name: string }>;\n  paging: T.Paging;\n}> {\n  const url = '/api/components/search_projects';\n  return getJSON(url, data);\n}\n\nexport function searchComponents(data?: {\n  q?: string;\n  qualifiers?: string;\n  ps?: number;\n}): Promise<any> {\n  return getJSON('/api/components/search', data);\n}\n\nexport function changeKey(data: { from: string; to: string }) {\n  return post('/api/projects/update_key', data).catch(throwGlobalError);\n}\n\nexport interface SuggestionsResponse {\n  organizations: Array<{ key: string; name: string }>;\n  projects: Array<{ key: string; name: string }>;\n  results: Array<{\n    items: Array<{\n      isFavorite: boolean;\n      isRecentlyBrowsed: boolean;\n      key: string;\n      match: string;\n      name: string;\n      organization: string;\n      project: string;\n    }>;\n    more: number;\n    q: string;\n  }>;\n  warning?: string;\n}\n\nexport function getSuggestions(\n  query?: string,\n  recentlyBrowsed?: string[],\n  more?: string\n): Promise<SuggestionsResponse> {\n  const data: RequestData = {};\n  if (query) {\n    data.s = query;\n  }\n  if (recentlyBrowsed) {\n    data.recentlyBrowsed = recentlyBrowsed.join();\n  }\n  if (more) {\n    data.more = more;\n  }\n  return getJSON('/api/components/suggestions', data).catch(throwGlobalError);\n}\n\nexport function getComponentForSourceViewer(\n  data: { component: string } & T.BranchParameters\n): Promise<T.SourceViewerFile> {\n  return getJSON('/api/components/app', data);\n}\n\nexport function getSources(\n  data: { key: string; from?: number; to?: number } & T.BranchParameters\n): Promise<T.SourceLine[]> {\n  return getJSON('/api/sources/lines', data).then(r => r.sources);\n}\n\nexport function getDuplications(\n  data: { key: string } & T.BranchParameters\n): Promise<{ duplications: T.Duplication[]; files: T.Dict<T.DuplicatedFile> }> {\n  return getJSON('/api/duplications/show', data).catch(throwGlobalError);\n}\n\nexport function getTests(\n  data: { sourceFileKey: string; sourceFileLineNumber: number | string } & T.BranchParameters\n): Promise<any> {\n  return getJSON('/api/tests/list', data).then(r => r.tests);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport getCoverageStatus from '../components/SourceViewer/helpers/getCoverageStatus';\nimport { RawIssue } from '../helpers/issues';\n\nexport interface IssueResponse {\n  components?: Array<{ key: string; name: string }>;\n  issue: RawIssue;\n  rules?: Array<{}>;\n  users?: Array<T.UserBase>;\n}\n\ninterface IssuesResponse {\n  components?: { key: string; organization: string; name: string }[];\n  effortTotal: number;\n  facets: Array<{\n    property: string;\n    values: { count: number; val: string }[];\n  }>;\n  issues: RawIssue[];\n  paging: T.Paging;\n  rules?: Array<{}>;\n  users?: Array<T.UserBase>;\n}\n\ntype FacetName =\n  | 'assigned_to_me'\n  | 'assignees'\n  | 'authors'\n  | 'createdAt'\n  | 'cwe'\n  | 'directories'\n  | 'files'\n  | 'languages'\n  | 'modules'\n  | 'owaspTop10'\n  | 'projects'\n  | 'reporters'\n  | 'resolutions'\n  | 'rules'\n  | 'sansTop25'\n  | 'severities'\n  | 'statuses'\n  | 'tags'\n  | 'types';\n\nexport function searchIssues(query: RequestData): Promise<IssuesResponse> {\n  return getJSON('/api/issues/search', query);\n}\n\nexport function getFacets(\n  query: RequestData,\n  facets: FacetName[]\n): Promise<{\n  facets: Array<{ property: string; values: T.FacetValue[] }>;\n  response: IssuesResponse;\n}> {\n  const data = {\n    ...query,\n    facets: facets.join(),\n    ps: 1,\n    additionalFields: '_all'\n  };\n  return searchIssues(data).then(r => {\n    return { facets: r.facets, response: r };\n  });\n}\n\nexport function getFacet(\n  query: RequestData,\n  facet: FacetName\n): Promise<{ facet: { count: number; val: string }[]; response: IssuesResponse }> {\n  return getFacets(query, [facet]).then(r => {\n    return { facet: r.facets[0].values, response: r.response };\n  });\n}\n\nexport function searchIssueTags(data: {\n  organization?: string;\n  project?: string;\n  ps?: number;\n  q?: string;\n}): Promise<string[]> {\n  return getJSON('/api/issues/tags', data)\n    .then(r => r.tags)\n    .catch(throwGlobalError);\n}\n\nexport function getIssueChangelog(issue: string): Promise<{ changelog: T.IssueChangelog[] }> {\n  return getJSON('/api/issues/changelog', { issue }).catch(throwGlobalError);\n}\n\nexport function getIssueFilters() {\n  return getJSON('/api/issue_filters/search').then(r => r.issueFilters);\n}\n\nexport function addIssueComment(data: { issue: string; text: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/add_comment', data);\n}\n\nexport function deleteIssueComment(data: { comment: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/delete_comment', data);\n}\n\nexport function editIssueComment(data: { comment: string; text: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/edit_comment', data);\n}\n\nexport function setIssueAssignee(data: {\n  issue: string;\n  assignee?: string;\n}): Promise<IssueResponse> {\n  return postJSON('/api/issues/assign', data);\n}\n\nexport function setIssueSeverity(data: { issue: string; severity: string }): Promise<any> {\n  return postJSON('/api/issues/set_severity', data);\n}\n\nexport function setIssueTags(data: { issue: string; tags: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/set_tags', data);\n}\n\nexport function setIssueTransition(data: {\n  issue: string;\n  transition: string;\n}): Promise<IssueResponse> {\n  return postJSON('/api/issues/do_transition', data);\n}\n\nexport function setIssueType(data: { issue: string; type: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/set_type', data);\n}\n\nexport function bulkChangeIssues(issueKeys: string[], query: RequestData): Promise<void> {\n  return post('/api/issues/bulk_change', { issues: issueKeys.join(), ...query });\n}\n\nexport function searchIssueAuthors(data: {\n  organization?: string;\n  project?: string;\n  ps?: number;\n  q?: string;\n}): Promise<string[]> {\n  return getJSON('/api/issues/authors', data).then(r => r.authors, throwGlobalError);\n}\n\nexport function getIssueFlowSnippets(issueKey: string): Promise<T.Dict<T.SnippetsByComponent>> {\n  return getJSON('/api/sources/issue_snippets', { issueKey }).then(result => {\n    Object.keys(result).forEach(k => {\n      if (result[k].sources) {\n        result[k].sources = result[k].sources.reduce(\n          (lineMap: T.Dict<T.SourceLine>, line: T.SourceLine) => {\n            line.coverageStatus = getCoverageStatus(line);\n            lineMap[line.line] = line;\n            return lineMap;\n          },\n          {}\n        );\n      }\n    });\n    return result;\n  }, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniqueId } from 'lodash';\nimport { Dispatch } from 'redux';\nimport { requireAuthorization } from './appState';\nimport { ActionType } from './utils/actions';\n\nenum MessageLevel {\n  Error = 'ERROR',\n  Success = 'SUCCESS'\n}\n\ninterface Message {\n  id: string;\n  message: string;\n  level: MessageLevel;\n}\n\nfunction addGlobalMessageActionCreator(id: string, message: string, level: MessageLevel) {\n  return { type: 'ADD_GLOBAL_MESSAGE', message, level, id };\n}\n\nexport function closeGlobalMessage(id: string) {\n  return { type: 'CLOSE_GLOBAL_MESSAGE', id };\n}\n\nexport function closeAllGlobalMessages() {\n  return { type: 'CLOSE_ALL_GLOBAL_MESSAGES' };\n}\n\ntype Action =\n  | ActionType<typeof addGlobalMessageActionCreator, 'ADD_GLOBAL_MESSAGE'>\n  | ActionType<typeof closeGlobalMessage, 'CLOSE_GLOBAL_MESSAGE'>\n  | ActionType<typeof closeAllGlobalMessages, 'CLOSE_ALL_GLOBAL_MESSAGES'>\n  | ActionType<typeof requireAuthorization, 'REQUIRE_AUTHORIZATION'>;\n\nfunction addGlobalMessage(message: string, level: MessageLevel) {\n  return (dispatch: Dispatch) => {\n    const id = uniqueId('global-message-');\n    dispatch(addGlobalMessageActionCreator(id, message, level));\n    setTimeout(() => dispatch(closeGlobalMessage(id)), 5000);\n  };\n}\n\nexport function addGlobalErrorMessage(message: string) {\n  return addGlobalMessage(message, MessageLevel.Error);\n}\n\nexport function addGlobalSuccessMessage(message: string) {\n  return addGlobalMessage(message, MessageLevel.Success);\n}\n\nexport type State = Message[];\n\nexport default function(state: State = [], action: Action): State {\n  switch (action.type) {\n    case 'ADD_GLOBAL_MESSAGE':\n      return [{ id: action.id, message: action.message, level: action.level }];\n\n    case 'REQUIRE_AUTHORIZATION':\n      // FIXME l10n\n      return [\n        {\n          id: uniqueId('global-message-'),\n          message:\n            'You are not authorized to access this page. ' +\n            'Please log in with more privileges and try again.',\n          level: MessageLevel.Error\n        }\n      ];\n\n    case 'CLOSE_GLOBAL_MESSAGE':\n      return state.filter(message => message.id !== action.id);\n\n    case 'CLOSE_ALL_GLOBAL_MESSAGES':\n      return [];\n    default:\n      return state;\n  }\n}\n\nexport function getGlobalMessages(state: State) {\n  return state;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport thunk, { ThunkMiddleware } from 'redux-thunk';\n\ntype RootReducer = typeof import('../rootReducer').default;\ntype State = import('../rootReducer').Store;\n\nconst middlewares = [thunk as ThunkMiddleware<State, any>];\nconst composed = [];\n\nif (process.env.NODE_ENV === 'development') {\n  const { createLogger } = require('redux-logger');\n  middlewares.push(createLogger());\n\n  const { __REDUX_DEVTOOLS_EXTENSION__ } = window as any;\n  composed.push(__REDUX_DEVTOOLS_EXTENSION__ ? __REDUX_DEVTOOLS_EXTENSION__() : (f: Function) => f);\n}\n\nconst finalCreateStore = compose(\n  applyMiddleware(...middlewares),\n  ...composed\n)(createStore);\n\nexport default function configureStore(rootReducer: RootReducer, initialState?: State) {\n  return finalCreateStore(rootReducer, initialState);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Store } from 'redux';\nimport { setAppState } from '../../store/appState';\nimport rootReducer, { Store as State } from '../../store/rootReducer';\nimport { receiveCurrentUser } from '../../store/users';\nimport configureStore from '../../store/utils/configureStore';\n\nlet store: Store<State, any>;\n\nconst createStore = (currentUser?: T.CurrentUser, appState?: T.AppState) => {\n  store = configureStore(rootReducer);\n  if (currentUser) {\n    store.dispatch(receiveCurrentUser(currentUser));\n  }\n  if (appState) {\n    store.dispatch(setAppState(appState));\n  }\n  return store;\n};\n\nexport default (currentUser?: T.CurrentUser, appState?: T.AppState) =>\n  store ? store : createStore(currentUser, appState);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getInstance } from '../../helpers/system';\n\ninterface Props {\n  children?: (transformedMessage: string) => React.ReactChild;\n  message: string;\n}\n\nexport default function InstanceMessage({ children, message }: Props): any {\n  const transformedMessage = message.replace(/\\{instance\\}/gim, getInstance());\n\n  if (children) {\n    return children(transformedMessage);\n  }\n\n  return transformedMessage;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport GenericAvatar from 'sonar-ui-common/components/ui/GenericAvatar';\nimport { getGlobalSettingValue, Store } from '../../store/rootReducer';\n\ninterface Props {\n  className?: string;\n  enableGravatar: boolean;\n  gravatarServerUrl: string;\n  hash?: string;\n  name?: string;\n  size: number;\n}\n\nfunction Avatar(props: Props) {\n  if (!props.enableGravatar || !props.hash) {\n    if (!props.name) {\n      return null;\n    }\n    return <GenericAvatar className={props.className} name={props.name} size={props.size} />;\n  }\n\n  const url = props.gravatarServerUrl\n    .replace('{EMAIL_MD5}', props.hash)\n    .replace('{SIZE}', String(props.size * 2));\n\n  return (\n    <img\n      alt={props.name}\n      className={classNames(props.className, 'rounded')}\n      height={props.size}\n      src={url}\n      width={props.size}\n    />\n  );\n}\n\nconst mapStateToProps = (state: Store) => {\n  const enableGravatar = getGlobalSettingValue(state, 'sonar.lf.enableGravatar');\n  const gravatarServerUrl = getGlobalSettingValue(state, 'sonar.lf.gravatarServerUrl');\n  return {\n    enableGravatar: Boolean(enableGravatar && enableGravatar.value === 'true'),\n    gravatarServerUrl: (gravatarServerUrl && gravatarServerUrl.value) || ''\n  };\n};\n\nexport default connect(mapStateToProps)(Avatar);\n\nexport const unconnectedAvatar = Avatar;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getWrappedDisplayName<P>(\n  WrappedComponent: React.ComponentType<P>,\n  hocName: string\n) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  return `${hocName}(${wrappedDisplayName})`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\n\nexport interface A11yContextShape {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n  links: T.A11ySkipLink[];\n}\n\nexport const A11yContext = createContext<A11yContextShape>({\n  addA11ySkipLink: () => {},\n  removeA11ySkipLink: () => {},\n  links: []\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { request } from 'sonar-ui-common/helpers/request';\n\nexport function login(login: string, password: string): Promise<Response> {\n  return request('/api/authentication/login')\n    .setMethod('POST')\n    .setData({ login, password })\n    .submit()\n    .then(basicCheckStatus);\n}\n\nexport function logout(): Promise<Response> {\n  return request('/api/authentication/logout')\n    .setMethod('POST')\n    .submit()\n    .then(basicCheckStatus);\n}\n\nfunction basicCheckStatus(response: Response): Promise<Response> {\n  if (response.status >= 200 && response.status < 300) {\n    return Promise.resolve(response);\n  } else {\n    return Promise.reject(response);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { InjectedRouter } from 'react-router';\nimport { Dispatch } from 'redux';\nimport * as auth from '../api/auth';\nimport { getLanguages } from '../api/languages';\nimport { getAllMetrics } from '../api/metrics';\nimport { getOrganization, getOrganizationNavigation, getOrganizations } from '../api/organizations';\nimport { getQualityGateProjectStatus } from '../api/quality-gates';\nimport { getBranchLikeQuery } from '../helpers/branches';\nimport { extractStatusConditionsFromProjectStatus } from '../helpers/qualityGates';\nimport { requireAuthorization as requireAuthorizationAction } from './appState';\nimport { registerBranchStatusAction } from './branches';\nimport { addGlobalErrorMessage } from './globalMessages';\nimport { receiveLanguages } from './languages';\nimport { receiveMetrics } from './metrics';\nimport { receiveOrganizations } from './organizations';\n\nexport function fetchLanguages() {\n  return (dispatch: Dispatch) => {\n    getLanguages().then(languages => dispatch(receiveLanguages(languages)), () => {});\n  };\n}\n\nexport function fetchMetrics() {\n  return (dispatch: Dispatch) => {\n    getAllMetrics().then(metrics => dispatch(receiveMetrics(metrics)), () => {});\n  };\n}\n\nexport function fetchOrganizations(organizations: string[]) {\n  return (dispatch: Dispatch) => {\n    getOrganizations({ organizations: organizations && organizations.join() }).then(\n      r => dispatch(receiveOrganizations(r.organizations)),\n      () => {}\n    );\n  };\n}\n\nexport const fetchOrganization = (key: string) => (dispatch: Dispatch) => {\n  return Promise.all([getOrganization(key), getOrganizationNavigation(key)]).then(\n    ([organization, navigation]) => {\n      if (organization) {\n        const organizationWithPermissions = { ...organization, ...navigation };\n        dispatch(receiveOrganizations([organizationWithPermissions]));\n      }\n    }\n  );\n};\n\nexport function fetchBranchStatus(branchLike: T.BranchLike, projectKey: string) {\n  return (dispatch: Dispatch<any>) => {\n    getQualityGateProjectStatus({ projectKey, ...getBranchLikeQuery(branchLike) }).then(\n      projectStatus => {\n        const { ignoredConditions, status } = projectStatus;\n        const conditions = extractStatusConditionsFromProjectStatus(projectStatus);\n        dispatch(\n          registerBranchStatusAction(branchLike, projectKey, status, conditions, ignoredConditions)\n        );\n      },\n      () => {\n        dispatch(addGlobalErrorMessage('Fetching Quality Gate status failed'));\n      }\n    );\n  };\n}\n\nexport function doLogin(login: string, password: string) {\n  return (dispatch: Dispatch<any>) =>\n    auth.login(login, password).then(\n      () => {\n        /* everything is fine */\n      },\n      () => {\n        dispatch(addGlobalErrorMessage('Authentication failed'));\n        return Promise.reject();\n      }\n    );\n}\n\nexport function doLogout() {\n  return (dispatch: Dispatch<any>) =>\n    auth.logout().then(\n      () => {\n        /* everything is fine */\n      },\n      () => {\n        dispatch(addGlobalErrorMessage('Logout failed'));\n        return Promise.reject();\n      }\n    );\n}\n\nexport function requireAuthorization(router: Pick<InjectedRouter, 'replace'>) {\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n  router.replace({ pathname: '/sessions/new', query: { return_to: returnTo } });\n  return requireAuthorizationAction();\n}\n\nexport function registerBranchStatus(\n  branchLike: T.BranchLike,\n  component: string,\n  status: T.Status\n) {\n  return (dispatch: Dispatch) => {\n    dispatch(registerBranchStatusAction(branchLike, component, status));\n  };\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getLanguages(): Promise<T.Language[]> {\n  return getJSON('/api/languages/list').then(r => r.languages, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function extractStatusConditionsFromProjectStatus(\n  projectStatus: T.QualityGateProjectStatus\n): T.QualityGateStatusCondition[] {\n  const { conditions } = projectStatus;\n  return conditions\n    ? conditions.map(c => ({\n        actual: c.actualValue,\n        error: c.errorThreshold,\n        level: c.status,\n        metric: c.metricKey,\n        op: c.comparator,\n        period: c.periodIndex\n      }))\n    : [];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getOrganizations(data: {\n  organizations?: string;\n  member?: boolean;\n}): Promise<{\n  organizations: T.Organization[];\n  paging: T.Paging;\n}> {\n  return getJSON('/api/organizations/search', data).catch(throwGlobalError);\n}\n\nexport function getOrganization(key: string): Promise<T.Organization | undefined> {\n  return getJSON('/api/organizations/search', { organizations: key }).then(\n    r => r.organizations.find((o: T.Organization) => o.key === key),\n    throwGlobalError\n  );\n}\n\ninterface GetOrganizationNavigation {\n  adminPages: T.Extension[];\n  alm?: { key: string; membersSync: boolean; personal: boolean; url: string };\n  canUpdateProjectsVisibilityToPrivate: boolean;\n  isDefault: boolean;\n  pages: T.Extension[];\n}\n\nexport function getOrganizationNavigation(key: string): Promise<GetOrganizationNavigation> {\n  return getJSON('/api/navigation/organization', { organization: key }).then(\n    r => r.organization,\n    throwGlobalError\n  );\n}\n\nexport function getOrganizationsThatPreventDeletion(): Promise<{\n  organizations: T.Organization[];\n}> {\n  return getJSON('/api/organizations/prevent_user_deletion').catch(throwGlobalError);\n}\n\nexport function createOrganization(\n  data: T.OrganizationBase & { installationId?: string }\n): Promise<T.Organization> {\n  return postJSON('/api/organizations/create', data).then(r => r.organization, throwGlobalError);\n}\n\nexport function updateOrganization(key: string, changes: T.OrganizationBase) {\n  return post('/api/organizations/update', { key, ...changes }).catch(throwGlobalError);\n}\n\nexport function deleteOrganization(key: string) {\n  return post('/api/organizations/delete', { key }).catch(throwGlobalError);\n}\n\nexport function searchMembers(data: {\n  organization?: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n  selected?: string;\n}): Promise<{ paging: T.Paging; users: T.OrganizationMember[] }> {\n  return getJSON('/api/organizations/search_members', data).catch(throwGlobalError);\n}\n\nexport function addMember(data: {\n  login: string;\n  organization: string;\n}): Promise<T.OrganizationMember> {\n  return postJSON('/api/organizations/add_member', data).then(r => r.user, throwGlobalError);\n}\n\nexport function removeMember(data: { login: string; organization: string }) {\n  return post('/api/organizations/remove_member', data).catch(throwGlobalError);\n}\n\nexport interface OrganizationBilling {\n  nclocCount: number;\n  subscription: {\n    plan?: {\n      maxNcloc: number;\n      price: number;\n    };\n    nextBillingDate?: string;\n    status: 'active' | 'inactive' | 'suspended';\n    trial: boolean;\n  };\n}\n\nexport function getOrganizationBilling(organization: string): Promise<OrganizationBilling> {\n  return getJSON('/api/billing/show', { organization, p: 1, ps: 1 });\n}\n\nexport function setOrganizationMemberSync(data: { enabled: boolean; organization: string }) {\n  return post('/api/organizations/set_members_sync', data).catch(throwGlobalError);\n}\n\nexport function syncMembers(organization: string) {\n  return post('/api/organizations/sync_members', { organization }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport {\n  cleanQuery,\n  parseAsArray,\n  parseAsBoolean,\n  parseAsDate,\n  parseAsString,\n  queriesEqual,\n  serializeDateShort,\n  serializeString,\n  serializeStringArray\n} from 'sonar-ui-common/helpers/query';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport { get, save } from 'sonar-ui-common/helpers/storage';\nimport { searchMembers } from '../../api/organizations';\nimport { searchUsers } from '../../api/users';\n\nexport interface Query {\n  assigned: boolean;\n  assignees: string[];\n  authors: string[];\n  createdAfter: Date | undefined;\n  createdAt: string;\n  createdBefore: Date | undefined;\n  createdInLast: string;\n  cwe: string[];\n  directories: string[];\n  files: string[];\n  issues: string[];\n  languages: string[];\n  modules: string[];\n  owaspTop10: string[];\n  projects: string[];\n  resolutions: string[];\n  resolved: boolean;\n  rules: string[];\n  sansTop25: string[];\n  severities: string[];\n  sinceLeakPeriod: boolean;\n  sonarsourceSecurity: string[];\n  sort: string;\n  statuses: string[];\n  tags: string[];\n  types: string[];\n}\n\nexport const STANDARDS = 'standards';\nexport const STANDARD_TYPES: T.StandardType[] = [\n  'owaspTop10',\n  'sansTop25',\n  'cwe',\n  'sonarsourceSecurity'\n];\n\n// allow sorting by CREATION_DATE only\nconst parseAsSort = (sort: string) => (sort === 'CREATION_DATE' ? 'CREATION_DATE' : '');\nconst ISSUES_DEFAULT = 'sonarqube.issues.default';\n\nexport function parseQuery(query: T.RawQuery): Query {\n  return {\n    assigned: parseAsBoolean(query.assigned),\n    assignees: parseAsArray(query.assignees, parseAsString),\n    authors: parseAsArray(query.authors, parseAsString),\n    createdAfter: parseAsDate(query.createdAfter),\n    createdAt: parseAsString(query.createdAt),\n    createdBefore: parseAsDate(query.createdBefore),\n    createdInLast: parseAsString(query.createdInLast),\n    cwe: parseAsArray(query.cwe, parseAsString),\n    directories: parseAsArray(query.directories, parseAsString),\n    files: parseAsArray(query.fileUuids, parseAsString),\n    issues: parseAsArray(query.issues, parseAsString),\n    languages: parseAsArray(query.languages, parseAsString),\n    modules: parseAsArray(query.moduleUuids, parseAsString),\n    owaspTop10: parseAsArray(query.owaspTop10, parseAsString),\n    projects: parseAsArray(query.projects, parseAsString),\n    resolutions: parseAsArray(query.resolutions, parseAsString),\n    resolved: parseAsBoolean(query.resolved),\n    rules: parseAsArray(query.rules, parseAsString),\n    sansTop25: parseAsArray(query.sansTop25, parseAsString),\n    severities: parseAsArray(query.severities, parseAsString),\n    sinceLeakPeriod: parseAsBoolean(query.sinceLeakPeriod, false),\n    sonarsourceSecurity: parseAsArray(query.sonarsourceSecurity, parseAsString),\n    sort: parseAsSort(query.s),\n    statuses: parseAsArray(query.statuses, parseAsString),\n    tags: parseAsArray(query.tags, parseAsString),\n    types: parseAsArray(query.types, parseAsString)\n  };\n}\n\nexport function getOpen(query: T.RawQuery): string | undefined {\n  return query.open;\n}\n\nexport const areMyIssuesSelected = (query: T.RawQuery) => query.myIssues === 'true';\n\nexport function serializeQuery(query: Query): T.RawQuery {\n  const filter = {\n    assigned: query.assigned ? undefined : 'false',\n    assignees: serializeStringArray(query.assignees),\n    authors: serializeStringArray(query.authors),\n    createdAfter: serializeDateShort(query.createdAfter),\n    createdAt: serializeString(query.createdAt),\n    createdBefore: serializeDateShort(query.createdBefore),\n    createdInLast: serializeString(query.createdInLast),\n    cwe: serializeStringArray(query.cwe),\n    directories: serializeStringArray(query.directories),\n    fileUuids: serializeStringArray(query.files),\n    issues: serializeStringArray(query.issues),\n    languages: serializeStringArray(query.languages),\n    moduleUuids: serializeStringArray(query.modules),\n    owaspTop10: serializeStringArray(query.owaspTop10),\n    projects: serializeStringArray(query.projects),\n    resolutions: serializeStringArray(query.resolutions),\n    resolved: query.resolved ? undefined : 'false',\n    rules: serializeStringArray(query.rules),\n    s: serializeString(query.sort),\n    sansTop25: serializeStringArray(query.sansTop25),\n    severities: serializeStringArray(query.severities),\n    sinceLeakPeriod: query.sinceLeakPeriod ? 'true' : undefined,\n    sonarsourceSecurity: serializeStringArray(query.sonarsourceSecurity),\n    statuses: serializeStringArray(query.statuses),\n    tags: serializeStringArray(query.tags),\n    types: serializeStringArray(query.types)\n  };\n  return cleanQuery(filter);\n}\n\nexport const areQueriesEqual = (a: T.RawQuery, b: T.RawQuery) =>\n  queriesEqual(parseQuery(a), parseQuery(b));\n\nexport interface RawFacet {\n  property: string;\n  values: Array<{ val: string; count: number }>;\n}\n\nexport interface Facet {\n  [value: string]: number;\n}\n\nexport function mapFacet(facet: string) {\n  const propertyMapping: T.Dict<string> = {\n    files: 'fileUuids',\n    modules: 'moduleUuids'\n  };\n  return propertyMapping[facet] || facet;\n}\n\nexport function parseFacets(facets: RawFacet[]): T.Dict<Facet> {\n  if (!facets) {\n    return {};\n  }\n\n  // for readability purpose\n  const propertyMapping: T.Dict<string> = {\n    fileUuids: 'files',\n    moduleUuids: 'modules'\n  };\n\n  const result: T.Dict<Facet> = {};\n  facets.forEach(facet => {\n    const values: Facet = {};\n    facet.values.forEach(value => {\n      values[value.val] = value.count;\n    });\n    const finalProperty = propertyMapping[facet.property] || facet.property;\n    result[finalProperty] = values;\n  });\n  return result;\n}\n\nexport function formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n\nexport interface ReferencedComponent {\n  key: string;\n  name: string;\n  organization: string;\n  path?: string;\n  uuid: string;\n}\n\nexport interface ReferencedLanguage {\n  name: string;\n}\n\nexport interface ReferencedRule {\n  langName?: string;\n  name: string;\n}\n\nexport const searchAssignees = (\n  query: string,\n  organization: string | undefined,\n  page = 1\n): Promise<{ paging: T.Paging; results: T.UserBase[] }> => {\n  return organization\n    ? searchMembers({ organization, p: page, ps: 50, q: query }).then(({ paging, users }) => ({\n        paging,\n        results: users\n      }))\n    : searchUsers({ p: page, q: query }).then(({ paging, users }) => ({ paging, results: users }));\n};\n\nconst LOCALSTORAGE_MY = 'my';\nconst LOCALSTORAGE_ALL = 'all';\n\nexport const isMySet = () => {\n  return get(ISSUES_DEFAULT) === LOCALSTORAGE_MY;\n};\n\nexport const saveMyIssues = (myIssues: boolean) =>\n  save(ISSUES_DEFAULT, myIssues ? LOCALSTORAGE_MY : LOCALSTORAGE_ALL);\n\nexport function getLocations(\n  { flows, secondaryLocations }: Pick<T.Issue, 'flows' | 'secondaryLocations'>,\n  selectedFlowIndex: number | undefined\n) {\n  if (selectedFlowIndex !== undefined) {\n    return flows[selectedFlowIndex] || [];\n  } else {\n    return flows.length > 0 ? flows[0] : secondaryLocations;\n  }\n}\n\nexport function getSelectedLocation(\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>,\n  selectedFlowIndex: number | undefined,\n  selectedLocationIndex: number | undefined\n) {\n  const locations = getLocations(issue, selectedFlowIndex);\n  if (\n    selectedLocationIndex !== undefined &&\n    selectedLocationIndex >= 0 &&\n    locations.length >= selectedLocationIndex\n  ) {\n    return locations[selectedLocationIndex];\n  } else {\n    return undefined;\n  }\n}\n\nexport function allLocationsEmpty(\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>,\n  selectedFlowIndex: number | undefined\n) {\n  return getLocations(issue, selectedFlowIndex).every(location => !location.msg);\n}\n\nexport function scrollToIssue(issue: string, smooth = true) {\n  const element = document.querySelector(`[data-issue=\"${issue}\"]`);\n  if (element) {\n    scrollToElement(element, { topOffset: 250, bottomOffset: 100, smooth });\n  }\n}\n\nexport function shouldOpenSeverityFacet(openFacets: T.Dict<boolean>, query: Partial<Query>) {\n  return (\n    openFacets.severities ||\n    !(query.types && query.types.length === 1 && query.types[0] === 'SECURITY_HOTSPOT')\n  );\n}\n\nexport function shouldOpenStandardsFacet(\n  openFacets: T.Dict<boolean>,\n  query: Partial<Query>\n): boolean {\n  return (\n    openFacets[STANDARDS] ||\n    isFilteredBySecurityIssueTypes(query) ||\n    isOneStandardChildFacetOpen(openFacets, query)\n  );\n}\n\nexport function shouldOpenStandardsChildFacet(\n  openFacets: T.Dict<boolean>,\n  query: Partial<Query>,\n  standardType: T.StandardType\n): boolean {\n  const filter = query[standardType];\n  return (\n    openFacets[STANDARDS] !== false &&\n    (openFacets[standardType] ||\n      (standardType !== 'cwe' && filter !== undefined && filter.length > 0))\n  );\n}\n\nexport function shouldOpenSonarSourceSecurityFacet(\n  openFacets: T.Dict<boolean>,\n  query: Partial<Query>\n): boolean {\n  // Open it by default if the parent is open, and no other standard is open.\n  return (\n    shouldOpenStandardsChildFacet(openFacets, query, 'sonarsourceSecurity') ||\n    (shouldOpenStandardsFacet(openFacets, query) && !isOneStandardChildFacetOpen(openFacets, query))\n  );\n}\n\nfunction isFilteredBySecurityIssueTypes(query: Partial<Query>): boolean {\n  return (\n    query.types !== undefined &&\n    (query.types.includes('SECURITY_HOTSPOT') || query.types.includes('VULNERABILITY'))\n  );\n}\n\nfunction isOneStandardChildFacetOpen(openFacets: T.Dict<boolean>, query: Partial<Query>): boolean {\n  return STANDARD_TYPES.some(standardType =>\n    shouldOpenStandardsChildFacet(openFacets, query, standardType)\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getCurrentUser(): Promise<T.CurrentUser> {\n  return getJSON('/api/users/current');\n}\n\nexport function changePassword(data: {\n  login: string;\n  password: string;\n  previousPassword?: string;\n}) {\n  return post('/api/users/change_password', data).catch(throwGlobalError);\n}\n\nexport interface UserGroup {\n  default: boolean;\n  description: string;\n  id: number;\n  name: string;\n  selected: boolean;\n}\n\nexport function getUserGroups(data: {\n  login: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n  selected?: string;\n}): Promise<{ paging: T.Paging; groups: UserGroup[] }> {\n  return getJSON('/api/users/groups', data);\n}\n\nexport function getIdentityProviders(): Promise<{ identityProviders: T.IdentityProvider[] }> {\n  return getJSON('/api/users/identity_providers').catch(throwGlobalError);\n}\n\nexport function searchUsers(data: {\n  p?: number;\n  ps?: number;\n  q?: string;\n}): Promise<{ paging: T.Paging; users: T.User[] }> {\n  data.q = data.q || undefined;\n  return getJSON('/api/users/search', data).catch(throwGlobalError);\n}\n\nexport function createUser(data: {\n  email?: string;\n  local?: boolean;\n  login: string;\n  name: string;\n  password?: string;\n  scmAccount: string[];\n}): Promise<void | Response> {\n  return post('/api/users/create', data);\n}\n\nexport function updateUser(data: {\n  email?: string;\n  login: string;\n  name?: string;\n  scmAccount: string[];\n}): Promise<T.User> {\n  return postJSON('/api/users/update', {\n    ...data,\n    scmAccount: data.scmAccount.length > 0 ? data.scmAccount : ''\n  });\n}\n\nexport function deactivateUser(data: { login: string }): Promise<T.User> {\n  return postJSON('/api/users/deactivate', data).catch(throwGlobalError);\n}\n\nexport function skipOnboarding(): Promise<void | Response> {\n  return post('/api/users/skip_onboarding_tutorial').catch(throwGlobalError);\n}\n\nexport function setHomePage(homepage: T.HomePage): Promise<void | Response> {\n  return post('/api/users/set_homepage', homepage).catch(throwGlobalError);\n}\n\nexport function setUserSetting(setting: T.CurrentUserSetting): Promise<void | Response> {\n  return post('/api/users/set_setting', setting).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getCurrentUser, Store } from '../../store/rootReducer';\nimport { getWrappedDisplayName } from './utils';\n\nexport function withCurrentUser<P>(\n  WrappedComponent: React.ComponentType<P & { currentUser: T.CurrentUser }>\n) {\n  class Wrapper extends React.Component<P & { currentUser: T.CurrentUser }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withCurrentUser');\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { currentUser: getCurrentUser(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport { combineReducers, Dispatch } from 'redux';\nimport * as api from '../api/users';\nimport { isLoggedIn } from '../helpers/users';\nimport { ActionType } from './utils/actions';\n\nconst enum Actions {\n  ReceiveCurrentUser = 'RECEIVE_CURRENT_USER',\n  SetCurrentUserSetting = 'SET_CURRENT_USER_SETTING',\n  SkipOnboardingAction = 'SKIP_ONBOARDING',\n  SetHomePageAction = 'SET_HOMEPAGE'\n}\n\ntype Action =\n  | ActionType<typeof receiveCurrentUser, Actions.ReceiveCurrentUser>\n  | ActionType<typeof setCurrentUserSettingAction, Actions.SetCurrentUserSetting>\n  | ActionType<typeof setHomePageAction, Actions.SetHomePageAction>\n  | ActionType<typeof skipOnboardingAction, Actions.SkipOnboardingAction>;\n\nexport interface State {\n  usersByLogin: T.Dict<any>;\n  userLogins: string[];\n  currentUser: T.CurrentUser;\n}\n\nexport function receiveCurrentUser(user: T.CurrentUser) {\n  return { type: Actions.ReceiveCurrentUser, user };\n}\n\nfunction skipOnboardingAction() {\n  return { type: Actions.SkipOnboardingAction };\n}\n\nexport function skipOnboarding() {\n  return (dispatch: Dispatch) =>\n    api\n      .skipOnboarding()\n      .then(() => dispatch(skipOnboardingAction()), () => dispatch(skipOnboardingAction()));\n}\n\nfunction setHomePageAction(homepage: T.HomePage) {\n  return { type: Actions.SetHomePageAction, homepage };\n}\n\nfunction setCurrentUserSettingAction(setting: T.CurrentUserSetting) {\n  return { type: Actions.SetCurrentUserSetting, setting };\n}\n\nexport function setHomePage(homepage: T.HomePage) {\n  return (dispatch: Dispatch) => {\n    api.setHomePage(homepage).then(\n      () => {\n        dispatch(setHomePageAction(homepage));\n      },\n      () => {}\n    );\n  };\n}\n\nexport function setCurrentUserSetting(setting: T.CurrentUserSetting) {\n  return (dispatch: Dispatch, getState: () => { users: State }) => {\n    const oldSetting = getCurrentUserSetting(getState().users, setting.key);\n    dispatch(setCurrentUserSettingAction(setting));\n    api.setUserSetting(setting).then(\n      () => {},\n      () => {\n        dispatch(setCurrentUserSettingAction({ ...setting, value: oldSetting || '' }));\n      }\n    );\n  };\n}\n\nfunction usersByLogin(state: State['usersByLogin'] = {}, action: Action): State['usersByLogin'] {\n  if (action.type === Actions.ReceiveCurrentUser && isLoggedIn(action.user)) {\n    return { ...state, [action.user.login]: action.user };\n  } else {\n    return state;\n  }\n}\n\nfunction userLogins(state: State['userLogins'] = [], action: Action): State['userLogins'] {\n  if (action.type === Actions.ReceiveCurrentUser && isLoggedIn(action.user)) {\n    return uniq([...state, action.user.login]);\n  } else {\n    return state;\n  }\n}\n\nfunction currentUser(\n  state: State['currentUser'] = { isLoggedIn: false },\n  action: Action\n): State['currentUser'] {\n  if (action.type === Actions.ReceiveCurrentUser) {\n    return action.user;\n  }\n  if (action.type === Actions.SkipOnboardingAction && isLoggedIn(state)) {\n    return { ...state, showOnboardingTutorial: false } as T.LoggedInUser;\n  }\n  if (action.type === Actions.SetHomePageAction && isLoggedIn(state)) {\n    return { ...state, homepage: action.homepage } as T.LoggedInUser;\n  }\n  if (action.type === Actions.SetCurrentUserSetting && isLoggedIn(state)) {\n    let settings: T.CurrentUserSetting[];\n    if (state.settings) {\n      settings = [...state.settings];\n      const index = settings.findIndex(setting => setting.key === action.setting.key);\n      if (index === -1) {\n        settings.push(action.setting);\n      } else {\n        settings[index] = action.setting;\n      }\n    } else {\n      settings = [action.setting];\n    }\n    return { ...state, settings } as T.LoggedInUser;\n  }\n  return state;\n}\n\nexport default combineReducers({ usersByLogin, userLogins, currentUser });\n\nexport function getCurrentUser(state: State) {\n  return state.currentUser;\n}\n\nexport function getCurrentUserSetting(state: State, key: T.CurrentUserSettingNames) {\n  let setting;\n  if (isLoggedIn(state.currentUser) && state.currentUser.settings) {\n    setting = state.currentUser.settings.find(setting => setting.key === key);\n  }\n  return setting && setting.value;\n}\n\nexport function getUserByLogin(state: State, login: string) {\n  return state.usersByLogin[login];\n}\n\nexport function getUsersByLogins(state: State, logins: string[]) {\n  return logins.map(login => getUserByLogin(state, login));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { colors } from '../app/theme';\n\nexport const SEVERITIES = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\nexport const STATUSES = ['OPEN', 'REOPENED', 'CONFIRMED', 'RESOLVED', 'CLOSED'];\nexport const ISSUE_TYPES: T.IssueType[] = [\n  'BUG',\n  'VULNERABILITY',\n  'CODE_SMELL',\n  'SECURITY_HOTSPOT'\n];\nexport const RULE_TYPES: T.RuleType[] = ['BUG', 'VULNERABILITY', 'CODE_SMELL', 'SECURITY_HOTSPOT'];\nexport const RULE_STATUSES = ['READY', 'BETA', 'DEPRECATED'];\n\nexport const CHART_COLORS_RANGE_PERCENT = [\n  colors.green,\n  colors.lightGreen,\n  colors.yellow,\n  colors.orange,\n  colors.red\n];\n\nexport const CHART_REVERSED_COLORS_RANGE_PERCENT = [\n  colors.red,\n  colors.orange,\n  colors.yellow,\n  colors.lightGreen,\n  colors.green\n];\n\nexport const RATING_COLORS = [\n  colors.green,\n  colors.lightGreen,\n  colors.yellow,\n  colors.orange,\n  colors.red\n];\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as differenceInYears from 'date-fns/difference_in_years';\nimport { sortBy } from 'lodash';\nimport { isValidDate, parseDate } from 'sonar-ui-common/helpers/dates';\nimport { Profile as BaseProfile } from '../../api/quality-profiles';\nimport { Profile } from './types';\n\nexport function sortProfiles(profiles: BaseProfile[]): Profile[] {\n  const result: Profile[] = [];\n  const sorted = sortBy(profiles, 'name');\n\n  function retrieveChildren(parent: BaseProfile | null) {\n    return sorted.filter(\n      p => (parent == null && p.parentKey == null) || (parent != null && p.parentKey === parent.key)\n    );\n  }\n\n  function putProfile(profile: BaseProfile | null = null, depth: number = 1) {\n    const children = retrieveChildren(profile);\n\n    if (profile != null) {\n      result.push({ ...profile, childrenCount: children.length, depth });\n    }\n\n    children.forEach(child => putProfile(child, depth + 1));\n  }\n\n  sorted\n    .filter(\n      profile => profile.parentKey == null || sorted.find(p => p.key === profile.parentKey) == null\n    )\n    .forEach(profile => putProfile(profile));\n\n  return result;\n}\n\nexport function isStagnant(profile: Profile): boolean {\n  if (profile.rulesUpdatedAt) {\n    const updateDate = parseDate(profile.rulesUpdatedAt);\n    if (isValidDate(updateDate)) {\n      return differenceInYears(new Date(), updateDate) >= 1;\n    }\n  }\n  return false;\n}\n\nexport const getProfilesPath = (organization: string | null | undefined) =>\n  organization ? `/organizations/${organization}/quality_profiles` : '/profiles';\n\nexport const getProfilesForLanguagePath = (\n  language: string,\n  organization: string | null | undefined\n) => ({\n  pathname: getProfilesPath(organization),\n  query: { language }\n});\n\nexport const getProfilePath = (\n  name: string,\n  language: string,\n  organization: string | null | undefined\n) => ({\n  pathname: getProfilesPath(organization) + '/show',\n  query: { name, language }\n});\n\nexport const getProfileComparePath = (\n  name: string,\n  language: string,\n  organization: string | null | undefined,\n  withKey?: string\n) => {\n  const query = { language, name };\n  if (withKey) {\n    Object.assign(query, { withKey });\n  }\n  return {\n    pathname: getProfilesPath(organization) + '/compare',\n    query\n  };\n};\n\nexport const getProfileChangelogPath = (\n  name: string,\n  language: string,\n  organization: string | null | undefined,\n  filter?: { since?: string; to?: string }\n) => {\n  const query = { language, name };\n  if (filter) {\n    if (filter.since) {\n      Object.assign(query, { since: filter.since });\n    }\n    if (filter.to) {\n      Object.assign(query, { to: filter.to });\n    }\n  }\n  return {\n    pathname: getProfilesPath(organization) + '/changelog',\n    query\n  };\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sanitize } from 'dompurify';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\n\nexport const DEFAULT_CATEGORY = 'general';\n\nexport type DefaultSpecializedInputProps = T.Omit<DefaultInputProps, 'setting'> & {\n  isDefault: boolean;\n  name: string;\n};\n\nexport interface DefaultInputProps {\n  hasValueChanged?: boolean;\n  onCancel?: () => void;\n  onChange: (value: any) => void;\n  onSave?: () => void;\n  setting: T.Setting;\n  value: any;\n}\n\nexport function sanitizeTranslation(html: string) {\n  return sanitize(html, {\n    ALLOWED_TAGS: ['b', 'br', 'code', 'i', 'li', 'p', 'strong', 'ul']\n  });\n}\n\nexport function getPropertyName(definition: T.SettingDefinition) {\n  const key = `property.${definition.key}.name`;\n  return hasMessage(key) ? translate(key) : definition.name;\n}\n\nexport function getPropertyDescription(definition: T.SettingDefinition) {\n  const key = `property.${definition.key}.description`;\n  return hasMessage(key) ? translate(key) : definition.description;\n}\n\nexport function getCategoryName(category: string) {\n  const key = `property.category.${category}`;\n  return hasMessage(key) ? translate(key) : category;\n}\n\nexport function getSubCategoryName(category: string, subCategory: string) {\n  const key = `property.category.${category}.${subCategory}`;\n  return hasMessage(key) ? translate(key) : getCategoryName(subCategory);\n}\n\nexport function getSubCategoryDescription(category: string, subCategory: string) {\n  const key = `property.category.${category}.${subCategory}.description`;\n  return hasMessage(key) ? translate(key) : null;\n}\n\nexport function getUniqueName(definition: T.SettingDefinition, index?: string) {\n  const indexSuffix = index ? `[${index}]` : '';\n  return `settings[${definition.key}]${indexSuffix}`;\n}\n\nexport function getSettingValue({ definition, fieldValues, value, values }: T.Setting) {\n  if (isCategoryDefinition(definition) && definition.multiValues) {\n    return values;\n  } else if (definition.type === 'PROPERTY_SET') {\n    return fieldValues;\n  } else {\n    return value;\n  }\n}\n\nexport function isEmptyValue(definition: T.SettingDefinition, value: any) {\n  if (value == null) {\n    return true;\n  } else if (definition.type === 'BOOLEAN') {\n    return false;\n  } else {\n    return value.length === 0;\n  }\n}\n\nexport function isCategoryDefinition(\n  item: T.SettingDefinition\n): item is T.SettingCategoryDefinition {\n  return Boolean((item as any).fields);\n}\n\nexport function getEmptyValue(item: T.SettingDefinition | T.SettingCategoryDefinition): any {\n  if (isCategoryDefinition(item)) {\n    if (item.multiValues) {\n      return [getEmptyValue({ ...item, multiValues: false })];\n    }\n\n    if (item.type === 'PROPERTY_SET') {\n      const value: T.Dict<string> = {};\n      item.fields.forEach(field => (value[field.key] = getEmptyValue(field)));\n      return [value];\n    }\n  }\n\n  if (item.type === 'BOOLEAN' || item.type === 'SINGLE_SELECT_LIST') {\n    return null;\n  }\n  return '';\n}\n\nexport function isDefaultOrInherited(setting: T.Setting) {\n  return Boolean(setting.inherited);\n}\n\nexport function getDefaultValue(setting: T.Setting) {\n  const { definition, parentFieldValues, parentValue, parentValues } = setting;\n\n  if (definition.type === 'PASSWORD') {\n    return translate('settings.default.password');\n  }\n\n  if (definition.type === 'BOOLEAN' && parentValue) {\n    const isTrue = parentValue === 'true';\n    return isTrue ? translate('settings.boolean.true') : translate('settings.boolean.false');\n  }\n\n  if (\n    isCategoryDefinition(definition) &&\n    definition.multiValues &&\n    parentValues &&\n    parentValues.length > 0\n  ) {\n    return parentValues.join(', ');\n  }\n\n  if (definition.type === 'PROPERTY_SET' && parentFieldValues && parentFieldValues.length > 0) {\n    return translate('settings.default.complex_value');\n  }\n\n  if (parentValue == null) {\n    return isCategoryDefinition(definition) && definition.defaultValue\n      ? definition.defaultValue\n      : translate('settings.default.no_value');\n  }\n\n  return parentValue;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function fetchQualityGates(data: {\n  organization?: string;\n}): Promise<{\n  actions: { create: boolean };\n  qualitygates: T.QualityGate[];\n}> {\n  return getJSON('/api/qualitygates/list', data).catch(throwGlobalError);\n}\n\nexport function fetchQualityGate(data: {\n  id: number | string;\n  organization?: string;\n}): Promise<T.QualityGate> {\n  return getJSON('/api/qualitygates/show', data).catch(throwGlobalError);\n}\n\nexport function createQualityGate(data: {\n  name: string;\n  organization?: string;\n}): Promise<T.QualityGate> {\n  return postJSON('/api/qualitygates/create', data).catch(throwGlobalError);\n}\n\nexport function deleteQualityGate(data: {\n  id: number;\n  organization?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/destroy', data).catch(throwGlobalError);\n}\n\nexport function renameQualityGate(data: {\n  id: number;\n  name: string;\n  organization?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/rename', data).catch(throwGlobalError);\n}\n\nexport function copyQualityGate(data: {\n  id: number;\n  name: string;\n  organization?: string;\n}): Promise<T.QualityGate> {\n  return postJSON('/api/qualitygates/copy', data).catch(throwGlobalError);\n}\n\nexport function setQualityGateAsDefault(data: {\n  id: number;\n  organization?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/set_as_default', data).catch(throwGlobalError);\n}\n\nexport function createCondition(\n  data: {\n    gateId: number;\n    organization?: string;\n  } & T.Omit<T.Condition, 'id'>\n): Promise<T.Condition> {\n  return postJSON('/api/qualitygates/create_condition', data).catch(throwGlobalError);\n}\n\nexport function updateCondition(\n  data: { organization?: string } & T.Condition\n): Promise<T.Condition> {\n  return postJSON('/api/qualitygates/update_condition', data).catch(throwGlobalError);\n}\n\nexport function deleteCondition(data: { id: number; organization?: string }): Promise<void> {\n  return post('/api/qualitygates/delete_condition', data);\n}\n\nexport function getGateForProject(data: {\n  organization?: string;\n  project: string;\n}): Promise<T.QualityGate | undefined> {\n  return getJSON('/api/qualitygates/get_by_project', data).then(\n    ({ qualityGate }) =>\n      qualityGate && {\n        ...qualityGate,\n        isDefault: qualityGate.default\n      },\n    throwGlobalError\n  );\n}\n\nexport function searchProjects(data: {\n  gateId: number;\n  organization?: string;\n  page?: number;\n  pageSize?: number;\n  query?: string;\n  selected?: string;\n}): Promise<{\n  paging: T.Paging;\n  results: Array<{ id: string; key: string; name: string; selected: boolean }>;\n}> {\n  return getJSON('/api/qualitygates/search', data).catch(throwGlobalError);\n}\n\nexport function associateGateWithProject(data: {\n  gateId: number;\n  organization?: string;\n  projectKey?: string;\n  projectId?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/select', data).catch(throwGlobalError);\n}\n\nexport function dissociateGateWithProject(data: {\n  gateId: number;\n  organization?: string;\n  projectKey?: string;\n  projectId?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/deselect', data).catch(throwGlobalError);\n}\n\nexport interface ConditionAnalysis {\n  comparator: string;\n  errorThreshold?: string;\n  metric: string;\n  periodIndex?: number;\n  onLeak?: boolean;\n  status: string;\n  value: string;\n  warningThreshold?: string;\n}\n\nexport interface ApplicationProject {\n  key: string;\n  name: string;\n  status: string;\n  conditions: ConditionAnalysis[];\n}\n\nexport interface ApplicationQualityGate {\n  metrics: T.Metric[];\n  projects: ApplicationProject[];\n  status: string;\n}\n\nexport function getApplicationQualityGate(data: {\n  application: string;\n  branch?: string;\n  organization?: string;\n}): Promise<ApplicationQualityGate> {\n  return getJSON('/api/qualitygates/application_status', data).catch(throwGlobalError);\n}\n\nexport function getQualityGateProjectStatus(\n  data: {\n    projectKey?: string;\n    projectId?: string;\n  } & T.BranchParameters\n): Promise<T.QualityGateProjectStatus> {\n  return getJSON('/api/qualitygates/project_status', data)\n    .then(r => r.projectStatus)\n    .catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport default function GlobalFooterBranding() {\n  const { official } = window as any;\n  return official ? (\n    <div>\n      SonarQube&trade; technology is powered by{' '}\n      <a href=\"http://www.sonarsource.com\" rel=\"noopener noreferrer\" target=\"_blank\">\n        SonarSource SA\n      </a>\n    </div>\n  ) : (\n    <div>\n      This application is based on{' '}\n      <a\n        href=\"http://www.sonarqube.org/\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n        title=\"SonarQube\">\n        SonarQube\n      </a>{' '}\n      but is <strong>not</strong> an official version provided by{' '}\n      <a\n        href=\"http://www.sonarsource.com\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n        title=\"SonarSource SA\">\n        SonarSource SA\n      </a>\n      .\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as getYear from 'date-fns/get_year';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport default function GlobalFooterSonarCloud() {\n  return (\n    <div className=\"page-footer page-container\" id=\"footer\">\n      <div>\n        {` 2008-${getYear(new Date())}, SonarCloud by `}\n        <a\n          href=\"http://www.sonarsource.com\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n          title=\"SonarSource SA\">\n          SonarSource SA\n        </a>\n        . All rights reserved.\n      </div>\n\n      <ul className=\"page-footer-menu\">\n        <li className=\"page-footer-menu-item\">\n          <a\n            href=\"https://blog.sonarsource.com/product/SonarCloud\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('footer.news')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"https://twitter.com/sonarcloud\" rel=\"noopener noreferrer\" target=\"_blank\">\n            {translate('footer.twitter')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link rel=\"noopener noreferrer\" target=\"_blank\" to=\"/terms.pdf\">\n            {translate('footer.terms')}\n          </Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/about/pricing/\">{translate('footer.pricing')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/documentation/privacy/\">{translate('footer.privacy')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/documentation/security/\">{translate('footer.security')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a\n            href=\"https://community.sonarsource.com/c/help/sc\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('footer.help')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/about/contact\">{translate('footer.contact_us')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"https://sonarcloud.statuspage.io/\" rel=\"noopener noreferrer\" target=\"_blank\">\n            {translate('footer.status')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/about\">{translate('footer.about')}</Link>\n        </li>\n      </ul>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { getAppState, Store } from '../../store/rootReducer';\nimport GlobalFooter from './GlobalFooter';\n\ninterface StateProps {\n  productionDatabase: boolean;\n  sonarqubeEdition?: T.EditionKey;\n  sonarqubeVersion?: string;\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  productionDatabase: getAppState(state).productionDatabase,\n  sonarqubeEdition: getAppState(state).edition,\n  sonarqubeVersion: getAppState(state).version\n});\n\nexport default connect(mapStateToProps)(GlobalFooter);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { EDITIONS } from '../../apps/marketplace/utils';\nimport InstanceMessage from '../../components/common/InstanceMessage';\nimport { isSonarCloud } from '../../helpers/system';\nimport GlobalFooterBranding from './GlobalFooterBranding';\nimport GlobalFooterSonarCloud from './GlobalFooterSonarCloud';\n\ninterface Props {\n  hideLoggedInInfo?: boolean;\n  productionDatabase: boolean;\n  sonarqubeEdition?: T.EditionKey;\n  sonarqubeVersion?: string;\n}\n\nexport default function GlobalFooter({\n  hideLoggedInInfo,\n  productionDatabase,\n  sonarqubeEdition,\n  sonarqubeVersion\n}: Props) {\n  if (isSonarCloud()) {\n    return <GlobalFooterSonarCloud />;\n  }\n\n  const currentEdition = EDITIONS.find(edition => edition.key === sonarqubeEdition);\n\n  return (\n    <div className=\"page-footer page-container\" id=\"footer\">\n      {productionDatabase === false && (\n        <Alert display=\"inline\" id=\"evaluation_warning\" variant=\"warning\">\n          <p className=\"big\">{translate('footer.production_database_warning')}</p>\n          <p>\n            <InstanceMessage message={translate('footer.production_database_explanation')} />\n          </p>\n        </Alert>\n      )}\n\n      <GlobalFooterBranding />\n\n      <ul className=\"page-footer-menu\">\n        {!hideLoggedInInfo && currentEdition && (\n          <li className=\"page-footer-menu-item\">{currentEdition.name}</li>\n        )}\n        {!hideLoggedInInfo && sonarqubeVersion && (\n          <li className=\"page-footer-menu-item\">\n            {translateWithParameters('footer.version_x', sonarqubeVersion)}\n          </li>\n        )}\n        <li className=\"page-footer-menu-item\">\n          <a href=\"http://www.gnu.org/licenses/lgpl-3.0.txt\">{translate('footer.license')}</a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"http://www.sonarqube.org\">{translate('footer.community')}</a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/documentation\">{translate('footer.documentation')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"https://redirect.sonarsource.com/doc/community.html\">\n            {translate('footer.support')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"https://redirect.sonarsource.com/doc/plugin-library.html\">\n            {translate('footer.plugins')}\n          </a>\n        </li>\n        {!hideLoggedInInfo && (\n          <li className=\"page-footer-menu-item\">\n            <Link to=\"/web_api\">{translate('footer.web_api')}</Link>\n          </li>\n        )}\n        {!hideLoggedInInfo && (\n          <li className=\"page-footer-menu-item\">\n            <Link to=\"/about\">{translate('footer.about')}</Link>\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { EditionKey } from '../apps/marketplace/utils';\nimport { ActionType } from './utils/actions';\n\nexport const enum Actions {\n  SetAppState = 'SET_APP_STATE',\n  SetAdminPages = 'SET_ADMIN_PAGES',\n  RequireAuthorization = 'REQUIRE_AUTHORIZATION'\n}\n\nexport type Action =\n  | ActionType<typeof setAppState, Actions.SetAppState>\n  | ActionType<typeof setAdminPages, Actions.SetAdminPages>\n  | ActionType<typeof requireAuthorization, Actions.RequireAuthorization>;\n\nexport function setAppState(appState: T.AppState) {\n  return { type: Actions.SetAppState, appState };\n}\n\nexport function setAdminPages(adminPages: T.Extension[]) {\n  return { type: Actions.SetAdminPages, adminPages };\n}\n\nexport function requireAuthorization() {\n  return { type: Actions.RequireAuthorization };\n}\n\nconst defaultValue: T.AppState = {\n  authenticationError: false,\n  authorizationError: false,\n  defaultOrganization: '',\n  edition: EditionKey.community,\n  organizationsEnabled: false,\n  productionDatabase: true,\n  qualifiers: [],\n  settings: {},\n  version: ''\n};\n\nexport default function(state: T.AppState = defaultValue, action: Action): T.AppState {\n  if (action.type === Actions.SetAppState) {\n    return { ...state, ...action.appState };\n  }\n  if (action.type === Actions.SetAdminPages) {\n    return { ...state, adminPages: action.adminPages };\n  }\n  if (action.type === Actions.RequireAuthorization) {\n    return { ...state, authorizationError: true };\n  }\n  return state;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport GenericAvatar from 'sonar-ui-common/components/ui/GenericAvatar';\nimport './OrganizationAvatar.css';\n\ninterface Props {\n  className?: string;\n  organization: Pick<T.OrganizationBase, 'avatar' | 'name'>;\n  small?: boolean;\n}\n\ninterface State {\n  imgLoadError: boolean;\n}\n\nexport default class OrganizationAvatar extends React.PureComponent<Props, State> {\n  state = { imgLoadError: false };\n\n  handleImgError = () => {\n    this.setState({ imgLoadError: true });\n  };\n\n  render() {\n    const { className, organization, small } = this.props;\n    const { imgLoadError } = this.state;\n    return (\n      <div\n        className={classNames(\n          'navbar-context-avatar',\n          'rounded',\n          { 'no-border': !organization.avatar, 'is-small': small },\n          className\n        )}>\n        {organization.avatar && !imgLoadError ? (\n          <img\n            alt={organization.name}\n            className=\"rounded\"\n            onError={this.handleImgError}\n            src={organization.avatar}\n          />\n        ) : (\n          <GenericAvatar name={organization.name} size={small ? 15 : 30} />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { RequestData } from 'sonar-ui-common/helpers/request';\nimport { Facet, searchProjects } from '../../api/components';\nimport { getMeasuresForProjects } from '../../api/measures';\nimport { getOrganizations } from '../../api/organizations';\nimport { getPeriodValue, isDiffMetric } from '../../helpers/measures';\nimport { convertToFilter, Query } from './query';\n\ninterface SortingOption {\n  class?: string;\n  value: string;\n}\n\nexport const PROJECTS_DEFAULT_FILTER = 'sonarqube.projects.default';\nexport const PROJECTS_FAVORITE = 'favorite';\nexport const PROJECTS_ALL = 'all';\n\nexport const SORTING_METRICS: SortingOption[] = [\n  { value: 'name' },\n  { value: 'analysis_date' },\n  { value: 'reliability' },\n  { value: 'security' },\n  { value: 'maintainability' },\n  { value: 'coverage' },\n  { value: 'duplications' },\n  { value: 'size' }\n];\n\nexport const SORTING_LEAK_METRICS: SortingOption[] = [\n  { value: 'name' },\n  { value: 'analysis_date' },\n  { value: 'new_reliability', class: 'projects-leak-sorting-option' },\n  { value: 'new_security', class: 'projects-leak-sorting-option' },\n  { value: 'new_maintainability', class: 'projects-leak-sorting-option' },\n  { value: 'new_coverage', class: 'projects-leak-sorting-option' },\n  { value: 'new_duplications', class: 'projects-leak-sorting-option' },\n  { value: 'new_lines', class: 'projects-leak-sorting-option' }\n];\n\nexport const SORTING_SWITCH: T.Dict<string> = {\n  analysis_date: 'analysis_date',\n  name: 'name',\n  reliability: 'new_reliability',\n  security: 'new_security',\n  maintainability: 'new_maintainability',\n  coverage: 'new_coverage',\n  duplications: 'new_duplications',\n  size: 'new_lines',\n  new_reliability: 'reliability',\n  new_security: 'security',\n  new_maintainability: 'maintainability',\n  new_coverage: 'coverage',\n  new_duplications: 'duplications',\n  new_lines: 'size'\n};\n\nexport const VIEWS = [{ value: 'overall', label: 'overall' }, { value: 'leak', label: 'new_code' }];\n\nexport const VISUALIZATIONS = [\n  'risk',\n  'reliability',\n  'security',\n  'maintainability',\n  'coverage',\n  'duplications'\n];\n\nconst PAGE_SIZE = 50;\nconst PAGE_SIZE_VISUALIZATIONS = 99;\n\nconst METRICS = [\n  'alert_status',\n  'bugs',\n  'reliability_rating',\n  'vulnerabilities',\n  'security_rating',\n  'code_smells',\n  'sqale_rating',\n  'duplicated_lines_density',\n  'coverage',\n  'ncloc',\n  'ncloc_language_distribution'\n];\n\nconst LEAK_METRICS = [\n  'alert_status',\n  'new_bugs',\n  'new_reliability_rating',\n  'new_vulnerabilities',\n  'new_security_rating',\n  'new_code_smells',\n  'new_maintainability_rating',\n  'new_coverage',\n  'new_duplicated_lines_density',\n  'new_lines'\n];\n\nconst METRICS_BY_VISUALIZATION: T.Dict<string[]> = {\n  risk: ['reliability_rating', 'security_rating', 'coverage', 'ncloc', 'sqale_index'],\n  // x, y, size, color\n  reliability: ['ncloc', 'reliability_remediation_effort', 'bugs', 'reliability_rating'],\n  security: ['ncloc', 'security_remediation_effort', 'vulnerabilities', 'security_rating'],\n  maintainability: ['ncloc', 'sqale_index', 'code_smells', 'sqale_rating'],\n  coverage: ['complexity', 'coverage', 'uncovered_lines'],\n  duplications: ['ncloc', 'duplicated_lines_density', 'duplicated_blocks']\n};\n\nexport const FACETS = [\n  'reliability_rating',\n  'security_rating',\n  'sqale_rating',\n  'coverage',\n  'duplicated_lines_density',\n  'ncloc',\n  'alert_status',\n  'languages',\n  'tags'\n];\n\nexport const LEAK_FACETS = [\n  'new_reliability_rating',\n  'new_security_rating',\n  'new_maintainability_rating',\n  'new_coverage',\n  'new_duplicated_lines_density',\n  'new_lines',\n  'alert_status',\n  'languages',\n  'tags'\n];\n\nconst REVERSED_FACETS = ['coverage', 'new_coverage'];\n\nexport function localizeSorting(sort?: string): string {\n  return translate('projects.sort', sort || 'name');\n}\n\nexport function parseSorting(sort: string): { sortValue: string; sortDesc: boolean } {\n  const desc = sort[0] === '-';\n  return { sortValue: desc ? sort.substr(1) : sort, sortDesc: desc };\n}\n\nexport function fetchProjects(\n  query: Query,\n  isFavorite: boolean,\n  organization: T.Organization | undefined,\n  pageIndex = 1\n) {\n  const ps = query.view === 'visualizations' ? PAGE_SIZE_VISUALIZATIONS : PAGE_SIZE;\n  const data = convertToQueryData(query, isFavorite, organization && organization.key, {\n    p: pageIndex > 1 ? pageIndex : undefined,\n    ps,\n    facets: defineFacets(query).join(),\n    f: 'analysisDate,leakPeriodDate'\n  });\n  return searchProjects(data)\n    .then(response =>\n      Promise.all([\n        fetchProjectMeasures(response.components, query),\n        fetchProjectOrganizations(response.components, organization),\n        Promise.resolve(response)\n      ])\n    )\n    .then(([measures, organizations, { components, facets, paging }]) => {\n      return {\n        facets: getFacetsMap(facets),\n        projects: components\n          .map(component => {\n            const componentMeasures: T.Dict<string> = {};\n            measures\n              .filter(measure => measure.component === component.key)\n              .forEach(measure => {\n                const value = isDiffMetric(measure.metric)\n                  ? getPeriodValue(measure, 1)\n                  : measure.value;\n                if (value !== undefined) {\n                  componentMeasures[measure.metric] = value;\n                }\n              });\n            return { ...component, measures: componentMeasures };\n          })\n          .map(component => {\n            const organization = organizations.find(o => o.key === component.organization);\n            return { ...component, organization };\n          }),\n        total: paging.total\n      };\n    });\n}\n\nfunction defineMetrics(query: Query): string[] {\n  switch (query.view) {\n    case 'visualizations':\n      return METRICS_BY_VISUALIZATION[query.visualization || 'risk'];\n    case 'leak':\n      return LEAK_METRICS;\n    default:\n      return METRICS;\n  }\n}\n\nfunction defineFacets(query: Query): string[] {\n  if (query.view === 'leak') {\n    return LEAK_FACETS;\n  }\n  return FACETS;\n}\n\nfunction convertToQueryData(\n  query: Query,\n  isFavorite: boolean,\n  organization?: string,\n  defaultData = {}\n) {\n  const data: RequestData = { ...defaultData, organization };\n  const filter = convertToFilter(query, isFavorite);\n  const sort = convertToSorting(query);\n\n  if (filter) {\n    data.filter = filter;\n  }\n  if (sort.s) {\n    data.s = sort.s;\n  }\n  if (sort.asc !== undefined) {\n    data.asc = sort.asc;\n  }\n  return data;\n}\n\nexport function fetchProjectMeasures(projects: Array<{ key: string }>, query: Query) {\n  if (!projects.length) {\n    return Promise.resolve([]);\n  }\n\n  const projectKeys = projects.map(project => project.key);\n  const metrics = defineMetrics(query);\n  return getMeasuresForProjects(projectKeys, metrics);\n}\n\nexport function fetchProjectOrganizations(\n  projects: Array<{ organization: string }>,\n  organization: T.Organization | undefined\n) {\n  if (organization) {\n    return Promise.resolve([organization]);\n  }\n  if (!projects.length) {\n    return Promise.resolve([]);\n  }\n\n  const organizations = uniq(projects.map(project => project.organization));\n  return getOrganizations({ organizations: organizations.join() }).then(r => r.organizations);\n}\n\nfunction mapFacetValues(values: Array<{ val: string; count: number }>) {\n  const map: T.Dict<number> = {};\n  values.forEach(value => {\n    map[value.val] = value.count;\n  });\n  return map;\n}\n\nfunction getFacetsMap(facets: Facet[]) {\n  const map: T.Dict<T.Dict<number>> = {};\n  facets.forEach(facet => {\n    const property = mapMetricToProperty(facet.property);\n    const { values } = facet;\n    if (REVERSED_FACETS.includes(property)) {\n      values.reverse();\n    }\n    map[property] = mapFacetValues(values);\n  });\n  return map;\n}\n\nfunction mapPropertyToMetric(property?: string) {\n  const map: T.Dict<string> = {\n    analysis_date: 'analysisDate',\n    reliability: 'reliability_rating',\n    new_reliability: 'new_reliability_rating',\n    security: 'security_rating',\n    new_security: 'new_security_rating',\n    maintainability: 'sqale_rating',\n    new_maintainability: 'new_maintainability_rating',\n    coverage: 'coverage',\n    new_coverage: 'new_coverage',\n    duplications: 'duplicated_lines_density',\n    new_duplications: 'new_duplicated_lines_density',\n    size: 'ncloc',\n    new_lines: 'new_lines',\n    gate: 'alert_status',\n    languages: 'languages',\n    tags: 'tags',\n    search: 'query'\n  };\n  return property && map[property];\n}\n\nfunction convertToSorting({ sort }: Query): { s?: string; asc?: boolean } {\n  if (sort && sort[0] === '-') {\n    return { s: mapPropertyToMetric(sort.substr(1)), asc: false };\n  }\n  return { s: mapPropertyToMetric(sort) };\n}\n\nfunction mapMetricToProperty(metricKey: string) {\n  const map: T.Dict<string> = {\n    analysisDate: 'analysis_date',\n    reliability_rating: 'reliability',\n    new_reliability_rating: 'new_reliability',\n    security_rating: 'security',\n    new_security_rating: 'new_security',\n    sqale_rating: 'maintainability',\n    new_maintainability_rating: 'new_maintainability',\n    coverage: 'coverage',\n    new_coverage: 'new_coverage',\n    duplicated_lines_density: 'duplications',\n    new_duplicated_lines_density: 'new_duplications',\n    ncloc: 'size',\n    new_lines: 'new_lines',\n    alert_status: 'gate',\n    languages: 'languages',\n    tags: 'tags',\n    query: 'search'\n  };\n  return map[metricKey];\n}\n\nconst ONE_MINUTE = 60000;\nconst ONE_HOUR = 60 * ONE_MINUTE;\nconst ONE_DAY = 24 * ONE_HOUR;\nconst ONE_MONTH = 30 * ONE_DAY;\nconst ONE_YEAR = 12 * ONE_MONTH;\n\nfunction format(periods: Array<{ value: number; label: string }>) {\n  let result = '';\n  let count = 0;\n  let lastId = -1;\n  for (let i = 0; i < periods.length && count < 2; i++) {\n    if (periods[i].value > 0) {\n      count++;\n      if (lastId < 0 || lastId + 1 === i) {\n        lastId = i;\n        result += translateWithParameters(periods[i].label, periods[i].value) + ' ';\n      }\n    }\n  }\n  return result;\n}\n\nexport function formatDuration(ms: number) {\n  if (ms < ONE_MINUTE) {\n    return translate('duration.seconds');\n  }\n  const years = Math.floor(ms / ONE_YEAR);\n  ms -= years * ONE_YEAR;\n  const months = Math.floor(ms / ONE_MONTH);\n  ms -= months * ONE_MONTH;\n  const days = Math.floor(ms / ONE_DAY);\n  ms -= days * ONE_DAY;\n  const hours = Math.floor(ms / ONE_HOUR);\n  ms -= hours * ONE_HOUR;\n  const minutes = Math.floor(ms / ONE_MINUTE);\n  return format([\n    { value: years, label: 'duration.years' },\n    { value: months, label: 'duration.months' },\n    { value: days, label: 'duration.days' },\n    { value: hours, label: 'duration.hours' },\n    { value: minutes, label: 'duration.minutes' }\n  ]);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getMeasures(\n  data: { component: string; metricKeys: string } & T.BranchParameters\n): Promise<T.Measure[]> {\n  return getJSON('/api/measures/component', data).then(r => r.component.measures, throwGlobalError);\n}\n\nexport function getMeasuresAndMeta(\n  component: string,\n  metrics: string[],\n  additional: RequestData = {}\n): Promise<{ component: T.ComponentMeasure; metrics?: T.Metric[]; periods?: T.Period[] }> {\n  return getJSON('/api/measures/component', {\n    ...additional,\n    component,\n    metricKeys: metrics.join(',')\n  }).catch(throwGlobalError);\n}\n\ninterface MeasuresForProjects {\n  component: string;\n  metric: string;\n  periods?: T.PeriodMeasure[];\n  value?: string;\n}\n\nexport function getMeasuresForProjects(\n  projectKeys: string[],\n  metricKeys: string[]\n): Promise<MeasuresForProjects[]> {\n  return getJSON('/api/measures/search', {\n    projectKeys: projectKeys.join(),\n    metricKeys: metricKeys.join()\n  }).then(r => r.measures);\n}\n\nexport function getCustomMeasures(data: {\n  f?: string;\n  p?: number;\n  projectKey: string;\n  ps?: number;\n}): Promise<{ customMeasures: T.CustomMeasure[]; paging: T.Paging }> {\n  return getJSON('/api/custom_measures/search', data).then(\n    r =>\n      ({\n        customMeasures: r.customMeasures,\n        paging: { pageIndex: r.p, pageSize: r.ps, total: r.total }\n      } as any),\n    throwGlobalError\n  );\n}\n\nexport function createCustomMeasure(data: {\n  description?: string;\n  metricKey: string;\n  projectKey: string;\n  value: string;\n}): Promise<T.CustomMeasure> {\n  return postJSON('/api/custom_measures/create', data).catch(throwGlobalError);\n}\n\nexport function updateCustomMeasure(data: { description?: string; id: string; value?: string }) {\n  return post('/api/custom_measures/update', data).catch(throwGlobalError);\n}\n\nexport function deleteCustomMeasure(data: { id: string }) {\n  return post('/api/custom_measures/delete', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omitBy } from 'lodash';\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { isCategoryDefinition } from '../apps/settings/utils';\n\nexport function getDefinitions(component?: string): Promise<T.SettingCategoryDefinition[]> {\n  return getJSON('/api/settings/list_definitions', { component }).then(\n    r => r.definitions,\n    throwGlobalError\n  );\n}\n\nexport function getValues(\n  data: { keys: string; component?: string } & T.BranchParameters\n): Promise<T.SettingValue[]> {\n  return getJSON('/api/settings/values', data).then(r => r.settings);\n}\n\nexport function setSettingValue(\n  definition: T.SettingDefinition,\n  value: any,\n  component?: string\n): Promise<void> {\n  const { key } = definition;\n  const data: RequestData = { key, component };\n\n  if (isCategoryDefinition(definition) && definition.multiValues) {\n    data.values = value;\n  } else if (definition.type === 'PROPERTY_SET') {\n    data.fieldValues = value\n      .map((fields: any) => omitBy(fields, value => value == null))\n      .map(JSON.stringify);\n  } else {\n    data.value = value;\n  }\n\n  return post('/api/settings/set', data);\n}\n\nexport function setSimpleSettingValue(\n  data: { component?: string; value: string; key: string } & T.BranchParameters\n): Promise<void | Response> {\n  return post('/api/settings/set', data).catch(throwGlobalError);\n}\n\nexport function resetSettingValue(\n  data: { keys: string; component?: string } & T.BranchParameters\n): Promise<void> {\n  return post('/api/settings/reset', data);\n}\n\nexport function sendTestEmail(to: string, subject: string, message: string): Promise<void> {\n  return post('/api/emails/send', { to, subject, message });\n}\n\nexport function checkSecretKey(): Promise<{ secretKeyAvailable: boolean }> {\n  return getJSON('/api/settings/check_secret_key').catch(throwGlobalError);\n}\n\nexport function generateSecretKey(): Promise<{ secretKey: string }> {\n  return postJSON('/api/settings/generate_secret_key').catch(throwGlobalError);\n}\n\nexport function encryptValue(value: string): Promise<{ encryptedValue: string }> {\n  return postJSON('/api/settings/encrypt', { value }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, uniq, without } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { ActionType } from './utils/actions';\n\ntype ReceiveOrganizationsAction =\n  | ActionType<typeof receiveOrganizations, 'RECEIVE_ORGANIZATIONS'>\n  | ActionType<typeof receiveMyOrganizations, 'RECEIVE_MY_ORGANIZATIONS'>;\n\ntype Action =\n  | ReceiveOrganizationsAction\n  | ActionType<typeof createOrganization, 'CREATE_ORGANIZATION'>\n  | ActionType<typeof updateOrganization, 'UPDATE_ORGANIZATION'>\n  | ActionType<typeof deleteOrganization, 'DELETE_ORGANIZATION'>;\n\nexport interface State {\n  byKey: T.Dict<T.Organization>;\n  my: string[];\n}\n\nexport function receiveOrganizations(organizations: T.Organization[]) {\n  return { type: 'RECEIVE_ORGANIZATIONS', organizations };\n}\n\nexport function receiveMyOrganizations(organizations: T.Organization[]) {\n  return { type: 'RECEIVE_MY_ORGANIZATIONS', organizations };\n}\n\nexport function createOrganization(organization: T.Organization) {\n  return { type: 'CREATE_ORGANIZATION', organization };\n}\n\nexport function updateOrganization(key: string, changes: T.OrganizationBase) {\n  return { type: 'UPDATE_ORGANIZATION', key, changes };\n}\n\nexport function deleteOrganization(key: string) {\n  return { type: 'DELETE_ORGANIZATION', key };\n}\n\nfunction onReceiveOrganizations(state: State['byKey'], action: ReceiveOrganizationsAction) {\n  const nextState = { ...state };\n  action.organizations.forEach(organization => {\n    nextState[organization.key] = { ...state[organization.key], ...organization };\n  });\n  return nextState;\n}\n\nfunction byKey(state: State['byKey'] = {}, action: Action): State['byKey'] {\n  switch (action.type) {\n    case 'RECEIVE_ORGANIZATIONS':\n    case 'RECEIVE_MY_ORGANIZATIONS':\n      return onReceiveOrganizations(state, action);\n    case 'CREATE_ORGANIZATION':\n      return {\n        ...state,\n        [action.organization.key]: {\n          ...action.organization,\n          actions: { ...(action.organization.actions || {}), admin: true }\n        }\n      };\n    case 'UPDATE_ORGANIZATION':\n      return {\n        ...state,\n        [action.key]: {\n          ...state[action.key],\n          key: action.key,\n          ...action.changes\n        }\n      };\n    case 'DELETE_ORGANIZATION':\n      return omit(state, action.key);\n    default:\n      return state;\n  }\n}\n\nfunction my(state: State['my'] = [], action: Action): State['my'] {\n  switch (action.type) {\n    case 'RECEIVE_MY_ORGANIZATIONS':\n      return uniq([...state, ...action.organizations.map(o => o.key)]);\n    case 'CREATE_ORGANIZATION':\n      return uniq([...state, action.organization.key]);\n    case 'DELETE_ORGANIZATION':\n      return without(state, action.key);\n    default:\n      return state;\n  }\n}\n\nexport default combineReducers({ byKey, my });\n\nexport function getOrganizationByKey(state: State, key: string) {\n  return state.byKey[key];\n}\n\nexport function getMyOrganizations(state: State) {\n  return state.my.map(key => getOrganizationByKey(state, key));\n}\n\nexport function areThereCustomOrganizations(state: State) {\n  return Object.keys(state.byKey).length > 1;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\n\nexport default class WorkspacePortal extends React.PureComponent {\n  el: HTMLElement;\n\n  constructor(props: {}) {\n    super(props);\n    this.el = document.createElement('div');\n    this.el.classList.add('workspace');\n  }\n\n  componentDidMount() {\n    document.body.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.el);\n  }\n\n  render() {\n    return createPortal(this.props.children, this.el);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { get, save } from 'sonar-ui-common/helpers/storage';\nimport { ComponentDescriptor, RuleDescriptor, WorkspaceContext } from './context';\nimport './styles.css';\nimport WorkspacePortal from './WorkspacePortal';\n\nconst WORKSPACE = 'sonarqube-workspace';\nconst WorkspaceNav = lazyLoad(() => import('./WorkspaceNav'));\nconst WorkspaceRuleViewer = lazyLoad(() => import('./WorkspaceRuleViewer'));\nconst WorkspaceComponentViewer = lazyLoad(() => import('./WorkspaceComponentViewer'));\n\ninterface State {\n  components: ComponentDescriptor[];\n  height: number;\n  maximized?: boolean;\n  open: { component?: string; rule?: string };\n  rules: RuleDescriptor[];\n}\n\nconst MIN_HEIGHT = 0.05;\nconst MAX_HEIGHT = 0.85;\nconst INITIAL_HEIGHT = 300;\n\nconst TYPE_KEY = '__type__';\n\nexport default class Workspace extends React.PureComponent<{}, State> {\n  mounted = false;\n\n  constructor(props: {}) {\n    super(props);\n    this.state = { height: INITIAL_HEIGHT, open: {}, ...this.loadWorkspace() };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(_: {}, prevState: State) {\n    if (prevState.components !== this.state.components || prevState.rules !== this.state.rules) {\n      this.saveWorkspace();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadWorkspace = () => {\n    try {\n      const data: any[] = JSON.parse(get(WORKSPACE) || '');\n      const components: ComponentDescriptor[] = data.filter(x => x[TYPE_KEY] === 'component');\n      const rules: RuleDescriptor[] = data.filter(x => x[TYPE_KEY] === 'rule');\n      return { components, rules };\n    } catch {\n      // fail silently\n      return { components: [], rules: [] };\n    }\n  };\n\n  saveWorkspace = () => {\n    const data = [\n      // do not save line number, next time the file is open, it should be open on the first line\n      ...this.state.components.map(x => omit({ ...x, [TYPE_KEY]: 'component' }, 'line')),\n      ...this.state.rules.map(x => ({ ...x, [TYPE_KEY]: 'rule' }))\n    ];\n    save(WORKSPACE, JSON.stringify(data));\n  };\n\n  openComponent = (component: ComponentDescriptor) => {\n    this.setState((state: State) => ({\n      components: uniqBy([...state.components, component], component => component.key),\n      open: { component: component.key }\n    }));\n  };\n\n  reopenComponent = (componentKey: string) => {\n    this.setState({ open: { component: componentKey } });\n  };\n\n  openRule = (rule: RuleDescriptor) => {\n    this.setState((state: State) => ({\n      open: { rule: rule.key },\n      rules: uniqBy([...state.rules, rule], rule => rule.key)\n    }));\n  };\n\n  reopenRule = (ruleKey: string) => {\n    this.setState({ open: { rule: ruleKey } });\n  };\n\n  closeComponent = (componentKey: string) => {\n    this.setState((state: State) => ({\n      components: state.components.filter(x => x.key !== componentKey),\n      open: {\n        ...state.open,\n        component: state.open.component === componentKey ? undefined : state.open.component\n      }\n    }));\n  };\n\n  closeRule = (ruleKey: string) => {\n    this.setState((state: State) => ({\n      rules: state.rules.filter(x => x.key !== ruleKey),\n      open: {\n        ...state.open,\n        rule: state.open.rule === ruleKey ? undefined : state.open.rule\n      }\n    }));\n  };\n\n  handleComponentLoad = (details: { key: string; name: string; qualifier: string }) => {\n    if (this.mounted) {\n      const { key, name, qualifier } = details;\n      this.setState((state: State) => ({\n        components: state.components.map(component =>\n          component.key === key ? { ...component, name, qualifier } : component\n        )\n      }));\n    }\n  };\n\n  handleRuleLoad = (details: { key: string; name: string }) => {\n    if (this.mounted) {\n      const { key, name } = details;\n      this.setState((state: State) => ({\n        rules: state.rules.map(rule => (rule.key === key ? { ...rule, name } : rule))\n      }));\n    }\n  };\n\n  collapse = () => {\n    this.setState({ open: {} });\n  };\n\n  maximize = () => {\n    this.setState({ maximized: true });\n  };\n\n  minimize = () => {\n    this.setState({ maximized: false });\n  };\n\n  resize = (deltaY: number) => {\n    const minHeight = window.innerHeight * MIN_HEIGHT;\n    const maxHeight = window.innerHeight * MAX_HEIGHT;\n    this.setState((state: State) => ({\n      height: Math.min(maxHeight, Math.max(minHeight, state.height - deltaY))\n    }));\n  };\n\n  render() {\n    const { components, open, rules } = this.state;\n\n    const openComponent = open.component && components.find(x => x.key === open.component);\n    const openRule = open.rule && rules.find(x => x.key === open.rule);\n\n    const height = this.state.maximized ? window.innerHeight * MAX_HEIGHT : this.state.height;\n\n    return (\n      <WorkspaceContext.Provider\n        value={{ openComponent: this.openComponent, openRule: this.openRule }}>\n        {this.props.children}\n        <WorkspacePortal>\n          {(components.length > 0 || rules.length > 0) && (\n            <WorkspaceNav\n              components={components}\n              onComponentClose={this.closeComponent}\n              onComponentOpen={this.reopenComponent}\n              onRuleClose={this.closeRule}\n              onRuleOpen={this.reopenRule}\n              open={this.state.open}\n              rules={rules}\n            />\n          )}\n          {openComponent && (\n            <WorkspaceComponentViewer\n              component={openComponent}\n              height={height}\n              maximized={this.state.maximized}\n              onClose={this.closeComponent}\n              onCollapse={this.collapse}\n              onLoad={this.handleComponentLoad}\n              onMaximize={this.maximize}\n              onMinimize={this.minimize}\n              onResize={this.resize}\n            />\n          )}\n          {openRule && (\n            <WorkspaceRuleViewer\n              height={height}\n              maximized={this.state.maximized}\n              onClose={this.closeRule}\n              onCollapse={this.collapse}\n              onLoad={this.handleRuleLoad}\n              onMaximize={this.maximize}\n              onMinimize={this.minimize}\n              onResize={this.resize}\n              rule={openRule}\n            />\n          )}\n        </WorkspacePortal>\n      </WorkspaceContext.Provider>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { A11yContext } from './A11yContext';\n\ninterface State {\n  links: T.A11ySkipLink[];\n}\n\nexport default class A11yProvider extends React.Component<{}, State> {\n  keys: string[] = [];\n  state: State = { links: [] };\n\n  addA11ySkipLink = (link: T.A11ySkipLink) => {\n    this.setState(prevState => {\n      const links = [...prevState.links];\n      links.push({ ...link, weight: link.weight || 0 });\n      return { links };\n    });\n  };\n\n  removeA11ySkipLink = (link: T.A11ySkipLink) => {\n    this.setState(prevState => {\n      const links = prevState.links.filter(l => l.key !== link.key);\n      return { links };\n    });\n  };\n\n  render() {\n    const links = sortBy(this.state.links, 'weight');\n    return (\n      <A11yContext.Provider\n        value={{\n          addA11ySkipLink: this.addA11ySkipLink,\n          links,\n          removeA11ySkipLink: this.removeA11ySkipLink\n        }}>\n        {this.props.children}\n      </A11yContext.Provider>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { A11yContext } from './A11yContext';\nimport './A11ySkipLinks.css';\n\nexport default function A11ySkipLinks() {\n  return (\n    <A11yContext.Consumer>\n      {({ links }) =>\n        links.map(link => (\n          <a className=\"a11y-skip-link\" href={`#a11y_target__${link.key}`} key={link.key}>\n            {link.label}\n          </a>\n        ))\n      }\n    </A11yContext.Consumer>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport suggestionsJson from 'Docs/EmbedDocsSuggestions.json';\nimport * as React from 'react';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ntype SuggestionsJson = T.Dict<T.SuggestionLink[]>;\n\ninterface State {\n  suggestions: T.SuggestionLink[];\n}\n\nexport default class SuggestionsProvider extends React.Component<{}, State> {\n  keys: string[] = [];\n  state: State = { suggestions: [] };\n\n  fetchSuggestions = () => {\n    const jsonList = suggestionsJson as SuggestionsJson;\n    let suggestions: T.SuggestionLink[] = [];\n    this.keys.forEach(key => {\n      if (jsonList[key]) {\n        suggestions = [...jsonList[key], ...suggestions];\n      }\n    });\n    if (!isSonarCloud()) {\n      suggestions = suggestions.filter(suggestion => suggestion.scope !== 'sonarcloud');\n    }\n    this.setState({ suggestions });\n  };\n\n  addSuggestions = (newKey: string) => {\n    this.keys = [...this.keys, newKey];\n    this.fetchSuggestions();\n  };\n\n  removeSuggestions = (oldKey: string) => {\n    this.keys = this.keys.filter(key => key !== oldKey);\n    this.fetchSuggestions();\n  };\n\n  render() {\n    return (\n      <SuggestionsContext.Provider\n        value={{\n          addSuggestions: this.addSuggestions,\n          removeSuggestions: this.removeSuggestions,\n          suggestions: this.state.suggestions\n        }}>\n        {this.props.children}\n      </SuggestionsContext.Provider>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport HelpIcon from 'sonar-ui-common/components/icons/HelpIcon';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nconst EmbedDocsPopup = lazyLoad(() => import('./EmbedDocsPopup'));\n\ninterface State {\n  helpOpen: boolean;\n}\n\nexport default class EmbedDocsPopupHelper extends React.PureComponent<{}, State> {\n  mounted = false;\n  state: State = { helpOpen: false };\n\n  componentDidMount() {\n    window.addEventListener('keypress', this.onKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keypress', this.onKeyPress);\n  }\n\n  onKeyPress = (event: KeyboardEvent) => {\n    const { tagName } = event.target as HTMLElement;\n    const code = event.keyCode || event.which;\n    const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n    const isTriggerKey = code === 63;\n    if (!isInput && isTriggerKey) {\n      this.toggleHelp();\n    }\n  };\n\n  setHelpDisplay = (helpOpen: boolean) => {\n    this.setState({ helpOpen });\n  };\n\n  handleClick = () => {\n    this.toggleHelp();\n  };\n\n  toggleHelp = () => {\n    this.setState(state => {\n      return { helpOpen: !state.helpOpen };\n    });\n  };\n\n  closeHelp = () => {\n    this.setState({ helpOpen: false });\n  };\n\n  render() {\n    return (\n      <li className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.closeHelp}\n          open={this.state.helpOpen}\n          overlay={<EmbedDocsPopup onClose={this.closeHelp} />}>\n          <ButtonLink\n            aria-expanded={this.state.helpOpen}\n            aria-haspopup={true}\n            className=\"navbar-help navbar-icon\"\n            onClick={this.handleClick}\n            title={translate('help')}>\n            <HelpIcon />\n          </ButtonLink>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { debounce, keyBy, uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport OutsideClickHandler from 'sonar-ui-common/components/controls/OutsideClickHandler';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport ClockIcon from 'sonar-ui-common/components/icons/ClockIcon';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport { getSuggestions } from '../../../api/components';\nimport { getCodeUrl, getProjectUrl } from '../../../helpers/urls';\nimport RecentHistory from '../RecentHistory';\nimport './Search.css';\nimport { ComponentResult, More, Results, sortQualifiers } from './utils';\n\nconst SearchResults = lazyLoad(() => import('./SearchResults'));\nconst SearchResult = lazyLoad(() => import('./SearchResult'));\n\ninterface OwnProps {\n  appState: Pick<T.AppState, 'organizationsEnabled'>;\n  currentUser: T.CurrentUser;\n}\n\ntype Props = OwnProps & WithRouterProps;\n\ninterface State {\n  loading: boolean;\n  loadingMore?: string;\n  more: More;\n  open: boolean;\n  organizations: T.Dict<{ name: string }>;\n  projects: T.Dict<{ name: string }>;\n  query: string;\n  results: Results;\n  selected?: string;\n  shortQuery: boolean;\n}\n\nexport class Search extends React.PureComponent<Props, State> {\n  input?: HTMLInputElement | null;\n  node?: HTMLElement | null;\n  nodes: T.Dict<HTMLElement>;\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.nodes = {};\n    this.search = debounce(this.search, 250);\n    this.state = {\n      loading: false,\n      more: {},\n      open: false,\n      organizations: {},\n      projects: {},\n      query: '',\n      results: {},\n      shortQuery: false\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    key('s', () => {\n      this.focusInput();\n      this.openSearch();\n      return false;\n    });\n  }\n\n  componentWillUpdate() {\n    this.nodes = {};\n  }\n\n  componentDidUpdate(_prevProps: Props, prevState: State) {\n    if (prevState.selected !== this.state.selected) {\n      this.scrollToSelected();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    key.unbind('s');\n  }\n\n  focusInput = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n  };\n\n  handleClickOutside = () => {\n    this.closeSearch(false);\n  };\n\n  handleFocus = () => {\n    if (!this.state.open) {\n      // simulate click to close any other dropdowns\n      const body = document.documentElement;\n      if (body) {\n        body.click();\n      }\n    }\n    this.openSearch();\n  };\n\n  openSearch = () => {\n    if (!this.state.open && !this.state.query) {\n      this.search('');\n    }\n    this.setState({ open: true });\n  };\n\n  closeSearch = (clear = true) => {\n    if (this.input) {\n      this.input.blur();\n    }\n    if (clear) {\n      this.setState({\n        more: {},\n        open: false,\n        organizations: {},\n        projects: {},\n        query: '',\n        results: {},\n        selected: undefined,\n        shortQuery: false\n      });\n    } else {\n      this.setState({ open: false });\n    }\n  };\n\n  getPlainComponentsList = (results: Results, more: More) =>\n    sortQualifiers(Object.keys(results)).reduce((components, qualifier) => {\n      const next = [...components, ...results[qualifier].map(component => component.key)];\n      if (more[qualifier]) {\n        next.push('qualifier###' + qualifier);\n      }\n      return next;\n    }, []);\n\n  findFile = (key: string) => {\n    const findInResults = (results: ComponentResult[] | undefined) =>\n      results && results.find(r => r.key === key);\n\n    const file = findInResults(this.state.results['FIL']);\n    if (file) {\n      return file;\n    }\n\n    const test = findInResults(this.state.results['UTS']);\n    if (test) {\n      return test;\n    }\n\n    return undefined;\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length === 0 || query.length >= 2) {\n      this.setState({ loading: true });\n      const recentlyBrowsed = RecentHistory.get().map(component => component.key);\n      getSuggestions(query, recentlyBrowsed).then(response => {\n        // compare `this.state.query` and `query` to handle two request done almost at the same time\n        // in this case only the request that matches the current query should be taken\n        if (this.mounted && this.state.query === query) {\n          const results: Results = {};\n          const more: More = {};\n          response.results.forEach(group => {\n            results[group.q] = group.items.map(item => ({ ...item, qualifier: group.q }));\n            more[group.q] = group.more;\n          });\n          const list = this.getPlainComponentsList(results, more);\n          this.setState(state => ({\n            loading: false,\n            more,\n            organizations: { ...state.organizations, ...keyBy(response.organizations, 'key') },\n            projects: { ...state.projects, ...keyBy(response.projects, 'key') },\n            results,\n            selected: list.length > 0 ? list[0] : undefined,\n            shortQuery: query.length > 2 && response.warning === 'short_input'\n          }));\n        }\n      }, this.stopLoading);\n    } else {\n      this.setState({ loading: false });\n    }\n  };\n\n  searchMore = (qualifier: string) => {\n    const { query } = this.state;\n    if (query.length === 1) {\n      return;\n    }\n\n    this.setState({ loading: true, loadingMore: qualifier });\n    const recentlyBrowsed = RecentHistory.get().map(component => component.key);\n    getSuggestions(query, recentlyBrowsed, qualifier).then(response => {\n      if (this.mounted) {\n        const group = response.results.find(group => group.q === qualifier);\n        const moreResults = (group ? group.items : []).map(item => ({ ...item, qualifier }));\n        this.setState(state => ({\n          loading: false,\n          loadingMore: undefined,\n          more: { ...state.more, [qualifier]: 0 },\n          organizations: { ...state.organizations, ...keyBy(response.organizations, 'key') },\n          projects: { ...state.projects, ...keyBy(response.projects, 'key') },\n          results: {\n            ...state.results,\n            [qualifier]: uniqBy([...state.results[qualifier], ...moreResults], 'key')\n          },\n          selected: moreResults.length > 0 ? moreResults[0].key : state.selected\n        }));\n        this.focusInput();\n      }\n    }, this.stopLoading);\n  };\n\n  handleQueryChange = (query: string) => {\n    this.setState({ query, shortQuery: query.length === 1 });\n    this.search(query);\n  };\n\n  selectPrevious = () => {\n    this.setState(({ more, results, selected }) => {\n      if (selected) {\n        const list = this.getPlainComponentsList(results, more);\n        const index = list.indexOf(selected);\n        return index > 0 ? { selected: list[index - 1] } : null;\n      } else {\n        return null;\n      }\n    });\n  };\n\n  selectNext = () => {\n    this.setState(({ more, results, selected }) => {\n      if (selected) {\n        const list = this.getPlainComponentsList(results, more);\n        const index = list.indexOf(selected);\n        return index >= 0 && index < list.length - 1 ? { selected: list[index + 1] } : null;\n      } else {\n        return null;\n      }\n    });\n  };\n\n  openSelected = () => {\n    const { selected } = this.state;\n\n    if (selected) {\n      if (selected.startsWith('qualifier###')) {\n        this.searchMore(selected.substr(12));\n      } else {\n        const file = this.findFile(selected);\n        if (file) {\n          this.props.router.push(getCodeUrl(file.project!, undefined, file.key));\n        } else {\n          this.props.router.push(getProjectUrl(selected));\n        }\n        this.closeSearch();\n      }\n    }\n  };\n\n  scrollToSelected = () => {\n    if (this.state.selected) {\n      const node = this.nodes[this.state.selected];\n      if (node && this.node) {\n        scrollToElement(node, { topOffset: 30, bottomOffset: 30, parent: this.node });\n      }\n    }\n  };\n\n  handleKeyDown = (event: React.KeyboardEvent) => {\n    switch (event.keyCode) {\n      case 13:\n        event.preventDefault();\n        this.openSelected();\n        return;\n      case 38:\n        event.preventDefault();\n        this.selectPrevious();\n        return;\n      case 40:\n        event.preventDefault();\n        this.selectNext();\n        // keep this return to prevent fall-through in case more cases will be adder later\n        // eslint-disable-next-line no-useless-return\n        return;\n    }\n  };\n\n  handleSelect = (selected: string) => {\n    this.setState({ selected });\n  };\n\n  innerRef = (component: string, node: HTMLElement | null) => {\n    if (node) {\n      this.nodes[component] = node;\n    }\n  };\n\n  searchInputRef = (node: HTMLInputElement | null) => {\n    this.input = node;\n  };\n\n  renderResult = (component: ComponentResult) => (\n    <SearchResult\n      appState={this.props.appState}\n      component={component}\n      innerRef={this.innerRef}\n      key={component.key}\n      onClose={this.closeSearch}\n      onSelect={this.handleSelect}\n      organizations={this.state.organizations}\n      projects={this.state.projects}\n      selected={this.state.selected === component.key}\n    />\n  );\n\n  renderNoResults = () => (\n    <div className=\"navbar-search-no-results\">\n      {translateWithParameters('no_results_for_x', this.state.query)}\n    </div>\n  );\n\n  render() {\n    const search = (\n      <li className=\"navbar-search dropdown\">\n        <DeferredSpinner className=\"navbar-search-icon\" loading={this.state.loading} />\n\n        <SearchBox\n          autoFocus={this.state.open}\n          innerRef={this.searchInputRef}\n          minLength={2}\n          onChange={this.handleQueryChange}\n          onFocus={this.handleFocus}\n          onKeyDown={this.handleKeyDown}\n          placeholder={translate('search.placeholder')}\n          value={this.state.query}\n        />\n\n        {this.state.shortQuery && (\n          <span className=\"navbar-search-input-hint\">\n            {translateWithParameters('select2.tooShort', 2)}\n          </span>\n        )}\n\n        {this.state.open && Object.keys(this.state.results).length > 0 && (\n          <DropdownOverlay noPadding={true}>\n            <div className=\"global-navbar-search-dropdown\" ref={node => (this.node = node)}>\n              <SearchResults\n                allowMore={this.state.query.length !== 1}\n                loadingMore={this.state.loadingMore}\n                more={this.state.more}\n                onMoreClick={this.searchMore}\n                onSelect={this.handleSelect}\n                renderNoResults={this.renderNoResults}\n                renderResult={this.renderResult}\n                results={this.state.results}\n                selected={this.state.selected}\n              />\n              <div className=\"dropdown-bottom-hint\">\n                <div className=\"pull-right\">\n                  <ClockIcon className=\"little-spacer-right\" size={12} />\n                  {translate('recently_browsed')}\n                </div>\n                <FormattedMessage\n                  defaultMessage={translate('search.shortcut_hint')}\n                  id=\"search.shortcut_hint\"\n                  values={{\n                    shortcut: <span className=\"shortcut-button shortcut-button-small\">s</span>\n                  }}\n                />\n              </div>\n            </div>\n          </DropdownOverlay>\n        )}\n      </li>\n    );\n\n    return this.state.open ? (\n      <OutsideClickHandler onClickOutside={this.handleClickOutside}>{search}</OutsideClickHandler>\n    ) : (\n      search\n    );\n  }\n}\n\nexport default withRouter<OwnProps>(Search);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { getGlobalSettingValue, Store } from '../../../../store/rootReducer';\n\ninterface StateProps {\n  customLogoUrl?: string;\n  customLogoWidth?: string | number;\n}\n\nexport function GlobalNavBranding({ customLogoUrl, customLogoWidth }: StateProps) {\n  const title = translate('layout.sonar.slogan');\n  const url = customLogoUrl || `${getBaseUrl()}/images/logo.svg?v=6.6`;\n  const width = customLogoUrl ? customLogoWidth || 100 : 83;\n\n  return (\n    <Link className=\"navbar-brand\" to=\"/\">\n      <img alt={title} height={30} src={url} title={title} width={width} />\n    </Link>\n  );\n}\n\nexport function SonarCloudNavBranding() {\n  return (\n    <GlobalNavBranding\n      customLogoUrl={`${getBaseUrl()}/images/sonarcloud-logo.svg`}\n      customLogoWidth={105}\n    />\n  );\n}\n\nconst mapStateToProps = (state: Store): StateProps => {\n  const customLogoUrl = getGlobalSettingValue(state, 'sonar.lf.logoUrl');\n  const customLogoWidth = getGlobalSettingValue(state, 'sonar.lf.logoWidthPx');\n  return {\n    customLogoUrl: customLogoUrl && customLogoUrl.value,\n    customLogoWidth: customLogoWidth && customLogoWidth.value\n  };\n};\n\nexport default connect(mapStateToProps)(GlobalNavBranding);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  location: { pathname: string };\n}\n\nexport default function GlobalNavExplore({ location }: Props) {\n  const active = location.pathname.startsWith('/explore');\n  return (\n    <li>\n      <Link\n        className={active ? 'active' : undefined}\n        to={{ pathname: '/explore/projects', query: { sort: '-analysis_date' } }}>\n        {translate('explore')}\n      </Link>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isMySet } from '../../../../apps/issues/utils';\nimport { isSonarCloud } from '../../../../helpers/system';\nimport { getQualityGatesUrl } from '../../../../helpers/urls';\nimport { isLoggedIn } from '../../../../helpers/users';\n\ninterface Props {\n  appState: Pick<T.AppState, 'canAdmin' | 'globalPages' | 'organizationsEnabled' | 'qualifiers'>;\n  currentUser: T.CurrentUser;\n  location: { pathname: string };\n}\n\nexport default class GlobalNavMenu extends React.PureComponent<Props> {\n  renderProjects() {\n    if (isSonarCloud() && !isLoggedIn(this.props.currentUser)) {\n      return null;\n    }\n\n    const active =\n      this.props.location.pathname.startsWith('/projects') &&\n      this.props.location.pathname !== '/projects/create';\n\n    return (\n      <li>\n        <Link className={classNames({ active })} to=\"/projects\">\n          {isSonarCloud() ? translate('my_projects') : translate('projects.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderPortfolios() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/portfolios\">\n          {translate('portfolios.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderIssuesLink() {\n    if (isSonarCloud() && !isLoggedIn(this.props.currentUser)) {\n      return null;\n    }\n\n    const active = this.props.location.pathname.startsWith('/issues');\n\n    if (isSonarCloud()) {\n      return (\n        <li>\n          <Link\n            className={classNames({ active })}\n            to={{ pathname: '/issues', query: { resolved: 'false' } }}>\n            {translate('my_issues')}\n          </Link>\n        </li>\n      );\n    }\n\n    const query =\n      this.props.currentUser.isLoggedIn && isMySet()\n        ? { resolved: 'false', myIssues: 'true' }\n        : { resolved: 'false' };\n    return (\n      <li>\n        <Link className={classNames({ active })} to={{ pathname: '/issues', query }}>\n          {translate('issues.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderRulesLink() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/coding_rules\">\n          {translate('coding_rules.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderProfilesLink() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/profiles\">\n          {translate('quality_profiles.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderQualityGatesLink() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to={getQualityGatesUrl()}>\n          {translate('quality_gates.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderAdministrationLink() {\n    if (!this.props.appState.canAdmin) {\n      return null;\n    }\n\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/admin\">\n          {translate('layout.settings')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderGlobalPageLink = ({ key, name }: T.Extension) => {\n    return (\n      <li key={key}>\n        <Link to={`/extension/${key}`}>{name}</Link>\n      </li>\n    );\n  };\n\n  renderMore() {\n    const { globalPages = [] } = this.props.appState;\n    const withoutPortfolios = globalPages.filter(page => page.key !== 'governance/portfolios');\n    if (withoutPortfolios.length === 0) {\n      return null;\n    }\n    return (\n      <Dropdown\n        overlay={<ul className=\"menu\">{withoutPortfolios.map(this.renderGlobalPageLink)}</ul>}\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"true\"\n            className={classNames('dropdown-toggle', { active: open })}\n            href=\"#\"\n            id=\"global-navigation-more\"\n            onClick={onToggleClick}>\n            {translate('more')}\n            <DropdownIcon className=\"little-spacer-left text-middle\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  render() {\n    const governanceInstalled = this.props.appState.qualifiers.includes('VW');\n    const { organizationsEnabled } = this.props.appState;\n\n    return (\n      <ul className=\"global-navbar-menu\">\n        {this.renderProjects()}\n        {governanceInstalled && this.renderPortfolios()}\n        {this.renderIssuesLink()}\n        {!organizationsEnabled && this.renderRulesLink()}\n        {!organizationsEnabled && this.renderProfilesLink()}\n        {!organizationsEnabled && this.renderQualityGatesLink()}\n        {this.renderAdministrationLink()}\n        {this.renderMore()}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { Router, withRouter } from '../../../../components/hoc/withRouter';\nimport Avatar from '../../../../components/ui/Avatar';\nimport OrganizationListItem from '../../../../components/ui/OrganizationListItem';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { rawSizes } from '../../../theme';\n\ninterface Props {\n  appState: { organizationsEnabled?: boolean };\n  currentUser: T.CurrentUser;\n  organizations: T.Organization[];\n  router: Pick<Router, 'push'>;\n}\n\nexport class GlobalNavUser extends React.PureComponent<Props> {\n  handleLogin = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    const shouldReturnToCurrentPage = window.location.pathname !== `${getBaseUrl()}/about`;\n    if (shouldReturnToCurrentPage) {\n      const returnTo = encodeURIComponent(window.location.pathname + window.location.search);\n      window.location.href =\n        getBaseUrl() + `/sessions/new?return_to=${returnTo}${window.location.hash}`;\n    } else {\n      window.location.href = `${getBaseUrl()}/sessions/new`;\n    }\n  };\n\n  handleLogout = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.props.router.push('/sessions/logout');\n  };\n\n  renderAuthenticated() {\n    const { organizations } = this.props;\n    const currentUser = this.props.currentUser as T.LoggedInUser;\n    const hasOrganizations = this.props.appState.organizationsEnabled && organizations.length > 0;\n    return (\n      <Dropdown\n        className=\"js-user-authenticated\"\n        overlay={\n          <ul className=\"menu\">\n            <li className=\"menu-item\">\n              <div className=\"text-ellipsis text-muted\" title={currentUser.name}>\n                <strong>{currentUser.name}</strong>\n              </div>\n              {currentUser.email != null && (\n                <div\n                  className=\"little-spacer-top text-ellipsis text-muted\"\n                  title={currentUser.email}>\n                  {currentUser.email}\n                </div>\n              )}\n            </li>\n            <li className=\"divider\" />\n            <li>\n              <Link to=\"/account\">{translate('my_account.page')}</Link>\n            </li>\n            {hasOrganizations && <li className=\"divider\" role=\"separator\" />}\n            {hasOrganizations && (\n              <li>\n                <Link to=\"/account/organizations\">{translate('my_organizations')}</Link>\n              </li>\n            )}\n            {hasOrganizations &&\n              sortBy(organizations, org => org.name.toLowerCase()).map(organization => (\n                <OrganizationListItem key={organization.key} organization={organization} />\n              ))}\n            {hasOrganizations && <li className=\"divider\" role=\"separator\" />}\n            <li>\n              <a href=\"#\" onClick={this.handleLogout}>\n                {translate('layout.logout')}\n              </a>\n            </li>\n          </ul>\n        }\n        tagName=\"li\">\n        <a className=\"dropdown-toggle navbar-avatar\" href=\"#\" title={currentUser.name}>\n          <Avatar\n            hash={currentUser.avatar}\n            name={currentUser.name}\n            size={rawSizes.globalNavContentHeightRaw}\n          />\n        </a>\n      </Dropdown>\n    );\n  }\n\n  renderAnonymous() {\n    return (\n      <li>\n        <a className=\"navbar-login\" href=\"/sessions/new\" onClick={this.handleLogin}>\n          {translate('layout.login')}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return isLoggedIn(this.props.currentUser) ? this.renderAuthenticated() : this.renderAnonymous();\n  }\n}\n\nexport default withRouter(GlobalNavUser);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { getMyOrganizations, Store } from '../../../../store/rootReducer';\nimport GlobalNavUser from './GlobalNavUser';\n\ninterface StateProps {\n  organizations: T.Organization[];\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  organizations: getMyOrganizations(state)\n});\n\nexport default connect(mapStateToProps)(GlobalNavUser);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport NavBar from 'sonar-ui-common/components/ui/NavBar';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport {\n  fetchPrismicFeatureNews,\n  fetchPrismicRefs,\n  PrismicFeatureNews\n} from '../../../../api/news';\nimport { isSonarCloud } from '../../../../helpers/system';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport {\n  getAppState,\n  getCurrentUser,\n  getCurrentUserSetting,\n  getGlobalSettingValue,\n  Store\n} from '../../../../store/rootReducer';\nimport { setCurrentUserSetting } from '../../../../store/users';\nimport { rawSizes } from '../../../theme';\nimport EmbedDocsPopupHelper from '../../embed-docs-modal/EmbedDocsPopupHelper';\nimport { OnboardingContext } from '../../OnboardingContext';\nimport Search from '../../search/Search';\nimport './GlobalNav.css';\nimport GlobalNavBranding, { SonarCloudNavBranding } from './GlobalNavBranding';\nimport GlobalNavExplore from './GlobalNavExplore';\nimport GlobalNavMenu from './GlobalNavMenu';\nimport GlobalNavUserContainer from './GlobalNavUserContainer';\n\nconst GlobalNavPlus = lazyLoad(() => import('./GlobalNavPlus'), 'GlobalNavPlus');\nconst NotificationsSidebar = lazyLoad(\n  () => import('../../notifications/NotificationsSidebar'),\n  'NotificationsSidebar'\n);\nconst NavLatestNotification = lazyLoad(\n  () => import('../../notifications/NavLatestNotification'),\n  'NavLatestNotification'\n);\n\ninterface Props {\n  accessToken?: string;\n  appState: Pick<T.AppState, 'canAdmin' | 'globalPages' | 'organizationsEnabled' | 'qualifiers'>;\n  currentUser: T.CurrentUser;\n  location: { pathname: string };\n  notificationsLastReadDate?: Date;\n  notificationsOptOut?: boolean;\n  setCurrentUserSetting: (setting: T.CurrentUserSetting) => void;\n}\n\ninterface State {\n  notificationSidebar?: boolean;\n  loadingNews: boolean;\n  loadingMoreNews: boolean;\n  news: PrismicFeatureNews[];\n  newsPaging?: T.Paging;\n  newsRef?: string;\n}\n\nconst PAGE_SIZE = 5;\n\nexport class GlobalNav extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    loadingNews: false,\n    loadingMoreNews: false,\n    news: [],\n    notificationSidebar: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    if (isSonarCloud()) {\n      this.fetchFeatureNews();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchFeatureNews = () => {\n    const { accessToken } = this.props;\n    if (accessToken) {\n      this.setState({ loadingNews: true });\n      fetchPrismicRefs()\n        .then(({ ref }) => {\n          if (this.mounted) {\n            this.setState({ newsRef: ref });\n          }\n          return ref;\n        })\n        .then(ref => fetchPrismicFeatureNews({ accessToken, ref, ps: PAGE_SIZE }))\n        .then(\n          ({ news, paging }) => {\n            if (this.mounted) {\n              this.setState({\n                loadingNews: false,\n                news,\n                newsPaging: paging\n              });\n            }\n          },\n          () => {\n            if (this.mounted) {\n              this.setState({ loadingNews: false });\n            }\n          }\n        );\n    }\n  };\n\n  fetchMoreFeatureNews = () => {\n    const { accessToken } = this.props;\n    const { newsPaging, newsRef } = this.state;\n    if (accessToken && newsPaging && newsRef) {\n      this.setState({ loadingMoreNews: true });\n      fetchPrismicFeatureNews({\n        accessToken,\n        ref: newsRef,\n        p: newsPaging.pageIndex + 1,\n        ps: PAGE_SIZE\n      }).then(\n        ({ news, paging }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              loadingMoreNews: false,\n              news: [...state.news, ...news],\n              newsPaging: paging\n            }));\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ loadingMoreNews: false });\n          }\n        }\n      );\n    }\n  };\n\n  handleOpenNotificationSidebar = () => {\n    this.setState({ notificationSidebar: true });\n    this.fetchFeatureNews();\n  };\n\n  handleCloseNotificationSidebar = () => {\n    this.setState({ notificationSidebar: false });\n    const lastNews = this.state.news[0];\n    const readDate = lastNews ? parseDate(lastNews.publicationDate).getTime() : Date.now();\n    this.props.setCurrentUserSetting({ key: 'notifications.readDate', value: readDate.toString() });\n  };\n\n  render() {\n    const { appState, currentUser } = this.props;\n    const { news } = this.state;\n    return (\n      <NavBar className=\"navbar-global\" height={rawSizes.globalNavHeightRaw} id=\"global-navigation\">\n        {isSonarCloud() ? <SonarCloudNavBranding /> : <GlobalNavBranding />}\n\n        <GlobalNavMenu {...this.props} />\n\n        <ul className=\"global-navbar-menu global-navbar-menu-right\">\n          {isSonarCloud() && isLoggedIn(currentUser) && news.length > 0 && (\n            <NavLatestNotification\n              lastNews={news[0]}\n              notificationsLastReadDate={this.props.notificationsLastReadDate}\n              notificationsOptOut={this.props.notificationsOptOut}\n              onClick={this.handleOpenNotificationSidebar}\n              setCurrentUserSetting={this.props.setCurrentUserSetting}\n            />\n          )}\n          {isSonarCloud() && <GlobalNavExplore location={this.props.location} />}\n          <EmbedDocsPopupHelper />\n          <Search appState={appState} currentUser={currentUser} />\n          {isLoggedIn(currentUser) && (\n            <OnboardingContext.Consumer data-test=\"global-nav-plus\">\n              {openProjectOnboarding => (\n                <GlobalNavPlus\n                  appState={appState}\n                  currentUser={currentUser}\n                  openProjectOnboarding={openProjectOnboarding}\n                />\n              )}\n            </OnboardingContext.Consumer>\n          )}\n          <GlobalNavUserContainer appState={appState} currentUser={currentUser} />\n        </ul>\n        {isSonarCloud() && isLoggedIn(currentUser) && this.state.notificationSidebar && (\n          <NotificationsSidebar\n            fetchMoreFeatureNews={this.fetchMoreFeatureNews}\n            loading={this.state.loadingNews}\n            loadingMore={this.state.loadingMoreNews}\n            news={news}\n            notificationsLastReadDate={this.props.notificationsLastReadDate}\n            onClose={this.handleCloseNotificationSidebar}\n            paging={this.state.newsPaging}\n          />\n        )}\n      </NavBar>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => {\n  const accessToken = getGlobalSettingValue(state, 'sonar.prismic.accessToken');\n  const notificationsLastReadDate = getCurrentUserSetting(state, 'notifications.readDate');\n  const notificationsOptOut = getCurrentUserSetting(state, 'notifications.optOut') === 'true';\n\n  return {\n    currentUser: getCurrentUser(state),\n    appState: getAppState(state),\n    accessToken: accessToken && accessToken.value,\n    notificationsLastReadDate: notificationsLastReadDate\n      ? parseDate(Number(notificationsLastReadDate))\n      : undefined,\n    notificationsOptOut\n  };\n};\n\nconst mapDispatchToProps = {\n  setCurrentUserSetting\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(GlobalNav);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as differenceInDays from 'date-fns/difference_in_days';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { parseDate, toShortNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { hasMessage } from 'sonar-ui-common/helpers/l10n';\nimport { get, save } from 'sonar-ui-common/helpers/storage';\nimport { showLicense } from '../../api/marketplace';\nimport { Location, Router, withRouter } from '../../components/hoc/withRouter';\nimport { isSonarCloud } from '../../helpers/system';\nimport { isLoggedIn } from '../../helpers/users';\nimport { getAppState, getCurrentUser, Store } from '../../store/rootReducer';\nimport { skipOnboarding } from '../../store/users';\nimport { OnboardingContext } from './OnboardingContext';\n\nconst OnboardingModal = lazyLoad(() => import('../../apps/tutorials/onboarding/OnboardingModal'));\nconst LicensePromptModal = lazyLoad(\n  () => import('../../apps/marketplace/components/LicensePromptModal'),\n  'LicensePromptModal'\n);\n\ninterface StateProps {\n  canAdmin?: boolean;\n  currentEdition?: T.EditionKey;\n  currentUser: T.CurrentUser;\n}\n\ninterface DispatchProps {\n  skipOnboarding: () => void;\n}\n\ninterface OwnProps {\n  children?: React.ReactNode;\n}\n\ninterface WithRouterProps {\n  location: Pick<Location, 'pathname'>;\n  router: Pick<Router, 'push'>;\n}\n\ntype Props = StateProps & DispatchProps & OwnProps & WithRouterProps;\n\nexport enum ModalKey {\n  license,\n  onboarding\n}\n\ninterface State {\n  modal?: ModalKey;\n}\n\nconst LICENSE_PROMPT = 'sonarqube.license.prompt';\n\nexport class StartupModal extends React.PureComponent<Props, State> {\n  state: State = {};\n\n  componentDidMount() {\n    this.tryAutoOpenLicense().catch(this.tryAutoOpenOnboarding);\n  }\n\n  closeOnboarding = () => {\n    this.setState(state => {\n      if (state.modal !== ModalKey.license) {\n        this.props.skipOnboarding();\n        return { modal: undefined };\n      }\n      return null;\n    });\n  };\n\n  closeLicense = () => {\n    this.setState(state => {\n      if (state.modal === ModalKey.license) {\n        return { modal: undefined };\n      }\n      return null;\n    });\n  };\n\n  openOnboarding = () => {\n    this.setState({ modal: ModalKey.onboarding });\n  };\n\n  openProjectOnboarding = (organization?: T.Organization) => {\n    this.setState({ modal: undefined });\n    const state: { organization?: string; tab?: string } = {};\n    if (organization) {\n      state.organization = organization.key;\n      state.tab = organization.alm ? 'auto' : 'manual';\n    }\n    this.props.router.push({ pathname: `/projects/create`, state });\n  };\n\n  tryAutoOpenLicense = () => {\n    const { canAdmin, currentEdition, currentUser } = this.props;\n    const hasLicenseManager = hasMessage('license.prompt.title');\n    const hasLicensedEdition = currentEdition && currentEdition !== 'community';\n\n    if (canAdmin && hasLicensedEdition && isLoggedIn(currentUser) && hasLicenseManager) {\n      const lastPrompt = get(LICENSE_PROMPT, currentUser.login);\n\n      if (!lastPrompt || differenceInDays(new Date(), parseDate(lastPrompt)) >= 1) {\n        return showLicense().then(license => {\n          if (!license || !license.isValidEdition) {\n            save(LICENSE_PROMPT, toShortNotSoISOString(new Date()), currentUser.login);\n            this.setState({ modal: ModalKey.license });\n            return Promise.resolve();\n          }\n          return Promise.reject();\n        });\n      }\n    }\n    return Promise.reject();\n  };\n\n  tryAutoOpenOnboarding = () => {\n    if (\n      isSonarCloud() &&\n      this.props.currentUser.showOnboardingTutorial &&\n      !['/about', '/documentation', '/onboarding', '/projects/create', '/create-organization'].some(\n        path => this.props.location.pathname.startsWith(path)\n      )\n    ) {\n      this.openOnboarding();\n    }\n  };\n\n  render() {\n    const { modal } = this.state;\n    return (\n      <OnboardingContext.Provider value={this.openProjectOnboarding}>\n        {this.props.children}\n        {modal === ModalKey.license && <LicensePromptModal onClose={this.closeLicense} />}\n        {modal === ModalKey.onboarding && (\n          <OnboardingModal\n            onClose={this.closeOnboarding}\n            onOpenProjectOnboarding={this.openProjectOnboarding}\n          />\n        )}\n      </OnboardingContext.Provider>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  canAdmin: getAppState(state).canAdmin,\n  currentEdition: getAppState(state).edition,\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { skipOnboarding };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(StartupModal));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Workspace from '../../components/workspace/Workspace';\nimport A11yProvider from './a11y/A11yProvider';\nimport A11ySkipLinks from './a11y/A11ySkipLinks';\nimport SuggestionsProvider from './embed-docs-modal/SuggestionsProvider';\nimport GlobalFooterContainer from './GlobalFooterContainer';\nimport GlobalMessagesContainer from './GlobalMessagesContainer';\nimport GlobalNav from './nav/global/GlobalNav';\nimport StartupModal from './StartupModal';\n\nexport interface Props {\n  children: React.ReactNode;\n  footer?: React.ReactNode;\n  location: { pathname: string };\n}\n\nexport default function GlobalContainer(props: Props) {\n  // it is important to pass `location` down to `GlobalNav` to trigger render on url change\n  const { footer = <GlobalFooterContainer /> } = props;\n  return (\n    <SuggestionsProvider>\n      <A11yProvider>\n        <StartupModal>\n          <A11ySkipLinks />\n\n          <div className=\"global-container\">\n            <div className=\"page-wrapper\" id=\"container\">\n              <div className=\"page-container\">\n                <Workspace>\n                  <GlobalNav location={props.location} />\n                  <GlobalMessagesContainer />\n                  {props.children}\n                </Workspace>\n              </div>\n            </div>\n            {footer}\n          </div>\n        </StartupModal>\n      </A11yProvider>\n    </SuggestionsProvider>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { memoize } from 'lodash';\nimport { stringify } from 'querystring';\nimport { cleanQuery, parseAsString, serializeString } from 'sonar-ui-common/helpers/query';\nimport { omitNil } from 'sonar-ui-common/helpers/request';\nimport { Plugin, PluginAvailable, PluginInstalled, PluginPending } from '../../api/plugins';\n\nexport enum EditionKey {\n  community = 'community',\n  developer = 'developer',\n  enterprise = 'enterprise',\n  datacenter = 'datacenter'\n}\n\nexport interface Edition {\n  downloadUrl?: string;\n  homeUrl: string;\n  key: EditionKey;\n  name: string;\n}\n\nexport interface Query {\n  filter: string;\n  search?: string;\n}\n\nexport const EDITIONS: Edition[] = [\n  {\n    key: EditionKey.community,\n    name: 'Community Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/community.html'\n  },\n  {\n    key: EditionKey.developer,\n    name: 'Developer Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/developer.html',\n    downloadUrl:\n      'https://binaries.sonarsource.com/CommercialDistribution/editions/developer-edition-7.0.0.717.zip'\n  },\n  {\n    key: EditionKey.enterprise,\n    name: 'Enterprise Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/enterprise.html',\n    downloadUrl:\n      'https://binaries.sonarsource.com/CommercialDistribution/editions/enterprise-edition-7.0.0.717.zip'\n  },\n  {\n    key: EditionKey.datacenter,\n    name: 'Data Center Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/datacenter.html',\n    downloadUrl:\n      'https://binaries.sonarsource.com/CommercialDistribution/editions/datacenter-edition-7.0.0.717.zip'\n  }\n];\n\nexport function getEditionUrl(\n  edition: Edition,\n  data: { serverId?: string; ncloc?: number; sourceEdition?: T.EditionKey }\n) {\n  let url = edition.homeUrl;\n  const query = stringify(omitNil(data));\n  if (query) {\n    url += '?' + query;\n  }\n  return url;\n}\n\nconst EXCLUDED_PLUGINS = ['license'];\nexport function filterPlugins(plugins: Plugin[], search?: string): Plugin[] {\n  if (!search) {\n    return plugins.filter(plugin => !EXCLUDED_PLUGINS.includes(plugin.key));\n  }\n\n  const s = search.toLowerCase();\n  return plugins.filter(plugin => {\n    return (\n      !EXCLUDED_PLUGINS.includes(plugin.key) &&\n      (plugin.name.toLowerCase().includes(s) ||\n        (plugin.description || '').toLowerCase().includes(s) ||\n        (plugin.category || '').toLowerCase().includes(s))\n    );\n  });\n}\n\nexport function isPluginAvailable(plugin: Plugin): plugin is PluginAvailable {\n  return (plugin as any).release !== undefined;\n}\n\nexport function isPluginInstalled(plugin: Plugin): plugin is PluginInstalled {\n  return isPluginPending(plugin) && (plugin as any).updatedAt !== undefined;\n}\n\nexport function isPluginPending(plugin: Plugin): plugin is PluginPending {\n  return (plugin as any).version !== undefined;\n}\n\nexport const DEFAULT_FILTER = 'all';\nexport const parseQuery = memoize(\n  (urlQuery: T.RawQuery): Query => ({\n    filter: parseAsString(urlQuery['filter']) || DEFAULT_FILTER,\n    search: parseAsString(urlQuery['search'])\n  })\n);\n\nexport const serializeQuery = memoize(\n  (query: Query): T.RawQuery =>\n    cleanQuery({\n      filter: query.filter === DEFAULT_FILTER ? undefined : serializeString(query.filter),\n      search: query.search ? serializeString(query.search) : undefined\n    })\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Dispatch } from 'redux';\nimport { getOrganizations } from '../../../api/organizations';\nimport { getValues } from '../../../api/settings';\nimport { receiveMyOrganizations } from '../../../store/organizations';\nimport { receiveValues } from '../../settings/store/values';\n\nexport const fetchMyOrganizations = () => (dispatch: Dispatch) => {\n  return getOrganizations({ member: true }).then(({ organizations }) => {\n    return dispatch(receiveMyOrganizations(organizations));\n  });\n};\n\nexport const fetchIfAnyoneCanCreateOrganizations = () => (dispatch: Dispatch) => {\n  return getValues({ keys: 'sonar.organizations.anyoneCanCreate' }).then(values => {\n    dispatch(receiveValues(values));\n  });\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface MetricsResponse {\n  metrics: T.Metric[];\n  p: number;\n  ps: number;\n  total: number;\n}\n\nexport function getMetrics(data?: {\n  isCustom?: boolean;\n  p?: number;\n  ps?: number;\n}): Promise<MetricsResponse> {\n  return getJSON('/api/metrics/search', data).catch(throwGlobalError);\n}\n\nexport function getAllMetrics(data?: {\n  isCustom?: boolean;\n  p?: number;\n  ps?: number;\n}): Promise<T.Metric[]> {\n  return inner(data);\n\n  function inner(\n    data: { p?: number; ps?: number } = { ps: 500 },\n    prev?: MetricsResponse\n  ): Promise<T.Metric[]> {\n    return getMetrics(data).then(r => {\n      const result = prev ? prev.metrics.concat(r.metrics) : r.metrics;\n      if (r.p * r.ps >= r.total) {\n        return result;\n      }\n      return inner({ ...data, p: r.p + 1 }, { ...r, metrics: result });\n    });\n  }\n}\n\nexport function getMetricDomains(): Promise<string[]> {\n  return getJSON('/api/metrics/domains').then(r => r.domains, throwGlobalError);\n}\n\nexport function getMetricTypes(): Promise<string[]> {\n  return getJSON('/api/metrics/types').then(r => r.types, throwGlobalError);\n}\n\nexport function createMetric(data: {\n  description?: string;\n  domain?: string;\n  key: string;\n  name: string;\n  type: string;\n}): Promise<T.Metric> {\n  return postJSON('/api/metrics/create', data).catch(throwGlobalError);\n}\n\nexport function updateMetric(data: {\n  description?: string;\n  domain?: string;\n  id: string;\n  key?: string;\n  name?: string;\n  type?: string;\n}) {\n  return post('/api/metrics/update', data).catch(throwGlobalError);\n}\n\nexport function deleteMetric(data: { keys: string }) {\n  return post('/api/metrics/delete', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\n\nexport interface ComponentDescriptor {\n  branchLike: T.BranchLike | undefined;\n  key: string;\n  line?: number;\n  name?: string;\n  qualifier?: string;\n}\n\nexport interface RuleDescriptor {\n  key: string;\n  name?: string;\n  organization: string;\n}\n\nexport interface WorkspaceContextShape {\n  openComponent: (component: ComponentDescriptor) => void;\n  openRule: (rule: RuleDescriptor) => void;\n}\n\nexport const WorkspaceContext = createContext<WorkspaceContextShape>({\n  openComponent: () => {},\n  openRule: () => {}\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\n\ninterface Props {\n  children?: React.ReactNode;\n  organization: { key: string };\n  [x: string]: any;\n}\n\nexport default function OrganizationLink(props: Props) {\n  const { children, organization, ...other } = props;\n\n  return (\n    <Link to={`/organizations/${organization.key}`} {...other}>\n      {children}\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { flatten, sortBy } from 'lodash';\nimport { ISSUE_TYPES } from './constants';\n\ninterface Comment {\n  login: string;\n  [x: string]: any;\n}\n\ninterface Rule {}\n\ninterface Component {\n  key: string;\n  name: string;\n}\n\ninterface IssueBase {\n  severity: string;\n  [x: string]: any;\n}\n\nexport interface RawIssue extends IssueBase {\n  assignee?: string;\n  author?: string;\n  comments?: Array<Comment>;\n  component: string;\n  flows?: Array<{\n    // `componentName` is not available in RawIssue\n    locations?: Array<T.Omit<T.FlowLocation, 'componentName'>>;\n  }>;\n  key: string;\n  line?: number;\n  project: string;\n  rule: string;\n  status: string;\n  subProject?: string;\n  textRange?: T.TextRange;\n}\n\nexport function sortByType(issues: T.Issue[]): T.Issue[] {\n  return sortBy(issues, issue => ISSUE_TYPES.indexOf(issue.type));\n}\n\nfunction injectRelational(\n  issue: T.Dict<any>,\n  source: any[] | undefined,\n  baseField: string,\n  lookupField: string\n) {\n  const newFields: T.Dict<any> = {};\n  const baseValue = issue[baseField];\n  if (baseValue !== undefined && source !== undefined) {\n    const lookupValue = source.find(candidate => candidate[lookupField] === baseValue);\n    if (lookupValue != null) {\n      Object.keys(lookupValue).forEach(key => {\n        const newKey = baseField + key.charAt(0).toUpperCase() + key.slice(1);\n        newFields[newKey] = lookupValue[key];\n      });\n    }\n  }\n  return newFields;\n}\n\nfunction injectCommentsRelational(issue: RawIssue, users?: T.UserBase[]) {\n  if (!issue.comments) {\n    return {};\n  }\n  const comments = issue.comments.map(comment => {\n    const commentWithAuthor = { ...comment, author: comment.login, login: undefined };\n    return {\n      ...commentWithAuthor,\n      ...injectRelational(commentWithAuthor, users, 'author', 'login')\n    };\n  });\n  return { comments };\n}\n\nfunction prepareClosed(\n  issue: RawIssue,\n  secondaryLocations: T.FlowLocation[],\n  flows: T.FlowLocation[][]\n) {\n  return issue.status === 'CLOSED'\n    ? { flows: [], line: undefined, textRange: undefined, secondaryLocations: [] }\n    : { flows, secondaryLocations };\n}\n\nfunction ensureTextRange(issue: RawIssue): { textRange?: T.TextRange } {\n  return issue.line && !issue.textRange\n    ? {\n        textRange: {\n          startLine: issue.line,\n          endLine: issue.line,\n          startOffset: 0,\n          endOffset: 999999\n        }\n      }\n    : {};\n}\n\nfunction reverseLocations(locations: T.FlowLocation[]): T.FlowLocation[] {\n  const x = [...locations];\n  x.reverse();\n  return x;\n}\n\nfunction splitFlows(\n  issue: RawIssue,\n  components: Component[] = []\n): { secondaryLocations: T.FlowLocation[]; flows: T.FlowLocation[][] } {\n  const parsedFlows: T.FlowLocation[][] = (issue.flows || [])\n    .filter(flow => flow.locations !== undefined)\n    .map(flow => flow.locations!.filter(location => location.textRange != null))\n    .map(flow =>\n      flow.map(location => {\n        const component = components.find(component => component.key === location.component);\n        return { ...location, componentName: component && component.name };\n      })\n    );\n\n  const onlySecondaryLocations = parsedFlows.every(flow => flow.length === 1);\n\n  return onlySecondaryLocations\n    ? { secondaryLocations: orderLocations(flatten(parsedFlows)), flows: [] }\n    : { secondaryLocations: [], flows: parsedFlows.map(reverseLocations) };\n}\n\nfunction orderLocations(locations: T.FlowLocation[]) {\n  return sortBy(\n    locations,\n    location => location.textRange && location.textRange.startLine,\n    location => location.textRange && location.textRange.startOffset\n  );\n}\n\nexport function parseIssueFromResponse(\n  issue: RawIssue,\n  components?: Component[],\n  users?: T.UserBase[],\n  rules?: Rule[]\n): T.Issue {\n  const { secondaryLocations, flows } = splitFlows(issue, components);\n  return {\n    ...issue,\n    ...injectRelational(issue, components, 'component', 'key'),\n    ...injectRelational(issue, components, 'project', 'key'),\n    ...injectRelational(issue, components, 'subProject', 'key'),\n    ...injectRelational(issue, rules, 'rule', 'key'),\n    ...injectRelational(issue, users, 'assignee', 'login'),\n    ...injectCommentsRelational(issue, users),\n    ...prepareClosed(issue, secondaryLocations, flows),\n    ...ensureTextRange(issue)\n  } as T.Issue;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\n\nexport type OnboardingContextShape = (organization?: T.Organization) => void;\n\nexport const OnboardingContext = createContext<OnboardingContextShape>(() => {});\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { get, remove, save } from 'sonar-ui-common/helpers/storage';\n\nconst RECENT_HISTORY = 'sonar_recent_history';\nconst HISTORY_LIMIT = 10;\n\nexport type History = Array<{\n  key: string;\n  name: string;\n  icon: string;\n  organization?: string;\n}>;\n\nexport default class RecentHistory {\n  static get(): History {\n    const history = get(RECENT_HISTORY);\n    if (history == null) {\n      return [];\n    } else {\n      try {\n        return JSON.parse(history);\n      } catch {\n        remove(RECENT_HISTORY);\n        return [];\n      }\n    }\n  }\n\n  static set(newHistory: History) {\n    save(RECENT_HISTORY, JSON.stringify(newHistory));\n  }\n\n  static clear() {\n    remove(RECENT_HISTORY);\n  }\n\n  static add(\n    componentKey: string,\n    componentName: string,\n    icon: string,\n    organization: string | undefined\n  ) {\n    const sonarHistory = RecentHistory.get();\n    const newEntry = { key: componentKey, name: componentName, icon, organization };\n    let newHistory = sonarHistory.filter(entry => entry.key !== newEntry.key);\n    newHistory.unshift(newEntry);\n    newHistory = newHistory.slice(0, HISTORY_LIMIT);\n    RecentHistory.set(newHistory);\n  }\n\n  static remove(componentKey: string) {\n    const history = RecentHistory.get();\n    const newHistory = history.filter(entry => entry.key !== componentKey);\n    RecentHistory.set(newHistory);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { Action as AppStateAction, Actions as AppStateActions } from '../../../store/appState';\nimport { ActionType } from '../../../store/utils/actions';\n\nenum Actions {\n  receiveValues = 'RECEIVE_VALUES'\n}\n\ntype Action = ActionType<typeof receiveValues, Actions.receiveValues>;\n\ntype SettingsState = T.Dict<T.SettingValue>;\n\nexport interface State {\n  components: T.Dict<SettingsState>;\n  global: SettingsState;\n}\n\nexport function receiveValues(\n  settings: Array<{ key: string; value?: string }>,\n  component?: string\n) {\n  return { type: Actions.receiveValues, settings, component };\n}\n\nfunction components(state: State['components'] = {}, action: Action) {\n  const { component: key } = action;\n  if (!key) {\n    return state;\n  }\n  if (action.type === Actions.receiveValues) {\n    const settingsByKey = keyBy(action.settings, 'key');\n    return { ...state, [key]: { ...(state[key] || {}), ...settingsByKey } };\n  }\n  return state;\n}\n\nfunction global(state: State['components'] = {}, action: Action | AppStateAction) {\n  if (action.type === Actions.receiveValues) {\n    if (action.component) {\n      return state;\n    }\n    const settingsByKey = keyBy(action.settings, 'key');\n    return { ...state, ...settingsByKey };\n  }\n  if (action.type === AppStateActions.SetAppState) {\n    const settingsByKey: SettingsState = {};\n    Object.keys(action.appState.settings).forEach(\n      key => (settingsByKey[key] = { key, value: action.appState.settings[key] })\n    );\n    return { ...state, ...settingsByKey };\n  }\n  return state;\n}\n\nexport default combineReducers({ components, global });\n\nexport function getValue(\n  state: State,\n  key: string,\n  component?: string\n): T.SettingValue | undefined {\n  if (component) {\n    return state.components[component] && state.components[component][key];\n  }\n  return state.global[key];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { areThereCustomOrganizations, getCurrentUser, Store } from '../../../store/rootReducer';\n\nconst stateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state),\n  organizationsEnabled: areThereCustomOrganizations(state)\n});\n\nexport default connect(stateToProps)(lazyLoad(() => import('./AllProjects')));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport {\n  cleanQuery,\n  parseAsArray,\n  parseAsDate,\n  parseAsOptionalBoolean,\n  parseAsOptionalString,\n  parseAsString,\n  queriesEqual,\n  serializeDateShort,\n  serializeOptionalBoolean,\n  serializeString,\n  serializeStringArray\n} from 'sonar-ui-common/helpers/query';\n\nexport interface Query {\n  activation: boolean | undefined;\n  activationSeverities: string[];\n  availableSince: Date | undefined;\n  compareToProfile: string | undefined;\n  cwe: string[];\n  inheritance: T.RuleInheritance | undefined;\n  languages: string[];\n  owaspTop10: string[];\n  profile: string | undefined;\n  repositories: string[];\n  ruleKey: string | undefined;\n  sansTop25: string[];\n  searchQuery: string | undefined;\n  severities: string[];\n  sonarsourceSecurity: string[];\n  statuses: string[];\n  tags: string[];\n  template: boolean | undefined;\n  types: string[];\n}\n\nexport type FacetKey = keyof Query;\n\nexport interface Facet {\n  [value: string]: number;\n}\n\nexport type Facets = { [F in FacetKey]?: Facet };\n\nexport type OpenFacets = T.Dict<boolean>;\n\nexport interface Activation {\n  inherit: T.RuleInheritance;\n  severity: string;\n}\n\nexport interface Actives {\n  [rule: string]: {\n    [profile: string]: Activation;\n  };\n}\n\nexport function parseQuery(query: T.RawQuery): Query {\n  return {\n    activation: parseAsOptionalBoolean(query.activation),\n    activationSeverities: parseAsArray(query.active_severities, parseAsString),\n    availableSince: parseAsDate(query.available_since),\n    compareToProfile: parseAsOptionalString(query.compareToProfile),\n    cwe: parseAsArray(query.cwe, parseAsString),\n    inheritance: parseAsInheritance(query.inheritance),\n    languages: parseAsArray(query.languages, parseAsString),\n    owaspTop10: parseAsArray(query.owaspTop10, parseAsString),\n    profile: parseAsOptionalString(query.qprofile),\n    repositories: parseAsArray(query.repositories, parseAsString),\n    ruleKey: parseAsOptionalString(query.rule_key),\n    sansTop25: parseAsArray(query.sansTop25, parseAsString),\n    searchQuery: parseAsOptionalString(query.q),\n    severities: parseAsArray(query.severities, parseAsString),\n    sonarsourceSecurity: parseAsArray(query.sonarsourceSecurity, parseAsString),\n    statuses: parseAsArray(query.statuses, parseAsString),\n    tags: parseAsArray(query.tags, parseAsString),\n    template: parseAsOptionalBoolean(query.is_template),\n    types: parseAsArray(query.types, parseAsString)\n  };\n}\n\nexport function serializeQuery(query: Query): T.RawQuery {\n  return cleanQuery({\n    activation: serializeOptionalBoolean(query.activation),\n    active_severities: serializeStringArray(query.activationSeverities),\n    available_since: serializeDateShort(query.availableSince),\n    compareToProfile: serializeString(query.compareToProfile),\n    cwe: serializeStringArray(query.cwe),\n    inheritance: serializeInheritance(query.inheritance),\n    is_template: serializeOptionalBoolean(query.template),\n    languages: serializeStringArray(query.languages),\n    owaspTop10: serializeStringArray(query.owaspTop10),\n    q: serializeString(query.searchQuery),\n    qprofile: serializeString(query.profile),\n    repositories: serializeStringArray(query.repositories),\n    rule_key: serializeString(query.ruleKey),\n    sansTop25: serializeStringArray(query.sansTop25),\n    severities: serializeStringArray(query.severities),\n    sonarsourceSecurity: serializeStringArray(query.sonarsourceSecurity),\n    statuses: serializeStringArray(query.statuses),\n    tags: serializeStringArray(query.tags),\n    types: serializeStringArray(query.types)\n  });\n}\n\nexport function areQueriesEqual(a: T.RawQuery, b: T.RawQuery) {\n  return queriesEqual(parseQuery(a), parseQuery(b));\n}\n\nexport function shouldRequestFacet(facet: string): facet is FacetKey {\n  const facetsToRequest = [\n    'activationSeverities',\n    'cwe',\n    'languages',\n    'owaspTop10',\n    'repositories',\n    'sansTop25',\n    'severities',\n    'sonarsourceSecurity',\n    'standard',\n    'statuses',\n    'tags',\n    'types'\n  ];\n  return facetsToRequest.includes(facet);\n}\n\nexport function getServerFacet(facet: FacetKey) {\n  return facet === 'activationSeverities' ? 'active_severities' : facet;\n}\n\nexport function getAppFacet(serverFacet: string): FacetKey {\n  return serverFacet === 'active_severities' ? 'activationSeverities' : (serverFacet as FacetKey);\n}\n\nexport function getOpen(query: T.RawQuery) {\n  return query.open;\n}\n\nfunction parseAsInheritance(value?: string): T.RuleInheritance | undefined {\n  if (value === 'INHERITED' || value === 'NONE' || value === 'OVERRIDES') {\n    return value;\n  } else {\n    return undefined;\n  }\n}\n\nfunction serializeInheritance(value: T.RuleInheritance | undefined): string | undefined {\n  return value;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { searchIssues } from '../../../api/issues';\nimport { getOrganizations } from '../../../api/organizations';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport { parseIssueFromResponse } from '../../../helpers/issues';\nimport { receiveOrganizations } from '../../../store/organizations';\nimport {\n  areThereCustomOrganizations,\n  getCurrentUser,\n  getMyOrganizations,\n  Store\n} from '../../../store/rootReducer';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n  userOrganizations: T.Organization[];\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state),\n  userOrganizations: getMyOrganizations(state)\n});\n\nconst fetchIssueOrganizations = (organizationKeys: string[]) => (dispatch: Dispatch) => {\n  if (!organizationKeys.length) {\n    return Promise.resolve();\n  }\n\n  return getOrganizations({ organizations: organizationKeys.join() }).then(\n    response => dispatch(receiveOrganizations(response.organizations)),\n    throwGlobalError\n  );\n};\n\nconst fetchIssues = (query: T.RawQuery, requestOrganizations = true) => (\n  // use `Function` to be able to do `dispatch(...).then(...)`\n  dispatch: Function,\n  getState: () => Store\n) => {\n  const organizationsEnabled = areThereCustomOrganizations(getState());\n  return searchIssues({ ...query, additionalFields: '_all' })\n    .then(response => {\n      const parsedIssues = response.issues.map(issue =>\n        parseIssueFromResponse(issue, response.components, response.users, response.rules)\n      );\n      return { ...response, issues: parsedIssues };\n    })\n    .then(response => {\n      const organizationKeys = uniq([\n        ...response.issues.map(issue => issue.organization),\n        ...(response.components || []).map(component => component.organization)\n      ]);\n      return organizationsEnabled && requestOrganizations\n        ? dispatch(fetchIssueOrganizations(organizationKeys)).then(() => response)\n        : response;\n    })\n    .catch(throwGlobalError);\n};\n\ninterface DispatchProps {\n  fetchIssues: (query: T.RawQuery, requestOrganizations?: boolean) => Promise<void>;\n}\n\n// have to type cast this, because of async action\nconst mapDispatchToProps = { fetchIssues: fetchIssues as any } as DispatchProps;\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(lazyLoad(() => import('./App'), 'IssuesAppContainer'));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { ActionType } from '../../../store/utils/actions';\n\nconst enum Actions {\n  CancelChange = 'settingsPage/CANCEL_CHANGE',\n  ChangeValue = 'settingsPage/CHANGE_VALUE',\n  FailValidation = 'settingsPage/FAIL_VALIDATION',\n  PassValidation = 'settingsPage/PASS_VALIDATION',\n  StartLoading = 'settingsPage/START_LOADING',\n  StopLoading = 'settingsPage/STOP_LOADING'\n}\n\ntype Action =\n  | ActionType<typeof cancelChange, Actions.CancelChange>\n  | ActionType<typeof changeValue, Actions.ChangeValue>\n  | ActionType<typeof failValidation, Actions.FailValidation>\n  | ActionType<typeof passValidation, Actions.PassValidation>\n  | ActionType<typeof startLoading, Actions.StartLoading>\n  | ActionType<typeof stopLoading, Actions.StopLoading>;\n\nexport interface State {\n  changedValues: T.Dict<any>;\n  loading: T.Dict<boolean>;\n  validationMessages: T.Dict<string>;\n}\n\nexport function cancelChange(key: string) {\n  return { type: Actions.CancelChange, key };\n}\n\nexport function changeValue(key: string, value: any) {\n  return { type: Actions.ChangeValue, key, value };\n}\n\nfunction changedValues(state: State['changedValues'] = {}, action: Action) {\n  if (action.type === Actions.ChangeValue) {\n    return { ...state, [action.key]: action.value };\n  }\n  if (action.type === Actions.CancelChange) {\n    return omit(state, action.key);\n  }\n  return state;\n}\n\nexport function failValidation(key: string, message: string) {\n  return { type: Actions.FailValidation, key, message };\n}\n\nexport function passValidation(key: string) {\n  return { type: Actions.PassValidation, key };\n}\n\nfunction validationMessages(state: State['validationMessages'] = {}, action: Action) {\n  if (action.type === Actions.FailValidation) {\n    return { ...state, [action.key]: action.message };\n  }\n  if (action.type === Actions.PassValidation) {\n    return omit(state, action.key);\n  }\n  return state;\n}\n\nexport function startLoading(key: string) {\n  return { type: Actions.StartLoading, key };\n}\n\nexport function stopLoading(key: string) {\n  return { type: Actions.StopLoading, key };\n}\n\nfunction loading(state: State['loading'] = {}, action: Action) {\n  if (action.type === Actions.StartLoading) {\n    return { ...state, [action.key]: true };\n  }\n  if (action.type === Actions.StopLoading) {\n    return { ...state, [action.key]: false };\n  }\n  return state;\n}\n\nexport default combineReducers({ changedValues, loading, validationMessages });\n\nexport function getChangedValue(state: State, key: string) {\n  return state.changedValues[key];\n}\n\nexport function getValidationMessage(state: State, key: string): string | undefined {\n  return state.validationMessages[key];\n}\n\nexport function isLoading(state: State, key: string) {\n  return Boolean(state.loading[key]);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy } from 'lodash';\nimport { ActionType } from './utils/actions';\n\nexport function receiveLanguages(languages: Array<{ key: string; name: string }>) {\n  return { type: 'RECEIVE_LANGUAGES', languages };\n}\n\ntype Action = ActionType<typeof receiveLanguages, 'RECEIVE_LANGUAGES'>;\n\nexport default function(state: T.Languages = {}, action: Action): T.Languages {\n  if (action.type === 'RECEIVE_LANGUAGES') {\n    return keyBy(action.languages, 'key');\n  }\n\n  return state;\n}\n\nexport function getLanguages(state: T.Languages) {\n  return state;\n}\n\nexport function getLanguageByKey(state: T.Languages, key: string) {\n  return state[key];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport default function getCoverageStatus(s: T.SourceLine): T.SourceLineCoverageStatus | undefined {\n  let status: T.SourceLineCoverageStatus | undefined;\n  if (s.lineHits != null && s.lineHits > 0) {\n    status = 'partially-covered';\n  }\n  if (s.lineHits != null && s.lineHits > 0 && s.conditions === s.coveredConditions) {\n    status = 'covered';\n  }\n  if (s.lineHits === 0 || s.coveredConditions === 0) {\n    status = 'uncovered';\n  }\n  return status;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { VISUALIZATIONS } from './utils';\n\ntype Level = 'ERROR' | 'WARN' | 'OK';\n\nexport interface Query {\n  gate?: Level;\n  reliability?: number;\n  new_reliability?: number;\n  security?: number;\n  new_security?: number;\n  maintainability?: number;\n  new_maintainability?: number;\n  coverage?: number;\n  new_coverage?: number;\n  duplications?: number;\n  new_duplications?: number;\n  size?: number;\n  new_lines?: number;\n  languages?: string[];\n  tags?: string[];\n  search?: string;\n  sort?: string;\n  view?: string;\n  visualization?: string;\n  [x: string]: string | number | string[] | undefined;\n}\n\nexport function parseUrlQuery(urlQuery: T.RawQuery): Query {\n  return {\n    gate: getAsLevel(urlQuery['gate']),\n    reliability: getAsNumericRating(urlQuery['reliability']),\n    new_reliability: getAsNumericRating(urlQuery['new_reliability']),\n    security: getAsNumericRating(urlQuery['security']),\n    new_security: getAsNumericRating(urlQuery['new_security']),\n    maintainability: getAsNumericRating(urlQuery['maintainability']),\n    new_maintainability: getAsNumericRating(urlQuery['new_maintainability']),\n    coverage: getAsNumericRating(urlQuery['coverage']),\n    new_coverage: getAsNumericRating(urlQuery['new_coverage']),\n    duplications: getAsNumericRating(urlQuery['duplications']),\n    new_duplications: getAsNumericRating(urlQuery['new_duplications']),\n    size: getAsNumericRating(urlQuery['size']),\n    new_lines: getAsNumericRating(urlQuery['new_lines']),\n    languages: getAsStringArray(urlQuery['languages']),\n    tags: getAsStringArray(urlQuery['tags']),\n    search: getAsString(urlQuery['search']),\n    sort: getAsString(urlQuery['sort']),\n    view: getView(urlQuery['view']),\n    visualization: getVisualization(urlQuery['visualization'])\n  };\n}\n\nexport function convertToFilter(query: Query, isFavorite: boolean): string {\n  const conditions: string[] = [];\n\n  if (isFavorite) {\n    conditions.push('isFavorite');\n  }\n\n  if (query['gate'] != null) {\n    conditions.push(mapPropertyToMetric('gate') + ' = ' + query['gate']);\n  }\n\n  ['coverage', 'new_coverage'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertCoverage)\n  );\n\n  ['duplications', 'new_duplications'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertDuplications)\n  );\n\n  ['size', 'new_lines'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertSize)\n  );\n\n  [\n    'reliability',\n    'security',\n    'maintainability',\n    'new_reliability',\n    'new_security',\n    'new_maintainability'\n  ].forEach(property => pushMetricToArray(query, property, conditions, convertIssuesRating));\n\n  ['languages', 'tags'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertArrayMetric)\n  );\n\n  if (query['search'] != null) {\n    conditions.push(`${mapPropertyToMetric('search')} = \"${query['search']}\"`);\n  }\n\n  return conditions.join(' and ');\n}\n\nconst visualizationParams = ['sort', 'view', 'visualization'];\n\nexport function hasFilterParams(query: Query) {\n  return Object.keys(query)\n    .filter(key => !visualizationParams.includes(key))\n    .some(key => query[key] !== undefined);\n}\n\nexport function hasVisualizationParams(query: Query) {\n  return Object.keys(query)\n    .filter(key => visualizationParams.includes(key))\n    .some(key => query[key] !== undefined);\n}\n\nfunction getAsNumericRating(value: any): number | undefined {\n  if (value === '' || value == null || isNaN(value)) {\n    return undefined;\n  }\n  const num = Number(value);\n  return num > 0 && num < 7 ? num : undefined;\n}\n\nfunction getAsLevel(value: any): Level | undefined {\n  if (value === 'ERROR' || value === 'WARN' || value === 'OK') {\n    return value;\n  }\n  return undefined;\n}\n\nfunction getAsString(value: any): string | undefined {\n  if (typeof value !== 'string' || !value) {\n    return undefined;\n  }\n  return value;\n}\n\nfunction getAsStringArray(value: any): string[] | undefined {\n  if (typeof value !== 'string' || !value) {\n    return undefined;\n  }\n  return value.split(',');\n}\n\nfunction getView(value: any): string | undefined {\n  return typeof value !== 'string' || value === 'overall' ? undefined : value;\n}\n\nfunction getVisualization(value: string): string | undefined {\n  return VISUALIZATIONS.includes(value) ? value : undefined;\n}\n\nfunction convertIssuesRating(metric: string, rating: number): string {\n  if (rating > 1 && rating < 5) {\n    return `${metric} >= ${rating}`;\n  } else {\n    return `${metric} = ${rating}`;\n  }\n}\n\nfunction convertCoverage(metric: string, coverage: number): string {\n  switch (coverage) {\n    case 1:\n      return metric + ' >= 80';\n    case 2:\n      return metric + ' < 80';\n    case 3:\n      return metric + ' < 70';\n    case 4:\n      return metric + ' < 50';\n    case 5:\n      return metric + ' < 30';\n    case 6:\n      return metric + '= NO_DATA';\n    default:\n      return '';\n  }\n}\n\nfunction convertDuplications(metric: string, duplications: number): string {\n  switch (duplications) {\n    case 1:\n      return metric + ' < 3';\n    case 2:\n      return metric + ' >= 3';\n    case 3:\n      return metric + ' >= 5';\n    case 4:\n      return metric + ' >= 10';\n    case 5:\n      return metric + ' >= 20';\n    case 6:\n      return metric + '= NO_DATA';\n    default:\n      return '';\n  }\n}\n\nfunction convertSize(metric: string, size: number): string {\n  switch (size) {\n    case 1:\n      return metric + ' < 1000';\n    case 2:\n      return metric + ' >= 1000';\n    case 3:\n      return metric + ' >= 10000';\n    case 4:\n      return metric + ' >= 100000';\n    case 5:\n      return metric + ' >= 500000';\n    default:\n      return '';\n  }\n}\n\nfunction mapPropertyToMetric(property?: string): string | undefined {\n  const map: T.Dict<string> = {\n    analysis_date: 'analysisDate',\n    reliability: 'reliability_rating',\n    new_reliability: 'new_reliability_rating',\n    security: 'security_rating',\n    new_security: 'new_security_rating',\n    maintainability: 'sqale_rating',\n    new_maintainability: 'new_maintainability_rating',\n    coverage: 'coverage',\n    new_coverage: 'new_coverage',\n    duplications: 'duplicated_lines_density',\n    new_duplications: 'new_duplicated_lines_density',\n    size: 'ncloc',\n    new_lines: 'new_lines',\n    gate: 'alert_status',\n    languages: 'languages',\n    tags: 'tags',\n    search: 'query'\n  };\n  return property && map[property];\n}\n\nfunction pushMetricToArray(\n  query: Query,\n  property: string,\n  conditionsArray: string[],\n  convertFunction: (metric: string, value: any) => string\n): void {\n  const metric = mapPropertyToMetric(property);\n  if (query[property] != null && metric) {\n    conditionsArray.push(convertFunction(metric, query[property]));\n  }\n}\n\nfunction convertArrayMetric(metric: string, items: string | string[]): string {\n  if (!Array.isArray(items) || items.length < 2) {\n    return metric + ' = ' + items;\n  }\n  return `${metric} IN (${items.join(', ')})`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport GlobalMessages from 'sonar-ui-common/components/controls/GlobalMessages';\nimport { closeGlobalMessage } from '../../store/globalMessages';\nimport { getGlobalMessages, Store } from '../../store/rootReducer';\n\nconst mapStateToProps = (state: Store) => ({\n  messages: getGlobalMessages(state)\n});\n\nconst mapDispatchToProps = { closeGlobalMessage };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(GlobalMessages);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport OrganizationAvatar from '../common/OrganizationAvatar';\nimport OrganizationLink from './OrganizationLink';\n\ninterface Props {\n  organization: T.Organization;\n}\n\nexport default function OrganizationListItem({ organization }: Props) {\n  const { actions = {} } = organization;\n  return (\n    <li>\n      <OrganizationLink className=\"display-flex-center\" organization={organization}>\n        <div>\n          <OrganizationAvatar organization={organization} small={true} />\n          <span className=\"spacer-left\">{organization.name}</span>\n        </div>\n        {actions.admin && <span className=\"badge spacer-left\">{translate('admin')}</span>}\n      </OrganizationLink>\n    </li>\n  );\n}\n"],"sourceRoot":""}